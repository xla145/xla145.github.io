{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[],"Cache":[{"_id":"source/_posts/Java-é›†åˆ.md","hash":"42f137571567e64002772f9af7db4906099aecaf","modified":1563079044657},{"_id":"source/_posts/JAVA-8çš„æ–°ç‰¹æ€§-1.md","hash":"48e3520e8266fed96fafccbd657d5158d4e59501","modified":1563073886952},{"_id":"source/_posts/Java-åŠ¨æ€ä»£ç†ä¸ºå•¥éœ€è¦æ¥å£ï¼Ÿï¼Ÿï¼Ÿ.md","hash":"26b3aa590840c32a31a87f065f61b9c11adad04c","modified":1563073886954},{"_id":"source/_posts/JAVA-ç¬”è®°.md","hash":"14cf1f0e368cd70928e7ef8f701adc84669ea72c","modified":1563073886953},{"_id":"source/_posts/Linuxä¸‹é¡¹ç›®è‡ªåŠ¨éƒ¨ç½²è„šæœ¬.md","hash":"588756e82b1aac79bd04077e442903195e8425b6","modified":1563073886954},{"_id":"source/_posts/ModelAttribute-å¯¹è±¡æ²¡æœ‰æ— å‚çš„æ„é€ å‡½æ•°å‡ºé”™è¯¦è§£-1.md","hash":"77c746be4c3d39887a0031a05f69ec6311e308ba","modified":1563077804469},{"_id":"source/_posts/cookie-å’Œ-session-çš„åŒºåˆ«.md","hash":"39109b579b2e037d55edcfe21715718749799dbb","modified":1563073886957},{"_id":"source/_posts/dubbo-å­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰.md","hash":"446bd85ce9c50dfdcd5cae9c05349fae42caafbc","modified":1563077804408},{"_id":"source/_posts/get-è¯·æ±‚ä¸­æ–‡ä¹±ç é—®é¢˜.md","hash":"6c23a5039e06b93fdfb149d6c33e8f25deee5c4f","modified":1563073886961},{"_id":"source/_posts/gitLab-æ­å»º.md","hash":"ea3766e536fcbe786f9d88a1841e1815437c873b","modified":1563073886961},{"_id":"source/_posts/markdownçš„ä½¿ç”¨ç¬”è®°.md","hash":"67d34313149b5d3d0ea59e9adc8e9322b7cc3f67","modified":1563080975732},{"_id":"source/_posts/jså®ç°ç²˜è´´æ¿åŠŸèƒ½.md","hash":"c3443bcfe20a5feaf52453b8924d9226e87246fa","modified":1563073886962},{"_id":"source/_posts/java-åå°„ç¬”è®°.md","hash":"780f5d2877b600836135db314df46ba82732408a","modified":1563073886962},{"_id":"source/_posts/shiro-ç¬”è®°ï¼ˆä¸€ï¼‰.md","hash":"c48b715ea69e9a3932bc72a7dedde5531d40e863","modified":1563073886977},{"_id":"source/_posts/mybatis-å­¦ä¹ .md","hash":"91b5a93e09f5773d7d40a174dcca2df0c3780394","modified":1563075435749},{"_id":"source/_posts/spring-boot-å¦‚ä½•åˆ›å»ºå’Œä½¿ç”¨freemakerè‡ªå®šä¹‰æ ‡ç­¾.md","hash":"57b906265bc3f0e3a0bbe22dbca62656a194c51c","modified":1563073886977},{"_id":"source/_posts/spring boot å­¦ä¹ ç¬”è®°.md","hash":"86dcff09cae7e467db6e49d8257906c894719cec","modified":1563073886977},{"_id":"source/_posts/spring-mvc-RequestBody-å’Œ-RequestParam-æ¯”è¾ƒ.md","hash":"d498482624c039bab265d38f1d9b2f0b434bb2d9","modified":1563073886978},{"_id":"source/_posts/äº†è§£Javaä¸­çš„ä»£ç†.md","hash":"f0213b6eb034d795b7ec56e78a30298c623e33a3","modified":1563073886978},{"_id":"source/_posts/spring-beançš„ä½œç”¨åŸŸ.md","hash":"038bd9d2aabf2a10847d3f7763652f5f0f2f073c","modified":1563079044705},{"_id":"source/_posts/å…³äºexecuteUpdateæ–¹æ³•è¿”å›çš„å€¼é—®é¢˜.md","hash":"47228cb19c4cbab667ce24e7858ab62c3cf2c82e","modified":1563073886979},{"_id":"source/_posts/å…³äºVolatileçš„é‚£ç‚¹äº‹.md","hash":"fb301e6644d2f30bf5d6ee6a2f911e1960451c38","modified":1563078498393},{"_id":"source/_posts/åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯.md","hash":"8855336bc4e7334c249fc766c9a53a6d50691a0d","modified":1563073886979},{"_id":"source/_posts/jvm-é¢è¯•é—®é¢˜æ€»ç»“-ä¸€.md","hash":"b35912c535185bc3f4d999eb7ddf3750746405e8","modified":1563077804345},{"_id":"source/_posts/ä½¿ç”¨iframeé‡åˆ°çš„é—®é¢˜.md","hash":"18f425b57891bcb4c6c43cd332fceaad92a23df6","modified":1563078856891},{"_id":"source/_posts/çƒˆç«å†›æ ¡.md","hash":"fbeb5b8e414a4d11ae92c4376ebec035ea9b48ee","modified":1586061984985},{"_id":"source/_posts/ç†è§£-linux-cpu-è´Ÿè½½.md","hash":"31f1a3fee9c58c22a1eca8a3c5eeb2c780a3c740","modified":1563077804438},{"_id":"source/404/index.html","hash":"75f79c7a9f1072300986dc8b56e6cca36b2b7646","modified":1585987443424},{"_id":"source/about/index.md","hash":"4eced9ed1b425e5060050d28819318140e177862","modified":1585980240423},{"_id":"source/archives/index.md","hash":"03861cccba634479b0937738be068e1d5551c044","modified":1563073886982},{"_id":"source/tags/index.md","hash":"0ef4b65393ece6745631b6d1caa65bea1bb9450f","modified":1563073886982},{"_id":"source/_posts/å¦‚ä½•ä½¿ç”¨flatMap.md","hash":"a275df77b1610360e730204b50d986b993a23318","modified":1563079044748},{"_id":"source/_posts/å·¥å…·ç½‘ç«™.md","hash":"121b6060fc2aeb281bfdfd1a4d2dd23c8de51cbb","modified":1578987863868},{"_id":"source/_posts/mysql-Linuxä¸‹ç¦»çº¿å®‰è£…mysql.md","hash":"cdd8b708c710964f39a10f19b513a9e9a6f43675","modified":1585993083816},{"_id":"public/404/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988179},{"_id":"public/about/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988179},{"_id":"public/archives/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988179},{"_id":"public/tags/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988179},{"_id":"public/2020/04/05/çƒˆç«å†›æ ¡/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988179},{"_id":"public/2019/12/05/mysql-Linuxä¸‹ç¦»çº¿å®‰è£…mysql/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988179},{"_id":"public/2019/03/22/mybatis-å­¦ä¹ /index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988179},{"_id":"public/2019/03/21/dubbo-å­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988179},{"_id":"public/2019/03/15/ä½¿ç”¨iframeé‡åˆ°çš„é—®é¢˜/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988179},{"_id":"public/2019/03/15/Java-é›†åˆ/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988179},{"_id":"public/2019/03/15/ç†è§£-linux-cpu-è´Ÿè½½/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988179},{"_id":"public/2019/03/15/å…³äºVolatileçš„é‚£ç‚¹äº‹/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988179},{"_id":"public/2019/03/15/å¦‚ä½•ä½¿ç”¨flatMap/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988179},{"_id":"public/2019/03/15/å·¥å…·ç½‘ç«™/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988179},{"_id":"public/2019/03/15/spring-beançš„ä½œç”¨åŸŸ/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988180},{"_id":"public/2019/03/15/å…³äºexecuteUpdateæ–¹æ³•è¿”å›çš„å€¼é—®é¢˜/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988180},{"_id":"public/2019/03/15/jvm-é¢è¯•é—®é¢˜æ€»ç»“-ä¸€/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988180},{"_id":"public/2019/03/15/äº†è§£Javaä¸­çš„ä»£ç†/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988181},{"_id":"public/2019/03/15/Java-åŠ¨æ€ä»£ç†ä¸ºå•¥éœ€è¦æ¥å£ï¼Ÿï¼Ÿï¼Ÿ/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988181},{"_id":"public/2019/03/15/shiro-ç¬”è®°ï¼ˆä¸€ï¼‰/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988181},{"_id":"public/2019/02/26/markdownçš„ä½¿ç”¨ç¬”è®°/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988181},{"_id":"public/2019/02/26/åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988181},{"_id":"public/2019/02/26/cookie-å’Œ-session-çš„åŒºåˆ«/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988181},{"_id":"public/2019/02/22/JAVA-8çš„æ–°ç‰¹æ€§-1/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988181},{"_id":"public/2019/02/22/gitLab-æ­å»º/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988181},{"_id":"public/2019/02/22/jså®ç°ç²˜è´´æ¿åŠŸèƒ½/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988181},{"_id":"public/2019/02/22/get-è¯·æ±‚ä¸­æ–‡ä¹±ç é—®é¢˜/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988181},{"_id":"public/2019/02/20/java-åå°„ç¬”è®°/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988181},{"_id":"public/2019/02/19/JAVA-ç¬”è®°/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988181},{"_id":"public/2019/02/19/spring-boot-å¦‚ä½•åˆ›å»ºå’Œä½¿ç”¨freemakerè‡ªå®šä¹‰æ ‡ç­¾/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988181},{"_id":"public/2019/02/19/spring-mvc-RequestBody-å’Œ-RequestParam-æ¯”è¾ƒ/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988181},{"_id":"public/2019/02/18/ModelAttribute-å¯¹è±¡æ²¡æœ‰æ— å‚çš„æ„é€ å‡½æ•°å‡ºé”™è¯¦è§£-1/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988181},{"_id":"public/2019/02/18/Linuxä¸‹é¡¹ç›®è‡ªåŠ¨éƒ¨ç½²è„šæœ¬/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988181},{"_id":"public/2019/02/18/spring boot å­¦ä¹ ç¬”è®°/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988181},{"_id":"public/archives/page/2/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988181},{"_id":"public/archives/page/3/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988181},{"_id":"public/archives/2019/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988182},{"_id":"public/archives/2019/page/2/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988182},{"_id":"public/archives/2019/page/3/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988182},{"_id":"public/archives/2019/02/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988182},{"_id":"public/archives/2019/02/page/2/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988182},{"_id":"public/archives/2019/03/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988182},{"_id":"public/archives/2019/03/page/2/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988182},{"_id":"public/archives/2019/12/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988182},{"_id":"public/archives/2020/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988182},{"_id":"public/archives/2020/04/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988182},{"_id":"public/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988182},{"_id":"public/page/2/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988182},{"_id":"public/page/3/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988182},{"_id":"public/tags/JAVA/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988182},{"_id":"public/tags/java/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988182},{"_id":"public/tags/åŠ¨æ€ä»£ç†/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988182},{"_id":"public/tags/Lambda-è¡¨è¾¾å¼/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988182},{"_id":"public/tags/http/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988183},{"_id":"public/tags/ç½‘ç»œå®‰å…¨/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988183},{"_id":"public/tags/dubbo/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988184},{"_id":"public/tags/markdown/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988185},{"_id":"public/tags/springMvc/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988185},{"_id":"public/tags/å­—ç¬¦ç¼–ç /index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988185},{"_id":"public/tags/JavaScript/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988185},{"_id":"public/tags/æµè§ˆå™¨å…¼å®¹æ€§/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988185},{"_id":"public/tags/åå°„æœºåˆ¶/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988185},{"_id":"public/tags/github/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988185},{"_id":"public/tags/linux/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988185},{"_id":"public/tags/CentOS/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988186},{"_id":"public/tags/mybatis/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988186},{"_id":"public/tags/spring/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988186},{"_id":"public/tags/å¤šçº¿ç¨‹/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988186},{"_id":"public/tags/å¹¶å‘/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988186},{"_id":"public/tags/HTML/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988186},{"_id":"public/tags/JVM/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988186},{"_id":"public/tags/ç¡¬ä»¶/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988186},{"_id":"public/tags/å†…å­˜/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988186},{"_id":"public/tags/JAVA-8/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988186},{"_id":"public/tags/å·¥å…·/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988186},{"_id":"public/tags/mysql/index.html","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1586061988186}],"Category":[],"Data":[],"Page":[{"_content":"<!DOCTYPE HTML>\n<html>\n<head>\n  <meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8;\"/>\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n  <meta name=\"robots\" content=\"all\" />\n  <meta name=\"robots\" content=\"index,follow\"/>\n</head>\n<body>\n\n<script type=\"text/javascript\" src=\"http://www.qq.com/404/search_children.js\" charset=\"utf-8\" homePageUrl=\"your site url \" homePageName=\"å›åˆ°æˆ‘çš„ä¸»é¡µ\"></script>\n\n</body>\n</html>\n","source":"404/index.html","raw":"<!DOCTYPE HTML>\n<html>\n<head>\n  <meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8;\"/>\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n  <meta name=\"robots\" content=\"all\" />\n  <meta name=\"robots\" content=\"index,follow\"/>\n</head>\n<body>\n\n<script type=\"text/javascript\" src=\"http://www.qq.com/404/search_children.js\" charset=\"utf-8\" homePageUrl=\"your site url \" homePageName=\"å›åˆ°æˆ‘çš„ä¸»é¡µ\"></script>\n\n</body>\n</html>\n","date":"2020-04-04T08:04:03.485Z","updated":"2020-04-04T08:04:03.424Z","path":"404/index.html","title":"","comments":1,"layout":"page","_id":"ck8mkcttu00014osx6pkmc5oz","content":"<!DOCTYPE HTML>\n<html>\n<head><meta name=\"generator\" content=\"Hexo 3.8.0\">\n  <meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8;\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\n  <meta name=\"robots\" content=\"all\">\n  <meta name=\"robots\" content=\"index,follow\">\n</head>\n<body>\n\n<script type=\"text/javascript\" src=\"http://www.qq.com/404/search_children.js\" charset=\"utf-8\" homepageurl=\"your site url \" homepagename=\"å›åˆ°æˆ‘çš„ä¸»é¡µ\"></script>\n\n</body>\n</html>\n","site":{"data":{}},"excerpt":"","more":"<!DOCTYPE HTML>\n<html>\n<head><meta name=\"generator\" content=\"Hexo 3.8.0\">\n  <meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8;\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\n  <meta name=\"robots\" content=\"all\">\n  <meta name=\"robots\" content=\"index,follow\">\n</head>\n<body>\n\n<script type=\"text/javascript\" src=\"http://www.qq.com/404/search_children.js\" charset=\"utf-8\" homepageurl=\"your site url \" homepagename=\"å›åˆ°æˆ‘çš„ä¸»é¡µ\"></script>\n\n</body>\n</html>\n"},{"title":"å…³äºæˆ‘","date":"2020-04-04T05:46:05.000Z","_content":"\n>  **low çš®çš„ç¨‹åºçŒ¿**\n\nå–œæ¬¢çæ£é¼“\n\nå–œæ¬¢æ‰“çƒï¼Œçœ‹çƒèµ›\n\n\nå¹³æ—¶æä¸€äº›å°å·¥å…·ï¼Œå°ç½‘ç«™ ï¼šæˆ³æˆ‘ ğŸ‘‰ [å¼€æºä½œå“](https://github.com/xla145/)\n","source":"about/index.md","raw":"---\ntitle: å…³äºæˆ‘\ndate: 2020-04-04 13:46:05\n---\n\n>  **low çš®çš„ç¨‹åºçŒ¿**\n\nå–œæ¬¢çæ£é¼“\n\nå–œæ¬¢æ‰“çƒï¼Œçœ‹çƒèµ›\n\n\nå¹³æ—¶æä¸€äº›å°å·¥å…·ï¼Œå°ç½‘ç«™ ï¼šæˆ³æˆ‘ ğŸ‘‰ [å¼€æºä½œå“](https://github.com/xla145/)\n","updated":"2020-04-04T06:04:00.423Z","path":"about/index.html","comments":1,"layout":"page","_id":"ck8mkctvf002f4osxvajlztcb","content":"<blockquote>\n<p> <strong>low çš®çš„ç¨‹åºçŒ¿</strong></p>\n</blockquote>\n<p>å–œæ¬¢çæ£é¼“</p>\n<p>å–œæ¬¢æ‰“çƒï¼Œçœ‹çƒèµ›</p>\n<p>å¹³æ—¶æä¸€äº›å°å·¥å…·ï¼Œå°ç½‘ç«™ ï¼šæˆ³æˆ‘ ğŸ‘‰ <a href=\"https://github.com/xla145/\" target=\"_blank\" rel=\"noopener\">å¼€æºä½œå“</a></p>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p> <strong>low çš®çš„ç¨‹åºçŒ¿</strong></p>\n</blockquote>\n<p>å–œæ¬¢çæ£é¼“</p>\n<p>å–œæ¬¢æ‰“çƒï¼Œçœ‹çƒèµ›</p>\n<p>å¹³æ—¶æä¸€äº›å°å·¥å…·ï¼Œå°ç½‘ç«™ ï¼šæˆ³æˆ‘ ğŸ‘‰ <a href=\"https://github.com/xla145/\" target=\"_blank\" rel=\"noopener\">å¼€æºä½œå“</a></p>\n"},{"title":"archives","date":"2019-02-21T09:42:27.000Z","layout":"archives","_content":"","source":"archives/index.md","raw":"---\ntitle: archives\ndate: 2019-02-21 17:42:27\nlayout: archives\n---\n","updated":"2019-07-14T03:11:26.982Z","path":"archives/index.html","comments":1,"_id":"ck8mkctvh002g4osxsaeqns2k","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"tags","date":"2019-02-21T09:35:46.000Z","layout":"tags","type":"tags","tags":["JAVA","åå°„æœºåˆ¶"],"_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2019-02-21 17:35:46\nlayout: tags\ntype: \"tags\"\ntags:\n- JAVA\n- åå°„æœºåˆ¶\n---\n","updated":"2019-07-14T03:11:26.982Z","path":"tags/index.html","comments":1,"_id":"ck8mkctvi002h4osxfuh3g22s","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"Java é›†åˆ","date":"2019-03-15T01:56:13.000Z","_content":"\n# 1.\tä»€ä¹ˆå«æ•°æ®ç»“æ„ï¼Ÿ\nåœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œæ•°æ®ç»“æ„ï¼ˆè‹±è¯­ï¼šdata structureï¼‰æ˜¯è®¡ç®—æœºä¸­å­˜å‚¨ã€ç»„ç»‡æ•°æ®çš„æ–¹å¼ã€‚æ•°æ®ç»“æ„æ„å‘³ç€æ¥å£æˆ–å°è£…ï¼šä¸€ä¸ªæ•°æ®ç»“æ„å¯è¢«è§†ä¸ºä¸¤ä¸ªå‡½æ•°ä¹‹é—´çš„æ¥å£ï¼Œæˆ–è€…æ˜¯ç”±æ•°æ®ç±»å‹è”åˆç»„æˆçš„å­˜å‚¨å†…å®¹çš„è®¿é—®æ–¹æ³•å°è£…ã€‚\n# 2. ç»“æ„æœ‰å“ªäº›ï¼Ÿ\nå¸¸è§çš„æ•°æ®ç»“æ„ä¸»è¦æœ‰8ç§ï¼Œå¼•ç”¨ç™¾åº¦ç™¾ç§‘çš„å›¾ï¼š\n ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20190228100803325.png)\n# 3.\tä¸€äº›æ•°æ®ç»“æ„åœ¨Javaä¸­çš„å…·ä½“ä½“ç°ï¼Ÿ\n1.\tList æ¥å£\nList å…·ä½“å®ç°ç±»æœ‰ArrayList, LinkedList, Vectorï¼Œä¸‹é¢æˆ‘ä»¬æ¥ä»‹ç»ä¸€ä¸‹å®ƒä»¬çš„åŸç†ï¼ŒåŒºåˆ«å’Œä½¿ç”¨æ–¹å¼\n* ArrayList\nArrayList å®ç°äº Listã€RandomAccess æ¥å£ã€‚å¯ä»¥æ’å…¥ç©ºæ•°æ®ï¼Œä¹Ÿæ”¯æŒéšæœºè®¿é—®ã€‚å†…éƒ¨å®ç°é‡‡ç”¨åŠ¨æ€æ•°ç»„ï¼Œå½“å®¹é‡ä¸å¤Ÿæ—¶ï¼Œè‡ªåŠ¨æ‰©å®¹è‡³ï¼ˆå½“å‰å®¹é‡1.5å€ï¼‰ã€‚å…ƒç´ çš„é¡ºåºæŒ‰ç…§æ’å…¥çš„é¡ºåºæ’åˆ—ã€‚é»˜è®¤åˆå§‹å®¹é‡ä¸º10ã€‚éšæœºè®¿é—®æ•ˆç‡é«˜ï¼Œéšæœºæ’å…¥ã€åˆ é™¤æ•ˆç‡ä½ã€‚ä¸»è¦çš„å±æ€§æ˜¯elementData æ•°ç»„ï¼Œä»¥åŠ size å¤§å°ã€‚åœ¨æ‰§è¡Œæ·»åŠ addï¼ˆï¼‰æ–¹æ³•æ—¶\n```\n\tpublic boolean add(E e) {\n\t    ensureCapacityInternal(size + 1);  // Increments modCount!!\n\t    elementData[size++] = e;\n\t    return true;\n\t}\n```\n ä¸»è¦æ˜¯åšæ‰©å®¹åˆ¤æ–­ï¼Œç„¶åå†å°†æ•°æ®æ’å…¥åˆ°æ•°ç»„ä¸­ã€‚Addï¼ˆint indexï¼ŒE dataï¼‰æ–¹æ³•æ˜¯åœ¨ç‰¹å®šçš„ä½ç½®ï¼Œæ’å…¥ç‰¹å®šçš„å…ƒç´ ã€‚Index ä¸å¤§äºæ•°ç»„çš„å¤§å°ï¼Œè¿™ç§æ–¹å¼æ·»åŠ \n ```\n\tpublic void add(int index, E element) {\n\t    rangeCheckForAdd(index);\n\t    ensureCapacityInternal(size + 1);  // Increments modCount!!\n\t    System.arraycopy(elementData, index, elementData, index + 1,\n\t                     size - index);\n\t    elementData[index] = element;\n\t    size++;\n\t}\n```\né¦–å…ˆæ£€æŸ¥indexæ˜¯å¦è¶…è¿‡å½“å‰æ•°ç»„çš„å¤§å°ï¼Œæ˜¯å¦æ‰©å®¹åˆ¤æ–­ï¼Œæ•°ç»„çš„å¤åˆ¶å°†éœ€è¦æ’å…¥çš„ä½ç½®çš„å…ƒç´ å¾€åç§»ä¸€ä½ï¼Œæœ€åæ‰§è¡Œæ’å…¥ç‰¹å®šå…ƒç´ ã€‚\næ•°ç»„çš„å¼€é”€ä¸»è¦åœ¨äºï¼Œåˆ›å»ºå¼€è¾Ÿæ•°ç»„ç©ºé—´å’Œæ•°ç»„ä¸­çš„å…ƒç´ ç§»åŠ¨ï¼Œæ‰€ä»¥åœ¨å¹³æ—¶çš„æ“ä½œä¸­ï¼Œå°½é‡é¿å…ä½¿ç”¨Addï¼ˆint indexï¼ŒE dataï¼‰æ–¹æ³•ï¼Œåˆ›å»ºæ•°ç»„å‰ç¡®è®¤æ•°ç»„çš„é•¿åº¦ç­‰ã€‚\n* \tLinkedList\nLinkedListå†…éƒ¨ä½¿ç”¨åŒå‘é“¾è¡¨å®ç°ï¼Œéšæœºè®¿é—®æ•ˆç‡ä½ï¼Œéšæœºæ’å…¥ã€åˆ é™¤æ•ˆç‡é«˜ã€‚å¯ä»¥å½“ä½œå †æ ˆã€é˜Ÿåˆ—ã€åŒå‘é˜Ÿåˆ—æ¥ä½¿ç”¨ã€‚LinkedListä¹Ÿæ˜¯éçº¿ç¨‹å®‰å…¨çš„ã€‚\né“¾è¡¨ä¸ºå•¥æ’å…¥æˆ–åˆ é™¤æ•ˆç‡é«˜ï¼Œè®¿é—®æ•ˆç‡ä½ï¼Ÿ\nä¸»è¦åŸå› æ˜¯åŒé“¾è¡¨å°±æ˜¯æ¯ä¸ªnodeä¸ä»…åŒ…å«æŒ‡å‘ä¸‹åä¸€ä¸ªç»“ç‚¹çš„å¼•ç”¨ï¼Œè¿˜åŒ…å«ç€æŒ‡å‘å‰ä¸€ä¸ªç»“ç‚¹çš„å¼•ç”¨ã€‚ç”±äºä¸å¿…é¡»æŒ‰é¡ºåºå­˜å‚¨ï¼Œé“¾è¡¨åœ¨æ’å…¥çš„æ—¶å€™å¯ä»¥è¾¾åˆ°O(1)çš„å¤æ‚åº¦ï¼Œæ¯”å¦ä¸€ç§çº¿æ€§è¡¨é¡ºåºè¡¨å¿«å¾—å¤šï¼Œä½†æ˜¯æŸ¥æ‰¾ä¸€ä¸ªèŠ‚ç‚¹æˆ–è€…è®¿é—®ç‰¹å®šç¼–å·çš„èŠ‚ç‚¹åˆ™éœ€è¦O(n)çš„æ—¶é—´ï¼Œè€Œé¡ºåºè¡¨ç›¸åº”çš„æ—¶é—´å¤æ‚åº¦O(1)ã€‚\né“¾è¡¨ç»“æ„å¯ä»¥å…‹æœæ•°ç»„é“¾è¡¨éœ€è¦é¢„å…ˆçŸ¥é“æ•°æ®å¤§å°çš„ç¼ºç‚¹ï¼Œé“¾è¡¨ç»“æ„å¯ä»¥å……åˆ†åˆ©ç”¨è®¡ç®—æœºå†…å­˜ç©ºé—´ï¼Œå®ç°çµæ´»çš„å†…å­˜åŠ¨æ€ç®¡ç†ã€‚ä½†æ˜¯é“¾è¡¨å¤±å»äº†æ•°ç»„éšæœºè¯»å–çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶é“¾è¡¨ç”±äºå¢åŠ äº†ç»“ç‚¹çš„æŒ‡é’ˆåŸŸï¼Œç©ºé—´å¼€é”€æ¯”è¾ƒå¤§ã€‚æ¥ä¸‹æ¥å•ç‹¬å†™ä¸€ç¯‡å…³äºé“¾è¡¨çš„æ–‡ç« ï¼Œæ¥å…·ä½“äº†è§£ä¸€ä¸‹é“¾è¡¨ã€‚\n* Vector\nVectorè·ŸArrayListæ˜¯ç±»ä¼¼çš„ï¼Œå†…éƒ¨å®ç°ä¹Ÿæ˜¯åŠ¨æ€æ•°ç»„ï¼Œéšæœºè®¿é—®æ•ˆç‡é«˜ã€‚Vectoræ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚\nç”±äºVectorå†…éƒ¨ä½¿ç”¨äº†synchronizedï¼Œæ‰€ä»¥çº¿ç¨‹æ˜¯å®‰å…¨çš„ï¼Œä½†æ˜¯æ•´ä½“çš„å¼€é”€å°±å¾ˆå¤§ï¼Œæ•ˆç‡ä¸é«˜ã€‚\n2.\tSet\nSetæ˜¯ä¸èƒ½åŒ…å«é‡åˆå…ƒç´ çš„å®¹å™¨ï¼Œå…¶å®ç°ç±»æœ‰HashSetï¼Œç»§æ‰¿äºå®ƒçš„æ¥å£æœ‰SortedSetæ¥å£ç­‰ã€‚Setä¸­æä¾›äº†åŠ ã€å‡ã€å’Œäº¤ç­‰é›†åˆæ“ä½œå‡½æ•°ã€‚Setä¸èƒ½æŒ‰ç…§ç´¢å¼•éšæœºè®¿é—®å…ƒç´ ï¼Œè¿™æ˜¯å®ƒä¸Listçš„ä¸€ä¸ªé‡è¦åŒºåˆ«ã€‚\nè®²ä¸¤ä¸ªsetå®ç°ç±» hashSet å’Œ TreeSet\n* \thashSet\nHashSetå†…éƒ¨æ˜¯ä½¿ç”¨HashMapå®ç°çš„ï¼ŒHashSetçš„keyå€¼æ˜¯ä¸å…è®¸é‡å¤çš„ï¼Œå¦‚æœæ”¾å…¥çš„å¯¹è±¡æ˜¯è‡ªå®šä¹‰å¯¹è±¡ï¼Œé‚£ä¹ˆæœ€å¥½èƒ½å¤ŸåŒæ—¶é‡å†™hashCodeä¸equalså‡½æ•°ï¼Œè¿™æ ·å°±èƒ½è‡ªå®šä¹‰æ·»åŠ çš„å¯¹è±¡åœ¨ä»€ä¹ˆæ ·çš„æƒ…å†µä¸‹æ˜¯ä¸€æ ·çš„ï¼Œå³èƒ½ä¿è¯åœ¨ä¸šåŠ¡é€»è¾‘ä¸‹èƒ½æ·»åŠ å¯¹è±¡åˆ°HashSetä¸­ï¼Œä¿è¯ä¸šåŠ¡é€»è¾‘çš„æ­£ç¡®æ€§ã€‚å¦å¤–ï¼ŒHashSeté‡Œçš„å…ƒç´ ä¸æ˜¯æŒ‰ç…§é¡ºåºå­˜å‚¨çš„ã€‚HashSetæ˜¯éçº¿ç¨‹å®‰å…¨çš„ã€‚\n*\tTreeSet\nä¸€èˆ¬æƒ…å†µä¸‹setæ˜¯æ— åºçš„ï¼Œä½†æ˜¯TreeSetå­˜å‚¨çš„å…ƒç´ æ˜¯æŒ‰é¡ºåºå­˜å‚¨çš„ï¼Œå¦‚æœæ˜¯å­˜å‚¨çš„å…ƒç´ æ˜¯è‡ªå®šä¹‰å¯¹è±¡ï¼Œé‚£ä¹ˆéœ€è¦å®ç°Comparableæ¥å£ã€‚TreeSetä¹Ÿæ˜¯éçº¿ç¨‹å®‰å…¨çš„ã€‚\n3.\tMap\nMapé›†åˆæä¾›äº†æŒ‰ç…§â€œé”®å€¼å¯¹â€å­˜å‚¨å…ƒç´ çš„æ–¹æ³•ï¼Œä¸€ä¸ªé”®å”¯ä¸€æ˜ å°„ä¸€ä¸ªå€¼ã€‚é›†åˆä¸­â€œé”®å€¼å¯¹â€æ•´ä½“ä½œä¸ºä¸€ä¸ªå®ä½“å…ƒç´ æ—¶ï¼Œç±»ä¼¼Listé›†åˆï¼Œä½†æ˜¯å¦‚æœåˆ†å¼€æ¥è®²ï¼ŒMapæ˜¯ä¸€ä¸ªä¸¤åˆ—å…ƒç´ çš„é›†åˆï¼šé”®æ˜¯ä¸€åˆ—ï¼Œå€¼æ˜¯ä¸€åˆ—ã€‚ä¸Seté›†åˆä¸€æ ·ï¼ŒMapä¹Ÿæ²¡æœ‰æä¾›éšæœºè®¿é—®çš„èƒ½åŠ›ï¼Œåªèƒ½é€šè¿‡é”®æ¥è®¿é—®å¯¹åº”çš„å€¼ã€‚\nMapçš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªMap.Entryï¼Œè¿™ä¸ªå®ä½“çš„ç»“æ„æ˜¯< Key, Value >æ ·å¼ã€‚\n* Mapæ€»ç»“\nHashMapå­˜å‚¨é”®å€¼å¯¹ã€‚å½“ç¨‹åºè¯•å›¾å°†ä¸€ä¸ªkey-valueå¯¹æ”¾å…¥ HashMap ä¸­æ—¶ï¼Œç¨‹åºé¦–å…ˆæ ¹æ®è¯¥keyçš„hashCode()è¿”å›å€¼å†³å®šè¯¥Entryçš„å­˜å‚¨ä½ç½®ï¼šå¦‚æœä¸¤ä¸ªEntryçš„keyçš„hashCode() è¿”å›å€¼ç›¸åŒï¼Œé‚£å®ƒä»¬çš„å­˜å‚¨ä½ç½®ç›¸åŒã€‚å¦‚æœè¿™ä¸¤ä¸ªEntryçš„keyé€šè¿‡equalsæ¯”è¾ƒè¿”å›trueï¼Œæ–°æ·»åŠ Entryçš„valueå°†è¦†ç›–é›†åˆä¸­åŸæœ‰Entryçš„ valueï¼Œä½†keyä¸ä¼šè¦†ç›–ã€‚å¦‚æœè¿™ä¸¤ä¸ªEntryçš„keyé€šè¿‡equals æ¯”è¾ƒè¿”å›falseï¼Œæ–°æ·»åŠ çš„Entryå°†ä¸é›†åˆä¸­åŸæœ‰Entryå½¢æˆEntry é“¾ï¼Œè€Œä¸”æ–°æ·»åŠ çš„ Entry ä½äº Entry é“¾çš„å¤´éƒ¨ã€‚ç”±äºHashMapå¤šçº¿ç¨‹ä¸‹æ‰©å®¹ä¼šå‡ºçº¿ç¨‹ä¸å®‰å…¨ï¼Œå…·ä½“å‚è€ƒ[è°ˆè°ˆHashMapçº¿ç¨‹ä¸å®‰å…¨çš„ä½“ç°]( https://blog.csdn.net/qq_24184997/article/details/87979866)è¿™ç¯‡æ–‡ç« ã€‚\næ¥ä¸‹æ¥ä¸€ç¯‡å•ç‹¬è®²ä¸€ä¸‹hashMap åœ¨Java8è·Ÿä¹‹å‰ç‰ˆæœ¬çš„å˜åŒ–å’Œå¦ä¸€ä¸ªConcurrentHashMap èƒ½è§£å†³å¹¶å‘æƒ…å†µä¸‹çš„çº¿ç¨‹ä¸å®‰å…¨\n# 4. æ€»ç»“ï¼š\nå¤§æ¦‚è®²äº†ä¸€ä¸‹ä»€ä¹ˆæ˜¯æ•°æ®ç»“æ„ï¼ŒJavaé›†åˆä¸­ä¸€äº›å®ç°ç±»åº•å±‚ä½¿ç”¨çš„æ•°æ®ç»“æ„ï¼Œå¹¶è¯¦ç»†ä»‹ç»äº†ä¸€äº›Javaé›†åˆå®ç°ç±»çš„ç‰¹ç‚¹å’ŒåŒºåˆ«ã€‚\n\nå‚è€ƒæ–‡æ¡£:\n[æ•°æ®ç»“æ„](https://zh.wikipedia.org/zh-hans/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84)\n[JCSprout](https://crossoverjie.top/JCSprout/#/?id=introduction)\n","source":"_posts/Java-é›†åˆ.md","raw":"---\ntitle: Java é›†åˆ\ndate: 2019-03-15 09:56:13\ntags:\n- JAVA\n---\n\n# 1.\tä»€ä¹ˆå«æ•°æ®ç»“æ„ï¼Ÿ\nåœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œæ•°æ®ç»“æ„ï¼ˆè‹±è¯­ï¼šdata structureï¼‰æ˜¯è®¡ç®—æœºä¸­å­˜å‚¨ã€ç»„ç»‡æ•°æ®çš„æ–¹å¼ã€‚æ•°æ®ç»“æ„æ„å‘³ç€æ¥å£æˆ–å°è£…ï¼šä¸€ä¸ªæ•°æ®ç»“æ„å¯è¢«è§†ä¸ºä¸¤ä¸ªå‡½æ•°ä¹‹é—´çš„æ¥å£ï¼Œæˆ–è€…æ˜¯ç”±æ•°æ®ç±»å‹è”åˆç»„æˆçš„å­˜å‚¨å†…å®¹çš„è®¿é—®æ–¹æ³•å°è£…ã€‚\n# 2. ç»“æ„æœ‰å“ªäº›ï¼Ÿ\nå¸¸è§çš„æ•°æ®ç»“æ„ä¸»è¦æœ‰8ç§ï¼Œå¼•ç”¨ç™¾åº¦ç™¾ç§‘çš„å›¾ï¼š\n ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20190228100803325.png)\n# 3.\tä¸€äº›æ•°æ®ç»“æ„åœ¨Javaä¸­çš„å…·ä½“ä½“ç°ï¼Ÿ\n1.\tList æ¥å£\nList å…·ä½“å®ç°ç±»æœ‰ArrayList, LinkedList, Vectorï¼Œä¸‹é¢æˆ‘ä»¬æ¥ä»‹ç»ä¸€ä¸‹å®ƒä»¬çš„åŸç†ï¼ŒåŒºåˆ«å’Œä½¿ç”¨æ–¹å¼\n* ArrayList\nArrayList å®ç°äº Listã€RandomAccess æ¥å£ã€‚å¯ä»¥æ’å…¥ç©ºæ•°æ®ï¼Œä¹Ÿæ”¯æŒéšæœºè®¿é—®ã€‚å†…éƒ¨å®ç°é‡‡ç”¨åŠ¨æ€æ•°ç»„ï¼Œå½“å®¹é‡ä¸å¤Ÿæ—¶ï¼Œè‡ªåŠ¨æ‰©å®¹è‡³ï¼ˆå½“å‰å®¹é‡1.5å€ï¼‰ã€‚å…ƒç´ çš„é¡ºåºæŒ‰ç…§æ’å…¥çš„é¡ºåºæ’åˆ—ã€‚é»˜è®¤åˆå§‹å®¹é‡ä¸º10ã€‚éšæœºè®¿é—®æ•ˆç‡é«˜ï¼Œéšæœºæ’å…¥ã€åˆ é™¤æ•ˆç‡ä½ã€‚ä¸»è¦çš„å±æ€§æ˜¯elementData æ•°ç»„ï¼Œä»¥åŠ size å¤§å°ã€‚åœ¨æ‰§è¡Œæ·»åŠ addï¼ˆï¼‰æ–¹æ³•æ—¶\n```\n\tpublic boolean add(E e) {\n\t    ensureCapacityInternal(size + 1);  // Increments modCount!!\n\t    elementData[size++] = e;\n\t    return true;\n\t}\n```\n ä¸»è¦æ˜¯åšæ‰©å®¹åˆ¤æ–­ï¼Œç„¶åå†å°†æ•°æ®æ’å…¥åˆ°æ•°ç»„ä¸­ã€‚Addï¼ˆint indexï¼ŒE dataï¼‰æ–¹æ³•æ˜¯åœ¨ç‰¹å®šçš„ä½ç½®ï¼Œæ’å…¥ç‰¹å®šçš„å…ƒç´ ã€‚Index ä¸å¤§äºæ•°ç»„çš„å¤§å°ï¼Œè¿™ç§æ–¹å¼æ·»åŠ \n ```\n\tpublic void add(int index, E element) {\n\t    rangeCheckForAdd(index);\n\t    ensureCapacityInternal(size + 1);  // Increments modCount!!\n\t    System.arraycopy(elementData, index, elementData, index + 1,\n\t                     size - index);\n\t    elementData[index] = element;\n\t    size++;\n\t}\n```\né¦–å…ˆæ£€æŸ¥indexæ˜¯å¦è¶…è¿‡å½“å‰æ•°ç»„çš„å¤§å°ï¼Œæ˜¯å¦æ‰©å®¹åˆ¤æ–­ï¼Œæ•°ç»„çš„å¤åˆ¶å°†éœ€è¦æ’å…¥çš„ä½ç½®çš„å…ƒç´ å¾€åç§»ä¸€ä½ï¼Œæœ€åæ‰§è¡Œæ’å…¥ç‰¹å®šå…ƒç´ ã€‚\næ•°ç»„çš„å¼€é”€ä¸»è¦åœ¨äºï¼Œåˆ›å»ºå¼€è¾Ÿæ•°ç»„ç©ºé—´å’Œæ•°ç»„ä¸­çš„å…ƒç´ ç§»åŠ¨ï¼Œæ‰€ä»¥åœ¨å¹³æ—¶çš„æ“ä½œä¸­ï¼Œå°½é‡é¿å…ä½¿ç”¨Addï¼ˆint indexï¼ŒE dataï¼‰æ–¹æ³•ï¼Œåˆ›å»ºæ•°ç»„å‰ç¡®è®¤æ•°ç»„çš„é•¿åº¦ç­‰ã€‚\n* \tLinkedList\nLinkedListå†…éƒ¨ä½¿ç”¨åŒå‘é“¾è¡¨å®ç°ï¼Œéšæœºè®¿é—®æ•ˆç‡ä½ï¼Œéšæœºæ’å…¥ã€åˆ é™¤æ•ˆç‡é«˜ã€‚å¯ä»¥å½“ä½œå †æ ˆã€é˜Ÿåˆ—ã€åŒå‘é˜Ÿåˆ—æ¥ä½¿ç”¨ã€‚LinkedListä¹Ÿæ˜¯éçº¿ç¨‹å®‰å…¨çš„ã€‚\né“¾è¡¨ä¸ºå•¥æ’å…¥æˆ–åˆ é™¤æ•ˆç‡é«˜ï¼Œè®¿é—®æ•ˆç‡ä½ï¼Ÿ\nä¸»è¦åŸå› æ˜¯åŒé“¾è¡¨å°±æ˜¯æ¯ä¸ªnodeä¸ä»…åŒ…å«æŒ‡å‘ä¸‹åä¸€ä¸ªç»“ç‚¹çš„å¼•ç”¨ï¼Œè¿˜åŒ…å«ç€æŒ‡å‘å‰ä¸€ä¸ªç»“ç‚¹çš„å¼•ç”¨ã€‚ç”±äºä¸å¿…é¡»æŒ‰é¡ºåºå­˜å‚¨ï¼Œé“¾è¡¨åœ¨æ’å…¥çš„æ—¶å€™å¯ä»¥è¾¾åˆ°O(1)çš„å¤æ‚åº¦ï¼Œæ¯”å¦ä¸€ç§çº¿æ€§è¡¨é¡ºåºè¡¨å¿«å¾—å¤šï¼Œä½†æ˜¯æŸ¥æ‰¾ä¸€ä¸ªèŠ‚ç‚¹æˆ–è€…è®¿é—®ç‰¹å®šç¼–å·çš„èŠ‚ç‚¹åˆ™éœ€è¦O(n)çš„æ—¶é—´ï¼Œè€Œé¡ºåºè¡¨ç›¸åº”çš„æ—¶é—´å¤æ‚åº¦O(1)ã€‚\né“¾è¡¨ç»“æ„å¯ä»¥å…‹æœæ•°ç»„é“¾è¡¨éœ€è¦é¢„å…ˆçŸ¥é“æ•°æ®å¤§å°çš„ç¼ºç‚¹ï¼Œé“¾è¡¨ç»“æ„å¯ä»¥å……åˆ†åˆ©ç”¨è®¡ç®—æœºå†…å­˜ç©ºé—´ï¼Œå®ç°çµæ´»çš„å†…å­˜åŠ¨æ€ç®¡ç†ã€‚ä½†æ˜¯é“¾è¡¨å¤±å»äº†æ•°ç»„éšæœºè¯»å–çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶é“¾è¡¨ç”±äºå¢åŠ äº†ç»“ç‚¹çš„æŒ‡é’ˆåŸŸï¼Œç©ºé—´å¼€é”€æ¯”è¾ƒå¤§ã€‚æ¥ä¸‹æ¥å•ç‹¬å†™ä¸€ç¯‡å…³äºé“¾è¡¨çš„æ–‡ç« ï¼Œæ¥å…·ä½“äº†è§£ä¸€ä¸‹é“¾è¡¨ã€‚\n* Vector\nVectorè·ŸArrayListæ˜¯ç±»ä¼¼çš„ï¼Œå†…éƒ¨å®ç°ä¹Ÿæ˜¯åŠ¨æ€æ•°ç»„ï¼Œéšæœºè®¿é—®æ•ˆç‡é«˜ã€‚Vectoræ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚\nç”±äºVectorå†…éƒ¨ä½¿ç”¨äº†synchronizedï¼Œæ‰€ä»¥çº¿ç¨‹æ˜¯å®‰å…¨çš„ï¼Œä½†æ˜¯æ•´ä½“çš„å¼€é”€å°±å¾ˆå¤§ï¼Œæ•ˆç‡ä¸é«˜ã€‚\n2.\tSet\nSetæ˜¯ä¸èƒ½åŒ…å«é‡åˆå…ƒç´ çš„å®¹å™¨ï¼Œå…¶å®ç°ç±»æœ‰HashSetï¼Œç»§æ‰¿äºå®ƒçš„æ¥å£æœ‰SortedSetæ¥å£ç­‰ã€‚Setä¸­æä¾›äº†åŠ ã€å‡ã€å’Œäº¤ç­‰é›†åˆæ“ä½œå‡½æ•°ã€‚Setä¸èƒ½æŒ‰ç…§ç´¢å¼•éšæœºè®¿é—®å…ƒç´ ï¼Œè¿™æ˜¯å®ƒä¸Listçš„ä¸€ä¸ªé‡è¦åŒºåˆ«ã€‚\nè®²ä¸¤ä¸ªsetå®ç°ç±» hashSet å’Œ TreeSet\n* \thashSet\nHashSetå†…éƒ¨æ˜¯ä½¿ç”¨HashMapå®ç°çš„ï¼ŒHashSetçš„keyå€¼æ˜¯ä¸å…è®¸é‡å¤çš„ï¼Œå¦‚æœæ”¾å…¥çš„å¯¹è±¡æ˜¯è‡ªå®šä¹‰å¯¹è±¡ï¼Œé‚£ä¹ˆæœ€å¥½èƒ½å¤ŸåŒæ—¶é‡å†™hashCodeä¸equalså‡½æ•°ï¼Œè¿™æ ·å°±èƒ½è‡ªå®šä¹‰æ·»åŠ çš„å¯¹è±¡åœ¨ä»€ä¹ˆæ ·çš„æƒ…å†µä¸‹æ˜¯ä¸€æ ·çš„ï¼Œå³èƒ½ä¿è¯åœ¨ä¸šåŠ¡é€»è¾‘ä¸‹èƒ½æ·»åŠ å¯¹è±¡åˆ°HashSetä¸­ï¼Œä¿è¯ä¸šåŠ¡é€»è¾‘çš„æ­£ç¡®æ€§ã€‚å¦å¤–ï¼ŒHashSeté‡Œçš„å…ƒç´ ä¸æ˜¯æŒ‰ç…§é¡ºåºå­˜å‚¨çš„ã€‚HashSetæ˜¯éçº¿ç¨‹å®‰å…¨çš„ã€‚\n*\tTreeSet\nä¸€èˆ¬æƒ…å†µä¸‹setæ˜¯æ— åºçš„ï¼Œä½†æ˜¯TreeSetå­˜å‚¨çš„å…ƒç´ æ˜¯æŒ‰é¡ºåºå­˜å‚¨çš„ï¼Œå¦‚æœæ˜¯å­˜å‚¨çš„å…ƒç´ æ˜¯è‡ªå®šä¹‰å¯¹è±¡ï¼Œé‚£ä¹ˆéœ€è¦å®ç°Comparableæ¥å£ã€‚TreeSetä¹Ÿæ˜¯éçº¿ç¨‹å®‰å…¨çš„ã€‚\n3.\tMap\nMapé›†åˆæä¾›äº†æŒ‰ç…§â€œé”®å€¼å¯¹â€å­˜å‚¨å…ƒç´ çš„æ–¹æ³•ï¼Œä¸€ä¸ªé”®å”¯ä¸€æ˜ å°„ä¸€ä¸ªå€¼ã€‚é›†åˆä¸­â€œé”®å€¼å¯¹â€æ•´ä½“ä½œä¸ºä¸€ä¸ªå®ä½“å…ƒç´ æ—¶ï¼Œç±»ä¼¼Listé›†åˆï¼Œä½†æ˜¯å¦‚æœåˆ†å¼€æ¥è®²ï¼ŒMapæ˜¯ä¸€ä¸ªä¸¤åˆ—å…ƒç´ çš„é›†åˆï¼šé”®æ˜¯ä¸€åˆ—ï¼Œå€¼æ˜¯ä¸€åˆ—ã€‚ä¸Seté›†åˆä¸€æ ·ï¼ŒMapä¹Ÿæ²¡æœ‰æä¾›éšæœºè®¿é—®çš„èƒ½åŠ›ï¼Œåªèƒ½é€šè¿‡é”®æ¥è®¿é—®å¯¹åº”çš„å€¼ã€‚\nMapçš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªMap.Entryï¼Œè¿™ä¸ªå®ä½“çš„ç»“æ„æ˜¯< Key, Value >æ ·å¼ã€‚\n* Mapæ€»ç»“\nHashMapå­˜å‚¨é”®å€¼å¯¹ã€‚å½“ç¨‹åºè¯•å›¾å°†ä¸€ä¸ªkey-valueå¯¹æ”¾å…¥ HashMap ä¸­æ—¶ï¼Œç¨‹åºé¦–å…ˆæ ¹æ®è¯¥keyçš„hashCode()è¿”å›å€¼å†³å®šè¯¥Entryçš„å­˜å‚¨ä½ç½®ï¼šå¦‚æœä¸¤ä¸ªEntryçš„keyçš„hashCode() è¿”å›å€¼ç›¸åŒï¼Œé‚£å®ƒä»¬çš„å­˜å‚¨ä½ç½®ç›¸åŒã€‚å¦‚æœè¿™ä¸¤ä¸ªEntryçš„keyé€šè¿‡equalsæ¯”è¾ƒè¿”å›trueï¼Œæ–°æ·»åŠ Entryçš„valueå°†è¦†ç›–é›†åˆä¸­åŸæœ‰Entryçš„ valueï¼Œä½†keyä¸ä¼šè¦†ç›–ã€‚å¦‚æœè¿™ä¸¤ä¸ªEntryçš„keyé€šè¿‡equals æ¯”è¾ƒè¿”å›falseï¼Œæ–°æ·»åŠ çš„Entryå°†ä¸é›†åˆä¸­åŸæœ‰Entryå½¢æˆEntry é“¾ï¼Œè€Œä¸”æ–°æ·»åŠ çš„ Entry ä½äº Entry é“¾çš„å¤´éƒ¨ã€‚ç”±äºHashMapå¤šçº¿ç¨‹ä¸‹æ‰©å®¹ä¼šå‡ºçº¿ç¨‹ä¸å®‰å…¨ï¼Œå…·ä½“å‚è€ƒ[è°ˆè°ˆHashMapçº¿ç¨‹ä¸å®‰å…¨çš„ä½“ç°]( https://blog.csdn.net/qq_24184997/article/details/87979866)è¿™ç¯‡æ–‡ç« ã€‚\næ¥ä¸‹æ¥ä¸€ç¯‡å•ç‹¬è®²ä¸€ä¸‹hashMap åœ¨Java8è·Ÿä¹‹å‰ç‰ˆæœ¬çš„å˜åŒ–å’Œå¦ä¸€ä¸ªConcurrentHashMap èƒ½è§£å†³å¹¶å‘æƒ…å†µä¸‹çš„çº¿ç¨‹ä¸å®‰å…¨\n# 4. æ€»ç»“ï¼š\nå¤§æ¦‚è®²äº†ä¸€ä¸‹ä»€ä¹ˆæ˜¯æ•°æ®ç»“æ„ï¼ŒJavaé›†åˆä¸­ä¸€äº›å®ç°ç±»åº•å±‚ä½¿ç”¨çš„æ•°æ®ç»“æ„ï¼Œå¹¶è¯¦ç»†ä»‹ç»äº†ä¸€äº›Javaé›†åˆå®ç°ç±»çš„ç‰¹ç‚¹å’ŒåŒºåˆ«ã€‚\n\nå‚è€ƒæ–‡æ¡£:\n[æ•°æ®ç»“æ„](https://zh.wikipedia.org/zh-hans/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84)\n[JCSprout](https://crossoverjie.top/JCSprout/#/?id=introduction)\n","slug":"Java-é›†åˆ","published":1,"updated":"2019-07-14T04:37:24.657Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkcttq00004osxqgnfq3da","content":"<h1 id=\"1-ä»€ä¹ˆå«æ•°æ®ç»“æ„ï¼Ÿ\"><a href=\"#1-ä»€ä¹ˆå«æ•°æ®ç»“æ„ï¼Ÿ\" class=\"headerlink\" title=\"1.    ä»€ä¹ˆå«æ•°æ®ç»“æ„ï¼Ÿ\"></a>1.    ä»€ä¹ˆå«æ•°æ®ç»“æ„ï¼Ÿ</h1><p>åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œæ•°æ®ç»“æ„ï¼ˆè‹±è¯­ï¼šdata structureï¼‰æ˜¯è®¡ç®—æœºä¸­å­˜å‚¨ã€ç»„ç»‡æ•°æ®çš„æ–¹å¼ã€‚æ•°æ®ç»“æ„æ„å‘³ç€æ¥å£æˆ–å°è£…ï¼šä¸€ä¸ªæ•°æ®ç»“æ„å¯è¢«è§†ä¸ºä¸¤ä¸ªå‡½æ•°ä¹‹é—´çš„æ¥å£ï¼Œæˆ–è€…æ˜¯ç”±æ•°æ®ç±»å‹è”åˆç»„æˆçš„å­˜å‚¨å†…å®¹çš„è®¿é—®æ–¹æ³•å°è£…ã€‚</p>\n<h1 id=\"2-ç»“æ„æœ‰å“ªäº›ï¼Ÿ\"><a href=\"#2-ç»“æ„æœ‰å“ªäº›ï¼Ÿ\" class=\"headerlink\" title=\"2. ç»“æ„æœ‰å“ªäº›ï¼Ÿ\"></a>2. ç»“æ„æœ‰å“ªäº›ï¼Ÿ</h1><p>å¸¸è§çš„æ•°æ®ç»“æ„ä¸»è¦æœ‰8ç§ï¼Œå¼•ç”¨ç™¾åº¦ç™¾ç§‘çš„å›¾ï¼š<br> <img src=\"https://img-blog.csdnimg.cn/20190228100803325.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<h1 id=\"3-ä¸€äº›æ•°æ®ç»“æ„åœ¨Javaä¸­çš„å…·ä½“ä½“ç°ï¼Ÿ\"><a href=\"#3-ä¸€äº›æ•°æ®ç»“æ„åœ¨Javaä¸­çš„å…·ä½“ä½“ç°ï¼Ÿ\" class=\"headerlink\" title=\"3.    ä¸€äº›æ•°æ®ç»“æ„åœ¨Javaä¸­çš„å…·ä½“ä½“ç°ï¼Ÿ\"></a>3.    ä¸€äº›æ•°æ®ç»“æ„åœ¨Javaä¸­çš„å…·ä½“ä½“ç°ï¼Ÿ</h1><ol>\n<li>List æ¥å£<br>List å…·ä½“å®ç°ç±»æœ‰ArrayList, LinkedList, Vectorï¼Œä¸‹é¢æˆ‘ä»¬æ¥ä»‹ç»ä¸€ä¸‹å®ƒä»¬çš„åŸç†ï¼ŒåŒºåˆ«å’Œä½¿ç”¨æ–¹å¼</li>\n</ol>\n<ul>\n<li><p>ArrayList<br>ArrayList å®ç°äº Listã€RandomAccess æ¥å£ã€‚å¯ä»¥æ’å…¥ç©ºæ•°æ®ï¼Œä¹Ÿæ”¯æŒéšæœºè®¿é—®ã€‚å†…éƒ¨å®ç°é‡‡ç”¨åŠ¨æ€æ•°ç»„ï¼Œå½“å®¹é‡ä¸å¤Ÿæ—¶ï¼Œè‡ªåŠ¨æ‰©å®¹è‡³ï¼ˆå½“å‰å®¹é‡1.5å€ï¼‰ã€‚å…ƒç´ çš„é¡ºåºæŒ‰ç…§æ’å…¥çš„é¡ºåºæ’åˆ—ã€‚é»˜è®¤åˆå§‹å®¹é‡ä¸º10ã€‚éšæœºè®¿é—®æ•ˆç‡é«˜ï¼Œéšæœºæ’å…¥ã€åˆ é™¤æ•ˆç‡ä½ã€‚ä¸»è¦çš„å±æ€§æ˜¯elementData æ•°ç»„ï¼Œä»¥åŠ size å¤§å°ã€‚åœ¨æ‰§è¡Œæ·»åŠ addï¼ˆï¼‰æ–¹æ³•æ—¶</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public boolean add(E e) &#123;</span><br><span class=\"line\">    ensureCapacityInternal(size + 1);  // Increments modCount!!</span><br><span class=\"line\">    elementData[size++] = e;</span><br><span class=\"line\">    return true;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ä¸»è¦æ˜¯åšæ‰©å®¹åˆ¤æ–­ï¼Œç„¶åå†å°†æ•°æ®æ’å…¥åˆ°æ•°ç»„ä¸­ã€‚Addï¼ˆint indexï¼ŒE dataï¼‰æ–¹æ³•æ˜¯åœ¨ç‰¹å®šçš„ä½ç½®ï¼Œæ’å…¥ç‰¹å®šçš„å…ƒç´ ã€‚Index ä¸å¤§äºæ•°ç»„çš„å¤§å°ï¼Œè¿™ç§æ–¹å¼æ·»åŠ </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public void add(int index, E element) &#123;</span><br><span class=\"line\">    rangeCheckForAdd(index);</span><br><span class=\"line\">    ensureCapacityInternal(size + 1);  // Increments modCount!!</span><br><span class=\"line\">    System.arraycopy(elementData, index, elementData, index + 1,</span><br><span class=\"line\">                     size - index);</span><br><span class=\"line\">    elementData[index] = element;</span><br><span class=\"line\">    size++;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>é¦–å…ˆæ£€æŸ¥indexæ˜¯å¦è¶…è¿‡å½“å‰æ•°ç»„çš„å¤§å°ï¼Œæ˜¯å¦æ‰©å®¹åˆ¤æ–­ï¼Œæ•°ç»„çš„å¤åˆ¶å°†éœ€è¦æ’å…¥çš„ä½ç½®çš„å…ƒç´ å¾€åç§»ä¸€ä½ï¼Œæœ€åæ‰§è¡Œæ’å…¥ç‰¹å®šå…ƒç´ ã€‚<br>æ•°ç»„çš„å¼€é”€ä¸»è¦åœ¨äºï¼Œåˆ›å»ºå¼€è¾Ÿæ•°ç»„ç©ºé—´å’Œæ•°ç»„ä¸­çš„å…ƒç´ ç§»åŠ¨ï¼Œæ‰€ä»¥åœ¨å¹³æ—¶çš„æ“ä½œä¸­ï¼Œå°½é‡é¿å…ä½¿ç”¨Addï¼ˆint indexï¼ŒE dataï¼‰æ–¹æ³•ï¼Œåˆ›å»ºæ•°ç»„å‰ç¡®è®¤æ•°ç»„çš„é•¿åº¦ç­‰ã€‚</p>\n<ul>\n<li>LinkedList<br>LinkedListå†…éƒ¨ä½¿ç”¨åŒå‘é“¾è¡¨å®ç°ï¼Œéšæœºè®¿é—®æ•ˆç‡ä½ï¼Œéšæœºæ’å…¥ã€åˆ é™¤æ•ˆç‡é«˜ã€‚å¯ä»¥å½“ä½œå †æ ˆã€é˜Ÿåˆ—ã€åŒå‘é˜Ÿåˆ—æ¥ä½¿ç”¨ã€‚LinkedListä¹Ÿæ˜¯éçº¿ç¨‹å®‰å…¨çš„ã€‚<br>é“¾è¡¨ä¸ºå•¥æ’å…¥æˆ–åˆ é™¤æ•ˆç‡é«˜ï¼Œè®¿é—®æ•ˆç‡ä½ï¼Ÿ<br>ä¸»è¦åŸå› æ˜¯åŒé“¾è¡¨å°±æ˜¯æ¯ä¸ªnodeä¸ä»…åŒ…å«æŒ‡å‘ä¸‹åä¸€ä¸ªç»“ç‚¹çš„å¼•ç”¨ï¼Œè¿˜åŒ…å«ç€æŒ‡å‘å‰ä¸€ä¸ªç»“ç‚¹çš„å¼•ç”¨ã€‚ç”±äºä¸å¿…é¡»æŒ‰é¡ºåºå­˜å‚¨ï¼Œé“¾è¡¨åœ¨æ’å…¥çš„æ—¶å€™å¯ä»¥è¾¾åˆ°O(1)çš„å¤æ‚åº¦ï¼Œæ¯”å¦ä¸€ç§çº¿æ€§è¡¨é¡ºåºè¡¨å¿«å¾—å¤šï¼Œä½†æ˜¯æŸ¥æ‰¾ä¸€ä¸ªèŠ‚ç‚¹æˆ–è€…è®¿é—®ç‰¹å®šç¼–å·çš„èŠ‚ç‚¹åˆ™éœ€è¦O(n)çš„æ—¶é—´ï¼Œè€Œé¡ºåºè¡¨ç›¸åº”çš„æ—¶é—´å¤æ‚åº¦O(1)ã€‚<br>é“¾è¡¨ç»“æ„å¯ä»¥å…‹æœæ•°ç»„é“¾è¡¨éœ€è¦é¢„å…ˆçŸ¥é“æ•°æ®å¤§å°çš„ç¼ºç‚¹ï¼Œé“¾è¡¨ç»“æ„å¯ä»¥å……åˆ†åˆ©ç”¨è®¡ç®—æœºå†…å­˜ç©ºé—´ï¼Œå®ç°çµæ´»çš„å†…å­˜åŠ¨æ€ç®¡ç†ã€‚ä½†æ˜¯é“¾è¡¨å¤±å»äº†æ•°ç»„éšæœºè¯»å–çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶é“¾è¡¨ç”±äºå¢åŠ äº†ç»“ç‚¹çš„æŒ‡é’ˆåŸŸï¼Œç©ºé—´å¼€é”€æ¯”è¾ƒå¤§ã€‚æ¥ä¸‹æ¥å•ç‹¬å†™ä¸€ç¯‡å…³äºé“¾è¡¨çš„æ–‡ç« ï¼Œæ¥å…·ä½“äº†è§£ä¸€ä¸‹é“¾è¡¨ã€‚</li>\n<li>Vector<br>Vectorè·ŸArrayListæ˜¯ç±»ä¼¼çš„ï¼Œå†…éƒ¨å®ç°ä¹Ÿæ˜¯åŠ¨æ€æ•°ç»„ï¼Œéšæœºè®¿é—®æ•ˆç‡é«˜ã€‚Vectoræ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚<br>ç”±äºVectorå†…éƒ¨ä½¿ç”¨äº†synchronizedï¼Œæ‰€ä»¥çº¿ç¨‹æ˜¯å®‰å…¨çš„ï¼Œä½†æ˜¯æ•´ä½“çš„å¼€é”€å°±å¾ˆå¤§ï¼Œæ•ˆç‡ä¸é«˜ã€‚</li>\n</ul>\n<ol start=\"2\">\n<li>Set<br>Setæ˜¯ä¸èƒ½åŒ…å«é‡åˆå…ƒç´ çš„å®¹å™¨ï¼Œå…¶å®ç°ç±»æœ‰HashSetï¼Œç»§æ‰¿äºå®ƒçš„æ¥å£æœ‰SortedSetæ¥å£ç­‰ã€‚Setä¸­æä¾›äº†åŠ ã€å‡ã€å’Œäº¤ç­‰é›†åˆæ“ä½œå‡½æ•°ã€‚Setä¸èƒ½æŒ‰ç…§ç´¢å¼•éšæœºè®¿é—®å…ƒç´ ï¼Œè¿™æ˜¯å®ƒä¸Listçš„ä¸€ä¸ªé‡è¦åŒºåˆ«ã€‚<br>è®²ä¸¤ä¸ªsetå®ç°ç±» hashSet å’Œ TreeSet</li>\n</ol>\n<ul>\n<li>hashSet<br>HashSetå†…éƒ¨æ˜¯ä½¿ç”¨HashMapå®ç°çš„ï¼ŒHashSetçš„keyå€¼æ˜¯ä¸å…è®¸é‡å¤çš„ï¼Œå¦‚æœæ”¾å…¥çš„å¯¹è±¡æ˜¯è‡ªå®šä¹‰å¯¹è±¡ï¼Œé‚£ä¹ˆæœ€å¥½èƒ½å¤ŸåŒæ—¶é‡å†™hashCodeä¸equalså‡½æ•°ï¼Œè¿™æ ·å°±èƒ½è‡ªå®šä¹‰æ·»åŠ çš„å¯¹è±¡åœ¨ä»€ä¹ˆæ ·çš„æƒ…å†µä¸‹æ˜¯ä¸€æ ·çš„ï¼Œå³èƒ½ä¿è¯åœ¨ä¸šåŠ¡é€»è¾‘ä¸‹èƒ½æ·»åŠ å¯¹è±¡åˆ°HashSetä¸­ï¼Œä¿è¯ä¸šåŠ¡é€»è¾‘çš„æ­£ç¡®æ€§ã€‚å¦å¤–ï¼ŒHashSeté‡Œçš„å…ƒç´ ä¸æ˜¯æŒ‰ç…§é¡ºåºå­˜å‚¨çš„ã€‚HashSetæ˜¯éçº¿ç¨‹å®‰å…¨çš„ã€‚</li>\n<li>TreeSet<br>ä¸€èˆ¬æƒ…å†µä¸‹setæ˜¯æ— åºçš„ï¼Œä½†æ˜¯TreeSetå­˜å‚¨çš„å…ƒç´ æ˜¯æŒ‰é¡ºåºå­˜å‚¨çš„ï¼Œå¦‚æœæ˜¯å­˜å‚¨çš„å…ƒç´ æ˜¯è‡ªå®šä¹‰å¯¹è±¡ï¼Œé‚£ä¹ˆéœ€è¦å®ç°Comparableæ¥å£ã€‚TreeSetä¹Ÿæ˜¯éçº¿ç¨‹å®‰å…¨çš„ã€‚</li>\n</ul>\n<ol start=\"3\">\n<li>Map<br>Mapé›†åˆæä¾›äº†æŒ‰ç…§â€œé”®å€¼å¯¹â€å­˜å‚¨å…ƒç´ çš„æ–¹æ³•ï¼Œä¸€ä¸ªé”®å”¯ä¸€æ˜ å°„ä¸€ä¸ªå€¼ã€‚é›†åˆä¸­â€œé”®å€¼å¯¹â€æ•´ä½“ä½œä¸ºä¸€ä¸ªå®ä½“å…ƒç´ æ—¶ï¼Œç±»ä¼¼Listé›†åˆï¼Œä½†æ˜¯å¦‚æœåˆ†å¼€æ¥è®²ï¼ŒMapæ˜¯ä¸€ä¸ªä¸¤åˆ—å…ƒç´ çš„é›†åˆï¼šé”®æ˜¯ä¸€åˆ—ï¼Œå€¼æ˜¯ä¸€åˆ—ã€‚ä¸Seté›†åˆä¸€æ ·ï¼ŒMapä¹Ÿæ²¡æœ‰æä¾›éšæœºè®¿é—®çš„èƒ½åŠ›ï¼Œåªèƒ½é€šè¿‡é”®æ¥è®¿é—®å¯¹åº”çš„å€¼ã€‚<br>Mapçš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªMap.Entryï¼Œè¿™ä¸ªå®ä½“çš„ç»“æ„æ˜¯&lt; Key, Value &gt;æ ·å¼ã€‚</li>\n</ol>\n<ul>\n<li>Mapæ€»ç»“<br>HashMapå­˜å‚¨é”®å€¼å¯¹ã€‚å½“ç¨‹åºè¯•å›¾å°†ä¸€ä¸ªkey-valueå¯¹æ”¾å…¥ HashMap ä¸­æ—¶ï¼Œç¨‹åºé¦–å…ˆæ ¹æ®è¯¥keyçš„hashCode()è¿”å›å€¼å†³å®šè¯¥Entryçš„å­˜å‚¨ä½ç½®ï¼šå¦‚æœä¸¤ä¸ªEntryçš„keyçš„hashCode() è¿”å›å€¼ç›¸åŒï¼Œé‚£å®ƒä»¬çš„å­˜å‚¨ä½ç½®ç›¸åŒã€‚å¦‚æœè¿™ä¸¤ä¸ªEntryçš„keyé€šè¿‡equalsæ¯”è¾ƒè¿”å›trueï¼Œæ–°æ·»åŠ Entryçš„valueå°†è¦†ç›–é›†åˆä¸­åŸæœ‰Entryçš„ valueï¼Œä½†keyä¸ä¼šè¦†ç›–ã€‚å¦‚æœè¿™ä¸¤ä¸ªEntryçš„keyé€šè¿‡equals æ¯”è¾ƒè¿”å›falseï¼Œæ–°æ·»åŠ çš„Entryå°†ä¸é›†åˆä¸­åŸæœ‰Entryå½¢æˆEntry é“¾ï¼Œè€Œä¸”æ–°æ·»åŠ çš„ Entry ä½äº Entry é“¾çš„å¤´éƒ¨ã€‚ç”±äºHashMapå¤šçº¿ç¨‹ä¸‹æ‰©å®¹ä¼šå‡ºçº¿ç¨‹ä¸å®‰å…¨ï¼Œå…·ä½“å‚è€ƒ<a href=\"https://blog.csdn.net/qq_24184997/article/details/87979866\" target=\"_blank\" rel=\"noopener\">è°ˆè°ˆHashMapçº¿ç¨‹ä¸å®‰å…¨çš„ä½“ç°</a>è¿™ç¯‡æ–‡ç« ã€‚<br>æ¥ä¸‹æ¥ä¸€ç¯‡å•ç‹¬è®²ä¸€ä¸‹hashMap åœ¨Java8è·Ÿä¹‹å‰ç‰ˆæœ¬çš„å˜åŒ–å’Œå¦ä¸€ä¸ªConcurrentHashMap èƒ½è§£å†³å¹¶å‘æƒ…å†µä¸‹çš„çº¿ç¨‹ä¸å®‰å…¨<h1 id=\"4-æ€»ç»“ï¼š\"><a href=\"#4-æ€»ç»“ï¼š\" class=\"headerlink\" title=\"4. æ€»ç»“ï¼š\"></a>4. æ€»ç»“ï¼š</h1>å¤§æ¦‚è®²äº†ä¸€ä¸‹ä»€ä¹ˆæ˜¯æ•°æ®ç»“æ„ï¼ŒJavaé›†åˆä¸­ä¸€äº›å®ç°ç±»åº•å±‚ä½¿ç”¨çš„æ•°æ®ç»“æ„ï¼Œå¹¶è¯¦ç»†ä»‹ç»äº†ä¸€äº›Javaé›†åˆå®ç°ç±»çš„ç‰¹ç‚¹å’ŒåŒºåˆ«ã€‚</li>\n</ul>\n<p>å‚è€ƒæ–‡æ¡£:<br><a href=\"https://zh.wikipedia.org/zh-hans/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84\" target=\"_blank\" rel=\"noopener\">æ•°æ®ç»“æ„</a><br><a href=\"https://crossoverjie.top/JCSprout/#/?id=introduction\" target=\"_blank\" rel=\"noopener\">JCSprout</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"1-ä»€ä¹ˆå«æ•°æ®ç»“æ„ï¼Ÿ\"><a href=\"#1-ä»€ä¹ˆå«æ•°æ®ç»“æ„ï¼Ÿ\" class=\"headerlink\" title=\"1.    ä»€ä¹ˆå«æ•°æ®ç»“æ„ï¼Ÿ\"></a>1.    ä»€ä¹ˆå«æ•°æ®ç»“æ„ï¼Ÿ</h1><p>åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œæ•°æ®ç»“æ„ï¼ˆè‹±è¯­ï¼šdata structureï¼‰æ˜¯è®¡ç®—æœºä¸­å­˜å‚¨ã€ç»„ç»‡æ•°æ®çš„æ–¹å¼ã€‚æ•°æ®ç»“æ„æ„å‘³ç€æ¥å£æˆ–å°è£…ï¼šä¸€ä¸ªæ•°æ®ç»“æ„å¯è¢«è§†ä¸ºä¸¤ä¸ªå‡½æ•°ä¹‹é—´çš„æ¥å£ï¼Œæˆ–è€…æ˜¯ç”±æ•°æ®ç±»å‹è”åˆç»„æˆçš„å­˜å‚¨å†…å®¹çš„è®¿é—®æ–¹æ³•å°è£…ã€‚</p>\n<h1 id=\"2-ç»“æ„æœ‰å“ªäº›ï¼Ÿ\"><a href=\"#2-ç»“æ„æœ‰å“ªäº›ï¼Ÿ\" class=\"headerlink\" title=\"2. ç»“æ„æœ‰å“ªäº›ï¼Ÿ\"></a>2. ç»“æ„æœ‰å“ªäº›ï¼Ÿ</h1><p>å¸¸è§çš„æ•°æ®ç»“æ„ä¸»è¦æœ‰8ç§ï¼Œå¼•ç”¨ç™¾åº¦ç™¾ç§‘çš„å›¾ï¼š<br> <img src=\"https://img-blog.csdnimg.cn/20190228100803325.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<h1 id=\"3-ä¸€äº›æ•°æ®ç»“æ„åœ¨Javaä¸­çš„å…·ä½“ä½“ç°ï¼Ÿ\"><a href=\"#3-ä¸€äº›æ•°æ®ç»“æ„åœ¨Javaä¸­çš„å…·ä½“ä½“ç°ï¼Ÿ\" class=\"headerlink\" title=\"3.    ä¸€äº›æ•°æ®ç»“æ„åœ¨Javaä¸­çš„å…·ä½“ä½“ç°ï¼Ÿ\"></a>3.    ä¸€äº›æ•°æ®ç»“æ„åœ¨Javaä¸­çš„å…·ä½“ä½“ç°ï¼Ÿ</h1><ol>\n<li>List æ¥å£<br>List å…·ä½“å®ç°ç±»æœ‰ArrayList, LinkedList, Vectorï¼Œä¸‹é¢æˆ‘ä»¬æ¥ä»‹ç»ä¸€ä¸‹å®ƒä»¬çš„åŸç†ï¼ŒåŒºåˆ«å’Œä½¿ç”¨æ–¹å¼</li>\n</ol>\n<ul>\n<li><p>ArrayList<br>ArrayList å®ç°äº Listã€RandomAccess æ¥å£ã€‚å¯ä»¥æ’å…¥ç©ºæ•°æ®ï¼Œä¹Ÿæ”¯æŒéšæœºè®¿é—®ã€‚å†…éƒ¨å®ç°é‡‡ç”¨åŠ¨æ€æ•°ç»„ï¼Œå½“å®¹é‡ä¸å¤Ÿæ—¶ï¼Œè‡ªåŠ¨æ‰©å®¹è‡³ï¼ˆå½“å‰å®¹é‡1.5å€ï¼‰ã€‚å…ƒç´ çš„é¡ºåºæŒ‰ç…§æ’å…¥çš„é¡ºåºæ’åˆ—ã€‚é»˜è®¤åˆå§‹å®¹é‡ä¸º10ã€‚éšæœºè®¿é—®æ•ˆç‡é«˜ï¼Œéšæœºæ’å…¥ã€åˆ é™¤æ•ˆç‡ä½ã€‚ä¸»è¦çš„å±æ€§æ˜¯elementData æ•°ç»„ï¼Œä»¥åŠ size å¤§å°ã€‚åœ¨æ‰§è¡Œæ·»åŠ addï¼ˆï¼‰æ–¹æ³•æ—¶</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public boolean add(E e) &#123;</span><br><span class=\"line\">    ensureCapacityInternal(size + 1);  // Increments modCount!!</span><br><span class=\"line\">    elementData[size++] = e;</span><br><span class=\"line\">    return true;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ä¸»è¦æ˜¯åšæ‰©å®¹åˆ¤æ–­ï¼Œç„¶åå†å°†æ•°æ®æ’å…¥åˆ°æ•°ç»„ä¸­ã€‚Addï¼ˆint indexï¼ŒE dataï¼‰æ–¹æ³•æ˜¯åœ¨ç‰¹å®šçš„ä½ç½®ï¼Œæ’å…¥ç‰¹å®šçš„å…ƒç´ ã€‚Index ä¸å¤§äºæ•°ç»„çš„å¤§å°ï¼Œè¿™ç§æ–¹å¼æ·»åŠ </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public void add(int index, E element) &#123;</span><br><span class=\"line\">    rangeCheckForAdd(index);</span><br><span class=\"line\">    ensureCapacityInternal(size + 1);  // Increments modCount!!</span><br><span class=\"line\">    System.arraycopy(elementData, index, elementData, index + 1,</span><br><span class=\"line\">                     size - index);</span><br><span class=\"line\">    elementData[index] = element;</span><br><span class=\"line\">    size++;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>é¦–å…ˆæ£€æŸ¥indexæ˜¯å¦è¶…è¿‡å½“å‰æ•°ç»„çš„å¤§å°ï¼Œæ˜¯å¦æ‰©å®¹åˆ¤æ–­ï¼Œæ•°ç»„çš„å¤åˆ¶å°†éœ€è¦æ’å…¥çš„ä½ç½®çš„å…ƒç´ å¾€åç§»ä¸€ä½ï¼Œæœ€åæ‰§è¡Œæ’å…¥ç‰¹å®šå…ƒç´ ã€‚<br>æ•°ç»„çš„å¼€é”€ä¸»è¦åœ¨äºï¼Œåˆ›å»ºå¼€è¾Ÿæ•°ç»„ç©ºé—´å’Œæ•°ç»„ä¸­çš„å…ƒç´ ç§»åŠ¨ï¼Œæ‰€ä»¥åœ¨å¹³æ—¶çš„æ“ä½œä¸­ï¼Œå°½é‡é¿å…ä½¿ç”¨Addï¼ˆint indexï¼ŒE dataï¼‰æ–¹æ³•ï¼Œåˆ›å»ºæ•°ç»„å‰ç¡®è®¤æ•°ç»„çš„é•¿åº¦ç­‰ã€‚</p>\n<ul>\n<li>LinkedList<br>LinkedListå†…éƒ¨ä½¿ç”¨åŒå‘é“¾è¡¨å®ç°ï¼Œéšæœºè®¿é—®æ•ˆç‡ä½ï¼Œéšæœºæ’å…¥ã€åˆ é™¤æ•ˆç‡é«˜ã€‚å¯ä»¥å½“ä½œå †æ ˆã€é˜Ÿåˆ—ã€åŒå‘é˜Ÿåˆ—æ¥ä½¿ç”¨ã€‚LinkedListä¹Ÿæ˜¯éçº¿ç¨‹å®‰å…¨çš„ã€‚<br>é“¾è¡¨ä¸ºå•¥æ’å…¥æˆ–åˆ é™¤æ•ˆç‡é«˜ï¼Œè®¿é—®æ•ˆç‡ä½ï¼Ÿ<br>ä¸»è¦åŸå› æ˜¯åŒé“¾è¡¨å°±æ˜¯æ¯ä¸ªnodeä¸ä»…åŒ…å«æŒ‡å‘ä¸‹åä¸€ä¸ªç»“ç‚¹çš„å¼•ç”¨ï¼Œè¿˜åŒ…å«ç€æŒ‡å‘å‰ä¸€ä¸ªç»“ç‚¹çš„å¼•ç”¨ã€‚ç”±äºä¸å¿…é¡»æŒ‰é¡ºåºå­˜å‚¨ï¼Œé“¾è¡¨åœ¨æ’å…¥çš„æ—¶å€™å¯ä»¥è¾¾åˆ°O(1)çš„å¤æ‚åº¦ï¼Œæ¯”å¦ä¸€ç§çº¿æ€§è¡¨é¡ºåºè¡¨å¿«å¾—å¤šï¼Œä½†æ˜¯æŸ¥æ‰¾ä¸€ä¸ªèŠ‚ç‚¹æˆ–è€…è®¿é—®ç‰¹å®šç¼–å·çš„èŠ‚ç‚¹åˆ™éœ€è¦O(n)çš„æ—¶é—´ï¼Œè€Œé¡ºåºè¡¨ç›¸åº”çš„æ—¶é—´å¤æ‚åº¦O(1)ã€‚<br>é“¾è¡¨ç»“æ„å¯ä»¥å…‹æœæ•°ç»„é“¾è¡¨éœ€è¦é¢„å…ˆçŸ¥é“æ•°æ®å¤§å°çš„ç¼ºç‚¹ï¼Œé“¾è¡¨ç»“æ„å¯ä»¥å……åˆ†åˆ©ç”¨è®¡ç®—æœºå†…å­˜ç©ºé—´ï¼Œå®ç°çµæ´»çš„å†…å­˜åŠ¨æ€ç®¡ç†ã€‚ä½†æ˜¯é“¾è¡¨å¤±å»äº†æ•°ç»„éšæœºè¯»å–çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶é“¾è¡¨ç”±äºå¢åŠ äº†ç»“ç‚¹çš„æŒ‡é’ˆåŸŸï¼Œç©ºé—´å¼€é”€æ¯”è¾ƒå¤§ã€‚æ¥ä¸‹æ¥å•ç‹¬å†™ä¸€ç¯‡å…³äºé“¾è¡¨çš„æ–‡ç« ï¼Œæ¥å…·ä½“äº†è§£ä¸€ä¸‹é“¾è¡¨ã€‚</li>\n<li>Vector<br>Vectorè·ŸArrayListæ˜¯ç±»ä¼¼çš„ï¼Œå†…éƒ¨å®ç°ä¹Ÿæ˜¯åŠ¨æ€æ•°ç»„ï¼Œéšæœºè®¿é—®æ•ˆç‡é«˜ã€‚Vectoræ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚<br>ç”±äºVectorå†…éƒ¨ä½¿ç”¨äº†synchronizedï¼Œæ‰€ä»¥çº¿ç¨‹æ˜¯å®‰å…¨çš„ï¼Œä½†æ˜¯æ•´ä½“çš„å¼€é”€å°±å¾ˆå¤§ï¼Œæ•ˆç‡ä¸é«˜ã€‚</li>\n</ul>\n<ol start=\"2\">\n<li>Set<br>Setæ˜¯ä¸èƒ½åŒ…å«é‡åˆå…ƒç´ çš„å®¹å™¨ï¼Œå…¶å®ç°ç±»æœ‰HashSetï¼Œç»§æ‰¿äºå®ƒçš„æ¥å£æœ‰SortedSetæ¥å£ç­‰ã€‚Setä¸­æä¾›äº†åŠ ã€å‡ã€å’Œäº¤ç­‰é›†åˆæ“ä½œå‡½æ•°ã€‚Setä¸èƒ½æŒ‰ç…§ç´¢å¼•éšæœºè®¿é—®å…ƒç´ ï¼Œè¿™æ˜¯å®ƒä¸Listçš„ä¸€ä¸ªé‡è¦åŒºåˆ«ã€‚<br>è®²ä¸¤ä¸ªsetå®ç°ç±» hashSet å’Œ TreeSet</li>\n</ol>\n<ul>\n<li>hashSet<br>HashSetå†…éƒ¨æ˜¯ä½¿ç”¨HashMapå®ç°çš„ï¼ŒHashSetçš„keyå€¼æ˜¯ä¸å…è®¸é‡å¤çš„ï¼Œå¦‚æœæ”¾å…¥çš„å¯¹è±¡æ˜¯è‡ªå®šä¹‰å¯¹è±¡ï¼Œé‚£ä¹ˆæœ€å¥½èƒ½å¤ŸåŒæ—¶é‡å†™hashCodeä¸equalså‡½æ•°ï¼Œè¿™æ ·å°±èƒ½è‡ªå®šä¹‰æ·»åŠ çš„å¯¹è±¡åœ¨ä»€ä¹ˆæ ·çš„æƒ…å†µä¸‹æ˜¯ä¸€æ ·çš„ï¼Œå³èƒ½ä¿è¯åœ¨ä¸šåŠ¡é€»è¾‘ä¸‹èƒ½æ·»åŠ å¯¹è±¡åˆ°HashSetä¸­ï¼Œä¿è¯ä¸šåŠ¡é€»è¾‘çš„æ­£ç¡®æ€§ã€‚å¦å¤–ï¼ŒHashSeté‡Œçš„å…ƒç´ ä¸æ˜¯æŒ‰ç…§é¡ºåºå­˜å‚¨çš„ã€‚HashSetæ˜¯éçº¿ç¨‹å®‰å…¨çš„ã€‚</li>\n<li>TreeSet<br>ä¸€èˆ¬æƒ…å†µä¸‹setæ˜¯æ— åºçš„ï¼Œä½†æ˜¯TreeSetå­˜å‚¨çš„å…ƒç´ æ˜¯æŒ‰é¡ºåºå­˜å‚¨çš„ï¼Œå¦‚æœæ˜¯å­˜å‚¨çš„å…ƒç´ æ˜¯è‡ªå®šä¹‰å¯¹è±¡ï¼Œé‚£ä¹ˆéœ€è¦å®ç°Comparableæ¥å£ã€‚TreeSetä¹Ÿæ˜¯éçº¿ç¨‹å®‰å…¨çš„ã€‚</li>\n</ul>\n<ol start=\"3\">\n<li>Map<br>Mapé›†åˆæä¾›äº†æŒ‰ç…§â€œé”®å€¼å¯¹â€å­˜å‚¨å…ƒç´ çš„æ–¹æ³•ï¼Œä¸€ä¸ªé”®å”¯ä¸€æ˜ å°„ä¸€ä¸ªå€¼ã€‚é›†åˆä¸­â€œé”®å€¼å¯¹â€æ•´ä½“ä½œä¸ºä¸€ä¸ªå®ä½“å…ƒç´ æ—¶ï¼Œç±»ä¼¼Listé›†åˆï¼Œä½†æ˜¯å¦‚æœåˆ†å¼€æ¥è®²ï¼ŒMapæ˜¯ä¸€ä¸ªä¸¤åˆ—å…ƒç´ çš„é›†åˆï¼šé”®æ˜¯ä¸€åˆ—ï¼Œå€¼æ˜¯ä¸€åˆ—ã€‚ä¸Seté›†åˆä¸€æ ·ï¼ŒMapä¹Ÿæ²¡æœ‰æä¾›éšæœºè®¿é—®çš„èƒ½åŠ›ï¼Œåªèƒ½é€šè¿‡é”®æ¥è®¿é—®å¯¹åº”çš„å€¼ã€‚<br>Mapçš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªMap.Entryï¼Œè¿™ä¸ªå®ä½“çš„ç»“æ„æ˜¯&lt; Key, Value &gt;æ ·å¼ã€‚</li>\n</ol>\n<ul>\n<li>Mapæ€»ç»“<br>HashMapå­˜å‚¨é”®å€¼å¯¹ã€‚å½“ç¨‹åºè¯•å›¾å°†ä¸€ä¸ªkey-valueå¯¹æ”¾å…¥ HashMap ä¸­æ—¶ï¼Œç¨‹åºé¦–å…ˆæ ¹æ®è¯¥keyçš„hashCode()è¿”å›å€¼å†³å®šè¯¥Entryçš„å­˜å‚¨ä½ç½®ï¼šå¦‚æœä¸¤ä¸ªEntryçš„keyçš„hashCode() è¿”å›å€¼ç›¸åŒï¼Œé‚£å®ƒä»¬çš„å­˜å‚¨ä½ç½®ç›¸åŒã€‚å¦‚æœè¿™ä¸¤ä¸ªEntryçš„keyé€šè¿‡equalsæ¯”è¾ƒè¿”å›trueï¼Œæ–°æ·»åŠ Entryçš„valueå°†è¦†ç›–é›†åˆä¸­åŸæœ‰Entryçš„ valueï¼Œä½†keyä¸ä¼šè¦†ç›–ã€‚å¦‚æœè¿™ä¸¤ä¸ªEntryçš„keyé€šè¿‡equals æ¯”è¾ƒè¿”å›falseï¼Œæ–°æ·»åŠ çš„Entryå°†ä¸é›†åˆä¸­åŸæœ‰Entryå½¢æˆEntry é“¾ï¼Œè€Œä¸”æ–°æ·»åŠ çš„ Entry ä½äº Entry é“¾çš„å¤´éƒ¨ã€‚ç”±äºHashMapå¤šçº¿ç¨‹ä¸‹æ‰©å®¹ä¼šå‡ºçº¿ç¨‹ä¸å®‰å…¨ï¼Œå…·ä½“å‚è€ƒ<a href=\"https://blog.csdn.net/qq_24184997/article/details/87979866\" target=\"_blank\" rel=\"noopener\">è°ˆè°ˆHashMapçº¿ç¨‹ä¸å®‰å…¨çš„ä½“ç°</a>è¿™ç¯‡æ–‡ç« ã€‚<br>æ¥ä¸‹æ¥ä¸€ç¯‡å•ç‹¬è®²ä¸€ä¸‹hashMap åœ¨Java8è·Ÿä¹‹å‰ç‰ˆæœ¬çš„å˜åŒ–å’Œå¦ä¸€ä¸ªConcurrentHashMap èƒ½è§£å†³å¹¶å‘æƒ…å†µä¸‹çš„çº¿ç¨‹ä¸å®‰å…¨<h1 id=\"4-æ€»ç»“ï¼š\"><a href=\"#4-æ€»ç»“ï¼š\" class=\"headerlink\" title=\"4. æ€»ç»“ï¼š\"></a>4. æ€»ç»“ï¼š</h1>å¤§æ¦‚è®²äº†ä¸€ä¸‹ä»€ä¹ˆæ˜¯æ•°æ®ç»“æ„ï¼ŒJavaé›†åˆä¸­ä¸€äº›å®ç°ç±»åº•å±‚ä½¿ç”¨çš„æ•°æ®ç»“æ„ï¼Œå¹¶è¯¦ç»†ä»‹ç»äº†ä¸€äº›Javaé›†åˆå®ç°ç±»çš„ç‰¹ç‚¹å’ŒåŒºåˆ«ã€‚</li>\n</ul>\n<p>å‚è€ƒæ–‡æ¡£:<br><a href=\"https://zh.wikipedia.org/zh-hans/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84\" target=\"_blank\" rel=\"noopener\">æ•°æ®ç»“æ„</a><br><a href=\"https://crossoverjie.top/JCSprout/#/?id=introduction\" target=\"_blank\" rel=\"noopener\">JCSprout</a></p>\n"},{"title":"JAVA ç¬”è®°","date":"2019-02-19T10:22:46.000Z","_content":"1. é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„ä¸»è¦åŒºåˆ«\n\n      é¢å‘è¿‡ç¨‹ï¼šæ€§èƒ½ç›¸å¯¹è¾ƒé«˜\n      \n      é¢å‘å¯¹è±¡ï¼šæ˜“æ‰©å±•æ€§ï¼Œå¤ç”¨ï¼Œç»´æŠ¤\n2. Javaçš„ä¸€ç‚¹ç‰¹ç‚¹\n    \n    è·¨å¹³å°: Java è™šæ‹Ÿæœºå®ç°å¹³å°æ— å…³æ€§\n    æ”¯æŒå¤šçº¿ç¨‹ï¼Œç½‘ç»œç¼–ç¨‹\n3. jvm å’Œ jre\n    \n    Jvmï¼šè¿è¡Œ Java å­—èŠ‚ç çš„è™šæ‹Ÿæœº\n    Java æ˜¯ç¼–è¯‘ä¸è§£é‡Šå…±å­˜çš„è¯­è¨€ï¼šæœºå™¨ç çš„è¿è¡Œæ•ˆç‡é«˜äº Java è§£é‡Šå™¨çš„\n    å³æ—¶ç¼–è¾‘å™¨ï¼ˆJITï¼‰: ä¼˜åŒ–å°†å­—èŠ‚ç è½¬æ¢ä¸ºæœºå™¨ç‰¹å®šè¯­è¨€çš„è¿‡ç¨‹ç›¸ä¼¼çš„å­—èŠ‚ç \n    çƒ­ç‚¹ä»£ç : ç»å¸¸éœ€è¦è¢«è°ƒç”¨çš„æ–¹æ³•å’Œä»£ç å—\n4. hashCode å’Œ equals\n    \n    å¯¹è±¡çš„hashCode ä½œç”¨ï¼šhashCodeæ˜¯ä¸€ä¸ªæ•´å‹ï¼Œæé«˜æ¯”è¾ƒæ•ˆç‡\n5. çº¿ç¨‹ï¼Œç¨‹åºï¼Œè¿›ç¨‹\n    \n    ç¨‹åº: ç¨‹åºæ˜¯é™æ€çš„ä»£ç \n    çº¿ç¨‹å’Œè¿›ç¨‹æœ€å¤§çš„ä¸åŒåœ¨äºåŸºæœ¬ä¸Šå„è¿›ç¨‹æ˜¯ç‹¬ç«‹çš„ï¼Œè€Œå„çº¿ç¨‹åˆ™ä¸ä¸€å®šï¼Œå› ä¸ºåŒä¸€è¿›ç¨‹ä¸­çš„çº¿ç¨‹ææœ‰å¯èƒ½ä¼šç›¸äº’å½±å“ã€‚\n    join() å®šä¹‰åœ¨Thread.javaä¸­,ä½œç”¨æ˜¯ç­‰å¾…å½“å‰çº¿ç¨‹æ­»äº¡ï¼Œç„¶åæ‰§è¡Œä¸‹ä¸€æ­¥\n    Thread sleepï¼šç¡çœ ï¼Œè¶…æ—¶åè‡ªåŠ¨å›åˆ°å°±ç»ªçŠ¶æ€ï¼ˆä¸ä¼šé‡Šæ”¾å¯¹è±¡é”çš„æ‰€æœ‰æƒï¼‰ï¼Œç­‰å¾…è·å–èµ„æºcpu\n    Object waitï¼ˆThis method should only be called by a thread that is the owner\n    * of this object's monitor.ï¼‰ï¼šé‡Šæ”¾å¯¹è±¡é”çš„æ‰€æœ‰æƒï¼Œçº¿ç¨‹å¤„äºé˜»å¡çŠ¶æ€ï¼Œç­‰å¾…è°ƒç”¨notify/notifyall\n    Waitå’Œnotify/notifyall ä¸ºå•¥æ˜¯Objectçš„æ–¹æ³•\n    waitç­‰å¾…çš„æ˜¯å¯¹è±¡monitorï¼Œç”±äºJavaä¸­çš„æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå†…ç½®çš„monitorå¯¹è±¡ï¼Œè‡ªç„¶æ‰€æœ‰çš„ç±»éƒ½ç†åº”æœ‰wait/notifyæ–¹æ³•\n    Yieldï¼ˆï¼‰\n6. ä¸ºä»€ä¹ˆå±€éƒ¨å˜é‡éœ€è¦æ˜¾å¼è®¾ç½®åˆå§‹åŒ–å€¼ \n    \n    ä¸»è¦åŸå› æ˜¯æ‰§è¡Œé¡ºåºï¼Œå¯¹äºå±€éƒ¨å˜é‡è€Œè¨€ï¼Œå…¶èµ‹å€¼å’Œå–å€¼è®¿é—®é¡ºåºæ˜¯ç¡®å®šçš„ã€‚Javac ä¸ç»™å±€éƒ¨å˜é‡è®¾ç½®åˆå§‹å€¼ï¼Œä¸»è¦åŸå› æ˜¯ä¸€ç§ç­–ç•¥å†³å®šï¼Œä¸€ç§è§„èŒƒ\n\n\n\n\n","source":"_posts/JAVA-ç¬”è®°.md","raw":"---\ntitle: JAVA ç¬”è®°\ndate: 2019-02-19 18:22:46\ntags:\n- JAVA\n---\n1. é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„ä¸»è¦åŒºåˆ«\n\n      é¢å‘è¿‡ç¨‹ï¼šæ€§èƒ½ç›¸å¯¹è¾ƒé«˜\n      \n      é¢å‘å¯¹è±¡ï¼šæ˜“æ‰©å±•æ€§ï¼Œå¤ç”¨ï¼Œç»´æŠ¤\n2. Javaçš„ä¸€ç‚¹ç‰¹ç‚¹\n    \n    è·¨å¹³å°: Java è™šæ‹Ÿæœºå®ç°å¹³å°æ— å…³æ€§\n    æ”¯æŒå¤šçº¿ç¨‹ï¼Œç½‘ç»œç¼–ç¨‹\n3. jvm å’Œ jre\n    \n    Jvmï¼šè¿è¡Œ Java å­—èŠ‚ç çš„è™šæ‹Ÿæœº\n    Java æ˜¯ç¼–è¯‘ä¸è§£é‡Šå…±å­˜çš„è¯­è¨€ï¼šæœºå™¨ç çš„è¿è¡Œæ•ˆç‡é«˜äº Java è§£é‡Šå™¨çš„\n    å³æ—¶ç¼–è¾‘å™¨ï¼ˆJITï¼‰: ä¼˜åŒ–å°†å­—èŠ‚ç è½¬æ¢ä¸ºæœºå™¨ç‰¹å®šè¯­è¨€çš„è¿‡ç¨‹ç›¸ä¼¼çš„å­—èŠ‚ç \n    çƒ­ç‚¹ä»£ç : ç»å¸¸éœ€è¦è¢«è°ƒç”¨çš„æ–¹æ³•å’Œä»£ç å—\n4. hashCode å’Œ equals\n    \n    å¯¹è±¡çš„hashCode ä½œç”¨ï¼šhashCodeæ˜¯ä¸€ä¸ªæ•´å‹ï¼Œæé«˜æ¯”è¾ƒæ•ˆç‡\n5. çº¿ç¨‹ï¼Œç¨‹åºï¼Œè¿›ç¨‹\n    \n    ç¨‹åº: ç¨‹åºæ˜¯é™æ€çš„ä»£ç \n    çº¿ç¨‹å’Œè¿›ç¨‹æœ€å¤§çš„ä¸åŒåœ¨äºåŸºæœ¬ä¸Šå„è¿›ç¨‹æ˜¯ç‹¬ç«‹çš„ï¼Œè€Œå„çº¿ç¨‹åˆ™ä¸ä¸€å®šï¼Œå› ä¸ºåŒä¸€è¿›ç¨‹ä¸­çš„çº¿ç¨‹ææœ‰å¯èƒ½ä¼šç›¸äº’å½±å“ã€‚\n    join() å®šä¹‰åœ¨Thread.javaä¸­,ä½œç”¨æ˜¯ç­‰å¾…å½“å‰çº¿ç¨‹æ­»äº¡ï¼Œç„¶åæ‰§è¡Œä¸‹ä¸€æ­¥\n    Thread sleepï¼šç¡çœ ï¼Œè¶…æ—¶åè‡ªåŠ¨å›åˆ°å°±ç»ªçŠ¶æ€ï¼ˆä¸ä¼šé‡Šæ”¾å¯¹è±¡é”çš„æ‰€æœ‰æƒï¼‰ï¼Œç­‰å¾…è·å–èµ„æºcpu\n    Object waitï¼ˆThis method should only be called by a thread that is the owner\n    * of this object's monitor.ï¼‰ï¼šé‡Šæ”¾å¯¹è±¡é”çš„æ‰€æœ‰æƒï¼Œçº¿ç¨‹å¤„äºé˜»å¡çŠ¶æ€ï¼Œç­‰å¾…è°ƒç”¨notify/notifyall\n    Waitå’Œnotify/notifyall ä¸ºå•¥æ˜¯Objectçš„æ–¹æ³•\n    waitç­‰å¾…çš„æ˜¯å¯¹è±¡monitorï¼Œç”±äºJavaä¸­çš„æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå†…ç½®çš„monitorå¯¹è±¡ï¼Œè‡ªç„¶æ‰€æœ‰çš„ç±»éƒ½ç†åº”æœ‰wait/notifyæ–¹æ³•\n    Yieldï¼ˆï¼‰\n6. ä¸ºä»€ä¹ˆå±€éƒ¨å˜é‡éœ€è¦æ˜¾å¼è®¾ç½®åˆå§‹åŒ–å€¼ \n    \n    ä¸»è¦åŸå› æ˜¯æ‰§è¡Œé¡ºåºï¼Œå¯¹äºå±€éƒ¨å˜é‡è€Œè¨€ï¼Œå…¶èµ‹å€¼å’Œå–å€¼è®¿é—®é¡ºåºæ˜¯ç¡®å®šçš„ã€‚Javac ä¸ç»™å±€éƒ¨å˜é‡è®¾ç½®åˆå§‹å€¼ï¼Œä¸»è¦åŸå› æ˜¯ä¸€ç§ç­–ç•¥å†³å®šï¼Œä¸€ç§è§„èŒƒ\n\n\n\n\n","slug":"JAVA-ç¬”è®°","published":1,"updated":"2019-07-14T03:11:26.953Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkcttv00024osx32wfm9v4","content":"<ol>\n<li><p>é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„ä¸»è¦åŒºåˆ«</p>\n<p>   é¢å‘è¿‡ç¨‹ï¼šæ€§èƒ½ç›¸å¯¹è¾ƒé«˜</p>\n<p>   é¢å‘å¯¹è±¡ï¼šæ˜“æ‰©å±•æ€§ï¼Œå¤ç”¨ï¼Œç»´æŠ¤</p>\n</li>\n<li><p>Javaçš„ä¸€ç‚¹ç‰¹ç‚¹</p>\n<p> è·¨å¹³å°: Java è™šæ‹Ÿæœºå®ç°å¹³å°æ— å…³æ€§<br> æ”¯æŒå¤šçº¿ç¨‹ï¼Œç½‘ç»œç¼–ç¨‹</p>\n</li>\n<li><p>jvm å’Œ jre</p>\n<p> Jvmï¼šè¿è¡Œ Java å­—èŠ‚ç çš„è™šæ‹Ÿæœº<br> Java æ˜¯ç¼–è¯‘ä¸è§£é‡Šå…±å­˜çš„è¯­è¨€ï¼šæœºå™¨ç çš„è¿è¡Œæ•ˆç‡é«˜äº Java è§£é‡Šå™¨çš„<br> å³æ—¶ç¼–è¾‘å™¨ï¼ˆJITï¼‰: ä¼˜åŒ–å°†å­—èŠ‚ç è½¬æ¢ä¸ºæœºå™¨ç‰¹å®šè¯­è¨€çš„è¿‡ç¨‹ç›¸ä¼¼çš„å­—èŠ‚ç <br> çƒ­ç‚¹ä»£ç : ç»å¸¸éœ€è¦è¢«è°ƒç”¨çš„æ–¹æ³•å’Œä»£ç å—</p>\n</li>\n<li><p>hashCode å’Œ equals</p>\n<p> å¯¹è±¡çš„hashCode ä½œç”¨ï¼šhashCodeæ˜¯ä¸€ä¸ªæ•´å‹ï¼Œæé«˜æ¯”è¾ƒæ•ˆç‡</p>\n</li>\n<li><p>çº¿ç¨‹ï¼Œç¨‹åºï¼Œè¿›ç¨‹</p>\n<p> ç¨‹åº: ç¨‹åºæ˜¯é™æ€çš„ä»£ç <br> çº¿ç¨‹å’Œè¿›ç¨‹æœ€å¤§çš„ä¸åŒåœ¨äºåŸºæœ¬ä¸Šå„è¿›ç¨‹æ˜¯ç‹¬ç«‹çš„ï¼Œè€Œå„çº¿ç¨‹åˆ™ä¸ä¸€å®šï¼Œå› ä¸ºåŒä¸€è¿›ç¨‹ä¸­çš„çº¿ç¨‹ææœ‰å¯èƒ½ä¼šç›¸äº’å½±å“ã€‚<br> join() å®šä¹‰åœ¨Thread.javaä¸­,ä½œç”¨æ˜¯ç­‰å¾…å½“å‰çº¿ç¨‹æ­»äº¡ï¼Œç„¶åæ‰§è¡Œä¸‹ä¸€æ­¥<br> Thread sleepï¼šç¡çœ ï¼Œè¶…æ—¶åè‡ªåŠ¨å›åˆ°å°±ç»ªçŠ¶æ€ï¼ˆä¸ä¼šé‡Šæ”¾å¯¹è±¡é”çš„æ‰€æœ‰æƒï¼‰ï¼Œç­‰å¾…è·å–èµ„æºcpu<br> Object waitï¼ˆThis method should only be called by a thread that is the owner</p>\n<ul>\n<li>of this objectâ€™s monitor.ï¼‰ï¼šé‡Šæ”¾å¯¹è±¡é”çš„æ‰€æœ‰æƒï¼Œçº¿ç¨‹å¤„äºé˜»å¡çŠ¶æ€ï¼Œç­‰å¾…è°ƒç”¨notify/notifyall<br>Waitå’Œnotify/notifyall ä¸ºå•¥æ˜¯Objectçš„æ–¹æ³•<br>waitç­‰å¾…çš„æ˜¯å¯¹è±¡monitorï¼Œç”±äºJavaä¸­çš„æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå†…ç½®çš„monitorå¯¹è±¡ï¼Œè‡ªç„¶æ‰€æœ‰çš„ç±»éƒ½ç†åº”æœ‰wait/notifyæ–¹æ³•<br>Yieldï¼ˆï¼‰</li>\n</ul>\n</li>\n<li><p>ä¸ºä»€ä¹ˆå±€éƒ¨å˜é‡éœ€è¦æ˜¾å¼è®¾ç½®åˆå§‹åŒ–å€¼ </p>\n<p> ä¸»è¦åŸå› æ˜¯æ‰§è¡Œé¡ºåºï¼Œå¯¹äºå±€éƒ¨å˜é‡è€Œè¨€ï¼Œå…¶èµ‹å€¼å’Œå–å€¼è®¿é—®é¡ºåºæ˜¯ç¡®å®šçš„ã€‚Javac ä¸ç»™å±€éƒ¨å˜é‡è®¾ç½®åˆå§‹å€¼ï¼Œä¸»è¦åŸå› æ˜¯ä¸€ç§ç­–ç•¥å†³å®šï¼Œä¸€ç§è§„èŒƒ</p>\n</li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<ol>\n<li><p>é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„ä¸»è¦åŒºåˆ«</p>\n<p>   é¢å‘è¿‡ç¨‹ï¼šæ€§èƒ½ç›¸å¯¹è¾ƒé«˜</p>\n<p>   é¢å‘å¯¹è±¡ï¼šæ˜“æ‰©å±•æ€§ï¼Œå¤ç”¨ï¼Œç»´æŠ¤</p>\n</li>\n<li><p>Javaçš„ä¸€ç‚¹ç‰¹ç‚¹</p>\n<p> è·¨å¹³å°: Java è™šæ‹Ÿæœºå®ç°å¹³å°æ— å…³æ€§<br> æ”¯æŒå¤šçº¿ç¨‹ï¼Œç½‘ç»œç¼–ç¨‹</p>\n</li>\n<li><p>jvm å’Œ jre</p>\n<p> Jvmï¼šè¿è¡Œ Java å­—èŠ‚ç çš„è™šæ‹Ÿæœº<br> Java æ˜¯ç¼–è¯‘ä¸è§£é‡Šå…±å­˜çš„è¯­è¨€ï¼šæœºå™¨ç çš„è¿è¡Œæ•ˆç‡é«˜äº Java è§£é‡Šå™¨çš„<br> å³æ—¶ç¼–è¾‘å™¨ï¼ˆJITï¼‰: ä¼˜åŒ–å°†å­—èŠ‚ç è½¬æ¢ä¸ºæœºå™¨ç‰¹å®šè¯­è¨€çš„è¿‡ç¨‹ç›¸ä¼¼çš„å­—èŠ‚ç <br> çƒ­ç‚¹ä»£ç : ç»å¸¸éœ€è¦è¢«è°ƒç”¨çš„æ–¹æ³•å’Œä»£ç å—</p>\n</li>\n<li><p>hashCode å’Œ equals</p>\n<p> å¯¹è±¡çš„hashCode ä½œç”¨ï¼šhashCodeæ˜¯ä¸€ä¸ªæ•´å‹ï¼Œæé«˜æ¯”è¾ƒæ•ˆç‡</p>\n</li>\n<li><p>çº¿ç¨‹ï¼Œç¨‹åºï¼Œè¿›ç¨‹</p>\n<p> ç¨‹åº: ç¨‹åºæ˜¯é™æ€çš„ä»£ç <br> çº¿ç¨‹å’Œè¿›ç¨‹æœ€å¤§çš„ä¸åŒåœ¨äºåŸºæœ¬ä¸Šå„è¿›ç¨‹æ˜¯ç‹¬ç«‹çš„ï¼Œè€Œå„çº¿ç¨‹åˆ™ä¸ä¸€å®šï¼Œå› ä¸ºåŒä¸€è¿›ç¨‹ä¸­çš„çº¿ç¨‹ææœ‰å¯èƒ½ä¼šç›¸äº’å½±å“ã€‚<br> join() å®šä¹‰åœ¨Thread.javaä¸­,ä½œç”¨æ˜¯ç­‰å¾…å½“å‰çº¿ç¨‹æ­»äº¡ï¼Œç„¶åæ‰§è¡Œä¸‹ä¸€æ­¥<br> Thread sleepï¼šç¡çœ ï¼Œè¶…æ—¶åè‡ªåŠ¨å›åˆ°å°±ç»ªçŠ¶æ€ï¼ˆä¸ä¼šé‡Šæ”¾å¯¹è±¡é”çš„æ‰€æœ‰æƒï¼‰ï¼Œç­‰å¾…è·å–èµ„æºcpu<br> Object waitï¼ˆThis method should only be called by a thread that is the owner</p>\n<ul>\n<li>of this objectâ€™s monitor.ï¼‰ï¼šé‡Šæ”¾å¯¹è±¡é”çš„æ‰€æœ‰æƒï¼Œçº¿ç¨‹å¤„äºé˜»å¡çŠ¶æ€ï¼Œç­‰å¾…è°ƒç”¨notify/notifyall<br>Waitå’Œnotify/notifyall ä¸ºå•¥æ˜¯Objectçš„æ–¹æ³•<br>waitç­‰å¾…çš„æ˜¯å¯¹è±¡monitorï¼Œç”±äºJavaä¸­çš„æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå†…ç½®çš„monitorå¯¹è±¡ï¼Œè‡ªç„¶æ‰€æœ‰çš„ç±»éƒ½ç†åº”æœ‰wait/notifyæ–¹æ³•<br>Yieldï¼ˆï¼‰</li>\n</ul>\n</li>\n<li><p>ä¸ºä»€ä¹ˆå±€éƒ¨å˜é‡éœ€è¦æ˜¾å¼è®¾ç½®åˆå§‹åŒ–å€¼ </p>\n<p> ä¸»è¦åŸå› æ˜¯æ‰§è¡Œé¡ºåºï¼Œå¯¹äºå±€éƒ¨å˜é‡è€Œè¨€ï¼Œå…¶èµ‹å€¼å’Œå–å€¼è®¿é—®é¡ºåºæ˜¯ç¡®å®šçš„ã€‚Javac ä¸ç»™å±€éƒ¨å˜é‡è®¾ç½®åˆå§‹å€¼ï¼Œä¸»è¦åŸå› æ˜¯ä¸€ç§ç­–ç•¥å†³å®šï¼Œä¸€ç§è§„èŒƒ</p>\n</li>\n</ol>\n"},{"title":"Java åŠ¨æ€ä»£ç†ä¸ºå•¥éœ€è¦æ¥å£ï¼Ÿï¼Ÿï¼Ÿ","date":"2019-03-15T01:43:16.000Z","_content":"\nå¸¦ç€é—®é¢˜ï¼Œæˆ‘ä»¬ç›´æ¥æŸ¥çœ‹æºç ï¼š\n```\npublic static Object newProxyInstance(ClassLoader loader,\n                                          Class<?>[] interfaces,\n                                          InvocationHandler h)\n        throws IllegalArgumentException\n    {\n        Objects.requireNonNull(h);\n\n        final Class<?>[] intfs = interfaces.clone();\n        final SecurityManager sm = System.getSecurityManager();\n        if (sm != null) {\n            checkProxyAccess(Reflection.getCallerClass(), loader, intfs);\n        }\n\n        /*\n         * Look up or generate the designated proxy class.\n         */\n        Class<?> cl = getProxyClass0(loader, intfs);\n\n        /*\n         * Invoke its constructor with the designated invocation handler.\n         */\n        try {\n            if (sm != null) {\n                checkNewProxyPermission(Reflection.getCallerClass(), cl);\n            }\n\n            final Constructor<?> cons = cl.getConstructor(constructorParams);\n            final InvocationHandler ih = h;\n            if (!Modifier.isPublic(cl.getModifiers())) {\n                AccessController.doPrivileged(new PrivilegedAction<Void>() {\n                    public Void run() {\n                        cons.setAccessible(true);\n                        return null;\n                    }\n                });\n            }\n            return cons.newInstance(new Object[]{h});\n        }\n        ....\n    }\n```\nä»æºç ä¸Šï¼Œé¦–å…ˆè¿›è¡Œä¸€ç³»åˆ—çš„åˆ¤æ–­é€»è¾‘ï¼Œç„¶ååˆ°äº†\nClass<?> cl = getProxyClass0(loader, intfs);\nè·å–ä»£ç†ç±»çš„Class å¯¹è±¡ï¼Œæ¥ä¸‹æ¥æ‰§è¡Œ\n final Constructor<?> cons = cl.getConstructor(constructorParams);\n è·å–Classçš„æ„é€ å¯¹è±¡ï¼Œé€šè¿‡cons.newInstance(new Object[]{h}); è¿”å›ä¸€ä¸ªä»£ç†ç±»å®ä¾‹å¯¹è±¡ï¼Œå…·ä½“å‚è€ƒ [Javaåå°„](http://www.xulian.net.cn/2019/02/20/java-%E5%8F%8D%E5%B0%84%E7%AC%94%E8%AE%B0/) ã€‚\n ç›®å‰æˆ‘ä»¬åªçŸ¥é“ä»£ç†ç±»å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼Œä½†æ˜¯ä¸ºå•¥åªèƒ½ä¼ å…¥æ¥å£è¿˜æ˜¯å¾—ä¸åˆ°è§£å†³ï¼Œé‚£æˆ‘ä»¬åªèƒ½ç»§ç»­æŸ¥çœ‹getProxyClass0æºç ï¼š\n å…·ä½“å®ç°æ­¥éª¤ï¼š\n 1. éªŒè¯ï¼Œé€šè¿‡ç±»åŠ è½½å¯¹è±¡å’Œæ¥å£åˆ—è¡¨è·å–ä»£ç†ç±»çš„Classå¯¹è±¡ï¼Œå¦‚æœç¼“å­˜ä¸­å­˜åœ¨åˆ™è¿”å›ï¼Œæ²¡æœ‰å°±é€šè¿‡ä»£ç†ç±»å·¥å‚åˆ›å»ºä»£ç†ç±»\n 2. åˆ›å»ºä»£ç†ç±»\né€šè¿‡ProxyClassFactoryå·¥å‚åˆ›å»ºä»£ç†ç±»ï¼Œæ ¸å¿ƒä»£ç å¦‚ä¸‹\n```\nString proxyName = proxyPkg + proxyClassNamePrefix + num;\nbyte[] proxyClassFile = ProxyGenerator.generateProxyClass(proxyName, interfaces, accessFlags);\ndefineClass0(loader, proxyName, proxyClassFile, 0, proxyClassFile.length);\n```\nå®šä¹‰ä¸€ä¸ªç±»çš„åç§°ï¼Œé€šè¿‡ä¼ å…¥çš„æ¥å£åˆ—è¡¨å’Œè®¿é—®æ ‡å¿—ç”Ÿæˆä¸€ä¸ªä»£ç†ç±»çš„å­—èŠ‚ç ï¼Œæœ€åè°ƒç”¨defineClass0æ–¹æ³•å°†å­—èŠ‚ç åŠ è½½åˆ°ç±»åŠ è½½å™¨ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªä»£ç†ç±»ã€‚\nç°åœ¨æˆ‘ä»¬æ¥å®ç°å°†ä»£ç†ç±»çš„å­—èŠ‚ç å†™å…¥æœ¬åœ°ï¼ŒæŸ¥çœ‹å…·ä½“ä»£ç†ç±»çš„ä¿¡æ¯ï¼š\n```\nbyte[] proxyClassFile = ProxyGenerator.generateProxyClass(\n                \"$proxy1\", new Class[] {Worker.class}, Modifier.PUBLIC);\n        FileOutputStream fos = null;\n        try {\n            fos = new FileOutputStream(\"D:/$proxy1.class\");\n            fos.write(proxyClassFile);\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                fos.flush();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n```\né€šè¿‡åç¼–è¯‘å¯æŸ¥çœ‹å­—èŠ‚ç ï¼š\n```\npublic class $proxy1 extends Proxy  implements Worker {\n....\npublic final void work()  throws  {\n    try  {\n      this.h.invoke(this, m3, null);\n      return;\n    }\n    ....\n  }\n....\n}\n```\nç°åœ¨æˆ‘ä»¬ç»ˆäºå¾—åˆ°ç­”æ¡ˆï¼Œä¸ºå•¥åŠ¨æ€ä»£ç†éœ€è¦ä½¿ç”¨æ¥å£ï¼Œä¸»è¦åŸå› æ˜¯ä»£ç†ç±»å·²ç»ç»§æ‰¿äº†Proxyç±»ï¼ŒJavaä¸æ”¯æŒå¤šç»§æ‰¿æ‰€ä»¥å¯¼è‡´åŠ¨æ€ä»£ç†éœ€è¦ä½¿ç”¨æ¥å£ï¼Œæ¥å£æ”¯æŒå¤šç»§æ‰¿ã€‚ç»ˆäºå¯ä»¥è¯´æœè‡ªå·±ä¸ºå•¥åŠ¨æ€ä»£ç†éœ€è¦æ¥å£äº†ã€‚ã€‚ã€‚ã€‚ã€‚\n\nå‚è€ƒæ–‡æ¡£ï¼š\njdk 8\n","source":"_posts/Java-åŠ¨æ€ä»£ç†ä¸ºå•¥éœ€è¦æ¥å£ï¼Ÿï¼Ÿï¼Ÿ.md","raw":"---\ntitle: Java åŠ¨æ€ä»£ç†ä¸ºå•¥éœ€è¦æ¥å£ï¼Ÿï¼Ÿï¼Ÿ\ndate: 2019-03-15 09:43:16\ntags:\n- java\n- åŠ¨æ€ä»£ç†\n---\n\nå¸¦ç€é—®é¢˜ï¼Œæˆ‘ä»¬ç›´æ¥æŸ¥çœ‹æºç ï¼š\n```\npublic static Object newProxyInstance(ClassLoader loader,\n                                          Class<?>[] interfaces,\n                                          InvocationHandler h)\n        throws IllegalArgumentException\n    {\n        Objects.requireNonNull(h);\n\n        final Class<?>[] intfs = interfaces.clone();\n        final SecurityManager sm = System.getSecurityManager();\n        if (sm != null) {\n            checkProxyAccess(Reflection.getCallerClass(), loader, intfs);\n        }\n\n        /*\n         * Look up or generate the designated proxy class.\n         */\n        Class<?> cl = getProxyClass0(loader, intfs);\n\n        /*\n         * Invoke its constructor with the designated invocation handler.\n         */\n        try {\n            if (sm != null) {\n                checkNewProxyPermission(Reflection.getCallerClass(), cl);\n            }\n\n            final Constructor<?> cons = cl.getConstructor(constructorParams);\n            final InvocationHandler ih = h;\n            if (!Modifier.isPublic(cl.getModifiers())) {\n                AccessController.doPrivileged(new PrivilegedAction<Void>() {\n                    public Void run() {\n                        cons.setAccessible(true);\n                        return null;\n                    }\n                });\n            }\n            return cons.newInstance(new Object[]{h});\n        }\n        ....\n    }\n```\nä»æºç ä¸Šï¼Œé¦–å…ˆè¿›è¡Œä¸€ç³»åˆ—çš„åˆ¤æ–­é€»è¾‘ï¼Œç„¶ååˆ°äº†\nClass<?> cl = getProxyClass0(loader, intfs);\nè·å–ä»£ç†ç±»çš„Class å¯¹è±¡ï¼Œæ¥ä¸‹æ¥æ‰§è¡Œ\n final Constructor<?> cons = cl.getConstructor(constructorParams);\n è·å–Classçš„æ„é€ å¯¹è±¡ï¼Œé€šè¿‡cons.newInstance(new Object[]{h}); è¿”å›ä¸€ä¸ªä»£ç†ç±»å®ä¾‹å¯¹è±¡ï¼Œå…·ä½“å‚è€ƒ [Javaåå°„](http://www.xulian.net.cn/2019/02/20/java-%E5%8F%8D%E5%B0%84%E7%AC%94%E8%AE%B0/) ã€‚\n ç›®å‰æˆ‘ä»¬åªçŸ¥é“ä»£ç†ç±»å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼Œä½†æ˜¯ä¸ºå•¥åªèƒ½ä¼ å…¥æ¥å£è¿˜æ˜¯å¾—ä¸åˆ°è§£å†³ï¼Œé‚£æˆ‘ä»¬åªèƒ½ç»§ç»­æŸ¥çœ‹getProxyClass0æºç ï¼š\n å…·ä½“å®ç°æ­¥éª¤ï¼š\n 1. éªŒè¯ï¼Œé€šè¿‡ç±»åŠ è½½å¯¹è±¡å’Œæ¥å£åˆ—è¡¨è·å–ä»£ç†ç±»çš„Classå¯¹è±¡ï¼Œå¦‚æœç¼“å­˜ä¸­å­˜åœ¨åˆ™è¿”å›ï¼Œæ²¡æœ‰å°±é€šè¿‡ä»£ç†ç±»å·¥å‚åˆ›å»ºä»£ç†ç±»\n 2. åˆ›å»ºä»£ç†ç±»\né€šè¿‡ProxyClassFactoryå·¥å‚åˆ›å»ºä»£ç†ç±»ï¼Œæ ¸å¿ƒä»£ç å¦‚ä¸‹\n```\nString proxyName = proxyPkg + proxyClassNamePrefix + num;\nbyte[] proxyClassFile = ProxyGenerator.generateProxyClass(proxyName, interfaces, accessFlags);\ndefineClass0(loader, proxyName, proxyClassFile, 0, proxyClassFile.length);\n```\nå®šä¹‰ä¸€ä¸ªç±»çš„åç§°ï¼Œé€šè¿‡ä¼ å…¥çš„æ¥å£åˆ—è¡¨å’Œè®¿é—®æ ‡å¿—ç”Ÿæˆä¸€ä¸ªä»£ç†ç±»çš„å­—èŠ‚ç ï¼Œæœ€åè°ƒç”¨defineClass0æ–¹æ³•å°†å­—èŠ‚ç åŠ è½½åˆ°ç±»åŠ è½½å™¨ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªä»£ç†ç±»ã€‚\nç°åœ¨æˆ‘ä»¬æ¥å®ç°å°†ä»£ç†ç±»çš„å­—èŠ‚ç å†™å…¥æœ¬åœ°ï¼ŒæŸ¥çœ‹å…·ä½“ä»£ç†ç±»çš„ä¿¡æ¯ï¼š\n```\nbyte[] proxyClassFile = ProxyGenerator.generateProxyClass(\n                \"$proxy1\", new Class[] {Worker.class}, Modifier.PUBLIC);\n        FileOutputStream fos = null;\n        try {\n            fos = new FileOutputStream(\"D:/$proxy1.class\");\n            fos.write(proxyClassFile);\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                fos.flush();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n```\né€šè¿‡åç¼–è¯‘å¯æŸ¥çœ‹å­—èŠ‚ç ï¼š\n```\npublic class $proxy1 extends Proxy  implements Worker {\n....\npublic final void work()  throws  {\n    try  {\n      this.h.invoke(this, m3, null);\n      return;\n    }\n    ....\n  }\n....\n}\n```\nç°åœ¨æˆ‘ä»¬ç»ˆäºå¾—åˆ°ç­”æ¡ˆï¼Œä¸ºå•¥åŠ¨æ€ä»£ç†éœ€è¦ä½¿ç”¨æ¥å£ï¼Œä¸»è¦åŸå› æ˜¯ä»£ç†ç±»å·²ç»ç»§æ‰¿äº†Proxyç±»ï¼ŒJavaä¸æ”¯æŒå¤šç»§æ‰¿æ‰€ä»¥å¯¼è‡´åŠ¨æ€ä»£ç†éœ€è¦ä½¿ç”¨æ¥å£ï¼Œæ¥å£æ”¯æŒå¤šç»§æ‰¿ã€‚ç»ˆäºå¯ä»¥è¯´æœè‡ªå·±ä¸ºå•¥åŠ¨æ€ä»£ç†éœ€è¦æ¥å£äº†ã€‚ã€‚ã€‚ã€‚ã€‚\n\nå‚è€ƒæ–‡æ¡£ï¼š\njdk 8\n","slug":"Java-åŠ¨æ€ä»£ç†ä¸ºå•¥éœ€è¦æ¥å£ï¼Ÿï¼Ÿï¼Ÿ","published":1,"updated":"2019-07-14T03:11:26.954Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkcttz00044osx3l9fw33g","content":"<p>å¸¦ç€é—®é¢˜ï¼Œæˆ‘ä»¬ç›´æ¥æŸ¥çœ‹æºç ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public static Object newProxyInstance(ClassLoader loader,</span><br><span class=\"line\">                                          Class&lt;?&gt;[] interfaces,</span><br><span class=\"line\">                                          InvocationHandler h)</span><br><span class=\"line\">        throws IllegalArgumentException</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Objects.requireNonNull(h);</span><br><span class=\"line\"></span><br><span class=\"line\">        final Class&lt;?&gt;[] intfs = interfaces.clone();</span><br><span class=\"line\">        final SecurityManager sm = System.getSecurityManager();</span><br><span class=\"line\">        if (sm != null) &#123;</span><br><span class=\"line\">            checkProxyAccess(Reflection.getCallerClass(), loader, intfs);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        /*</span><br><span class=\"line\">         * Look up or generate the designated proxy class.</span><br><span class=\"line\">         */</span><br><span class=\"line\">        Class&lt;?&gt; cl = getProxyClass0(loader, intfs);</span><br><span class=\"line\"></span><br><span class=\"line\">        /*</span><br><span class=\"line\">         * Invoke its constructor with the designated invocation handler.</span><br><span class=\"line\">         */</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            if (sm != null) &#123;</span><br><span class=\"line\">                checkNewProxyPermission(Reflection.getCallerClass(), cl);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            final Constructor&lt;?&gt; cons = cl.getConstructor(constructorParams);</span><br><span class=\"line\">            final InvocationHandler ih = h;</span><br><span class=\"line\">            if (!Modifier.isPublic(cl.getModifiers())) &#123;</span><br><span class=\"line\">                AccessController.doPrivileged(new PrivilegedAction&lt;Void&gt;() &#123;</span><br><span class=\"line\">                    public Void run() &#123;</span><br><span class=\"line\">                        cons.setAccessible(true);</span><br><span class=\"line\">                        return null;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            return cons.newInstance(new Object[]&#123;h&#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        ....</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></p>\n<p>ä»æºç ä¸Šï¼Œé¦–å…ˆè¿›è¡Œä¸€ç³»åˆ—çš„åˆ¤æ–­é€»è¾‘ï¼Œç„¶ååˆ°äº†<br>Class&lt;?&gt; cl = getProxyClass0(loader, intfs);<br>è·å–ä»£ç†ç±»çš„Class å¯¹è±¡ï¼Œæ¥ä¸‹æ¥æ‰§è¡Œ<br> final Constructor&lt;?&gt; cons = cl.getConstructor(constructorParams);<br> è·å–Classçš„æ„é€ å¯¹è±¡ï¼Œé€šè¿‡cons.newInstance(new Object[]{h}); è¿”å›ä¸€ä¸ªä»£ç†ç±»å®ä¾‹å¯¹è±¡ï¼Œå…·ä½“å‚è€ƒ <a href=\"http://www.xulian.net.cn/2019/02/20/java-%E5%8F%8D%E5%B0%84%E7%AC%94%E8%AE%B0/\" target=\"_blank\" rel=\"noopener\">Javaåå°„</a> ã€‚<br> ç›®å‰æˆ‘ä»¬åªçŸ¥é“ä»£ç†ç±»å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼Œä½†æ˜¯ä¸ºå•¥åªèƒ½ä¼ å…¥æ¥å£è¿˜æ˜¯å¾—ä¸åˆ°è§£å†³ï¼Œé‚£æˆ‘ä»¬åªèƒ½ç»§ç»­æŸ¥çœ‹getProxyClass0æºç ï¼š<br> å…·ä½“å®ç°æ­¥éª¤ï¼š</p>\n<ol>\n<li>éªŒè¯ï¼Œé€šè¿‡ç±»åŠ è½½å¯¹è±¡å’Œæ¥å£åˆ—è¡¨è·å–ä»£ç†ç±»çš„Classå¯¹è±¡ï¼Œå¦‚æœç¼“å­˜ä¸­å­˜åœ¨åˆ™è¿”å›ï¼Œæ²¡æœ‰å°±é€šè¿‡ä»£ç†ç±»å·¥å‚åˆ›å»ºä»£ç†ç±»</li>\n<li>åˆ›å»ºä»£ç†ç±»<br>é€šè¿‡ProxyClassFactoryå·¥å‚åˆ›å»ºä»£ç†ç±»ï¼Œæ ¸å¿ƒä»£ç å¦‚ä¸‹<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String proxyName = proxyPkg + proxyClassNamePrefix + num;</span><br><span class=\"line\">byte[] proxyClassFile = ProxyGenerator.generateProxyClass(proxyName, interfaces, accessFlags);</span><br><span class=\"line\">defineClass0(loader, proxyName, proxyClassFile, 0, proxyClassFile.length);</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>å®šä¹‰ä¸€ä¸ªç±»çš„åç§°ï¼Œé€šè¿‡ä¼ å…¥çš„æ¥å£åˆ—è¡¨å’Œè®¿é—®æ ‡å¿—ç”Ÿæˆä¸€ä¸ªä»£ç†ç±»çš„å­—èŠ‚ç ï¼Œæœ€åè°ƒç”¨defineClass0æ–¹æ³•å°†å­—èŠ‚ç åŠ è½½åˆ°ç±»åŠ è½½å™¨ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªä»£ç†ç±»ã€‚<br>ç°åœ¨æˆ‘ä»¬æ¥å®ç°å°†ä»£ç†ç±»çš„å­—èŠ‚ç å†™å…¥æœ¬åœ°ï¼ŒæŸ¥çœ‹å…·ä½“ä»£ç†ç±»çš„ä¿¡æ¯ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">byte[] proxyClassFile = ProxyGenerator.generateProxyClass(</span><br><span class=\"line\">                &quot;$proxy1&quot;, new Class[] &#123;Worker.class&#125;, Modifier.PUBLIC);</span><br><span class=\"line\">        FileOutputStream fos = null;</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            fos = new FileOutputStream(&quot;D:/$proxy1.class&quot;);</span><br><span class=\"line\">            fos.write(proxyClassFile);</span><br><span class=\"line\">        &#125; catch (FileNotFoundException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125; catch (IOException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125; finally &#123;</span><br><span class=\"line\">            try &#123;</span><br><span class=\"line\">                fos.flush();</span><br><span class=\"line\">            &#125; catch (IOException e) &#123;</span><br><span class=\"line\">                e.printStackTrace();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br></pre></td></tr></table></figure></p>\n<p>é€šè¿‡åç¼–è¯‘å¯æŸ¥çœ‹å­—èŠ‚ç ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class $proxy1 extends Proxy  implements Worker &#123;</span><br><span class=\"line\">....</span><br><span class=\"line\">public final void work()  throws  &#123;</span><br><span class=\"line\">    try  &#123;</span><br><span class=\"line\">      this.h.invoke(this, m3, null);</span><br><span class=\"line\">      return;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    ....</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">....</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ç°åœ¨æˆ‘ä»¬ç»ˆäºå¾—åˆ°ç­”æ¡ˆï¼Œä¸ºå•¥åŠ¨æ€ä»£ç†éœ€è¦ä½¿ç”¨æ¥å£ï¼Œä¸»è¦åŸå› æ˜¯ä»£ç†ç±»å·²ç»ç»§æ‰¿äº†Proxyç±»ï¼ŒJavaä¸æ”¯æŒå¤šç»§æ‰¿æ‰€ä»¥å¯¼è‡´åŠ¨æ€ä»£ç†éœ€è¦ä½¿ç”¨æ¥å£ï¼Œæ¥å£æ”¯æŒå¤šç»§æ‰¿ã€‚ç»ˆäºå¯ä»¥è¯´æœè‡ªå·±ä¸ºå•¥åŠ¨æ€ä»£ç†éœ€è¦æ¥å£äº†ã€‚ã€‚ã€‚ã€‚ã€‚</p>\n<p>å‚è€ƒæ–‡æ¡£ï¼š<br>jdk 8</p>\n","site":{"data":{}},"excerpt":"","more":"<p>å¸¦ç€é—®é¢˜ï¼Œæˆ‘ä»¬ç›´æ¥æŸ¥çœ‹æºç ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public static Object newProxyInstance(ClassLoader loader,</span><br><span class=\"line\">                                          Class&lt;?&gt;[] interfaces,</span><br><span class=\"line\">                                          InvocationHandler h)</span><br><span class=\"line\">        throws IllegalArgumentException</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Objects.requireNonNull(h);</span><br><span class=\"line\"></span><br><span class=\"line\">        final Class&lt;?&gt;[] intfs = interfaces.clone();</span><br><span class=\"line\">        final SecurityManager sm = System.getSecurityManager();</span><br><span class=\"line\">        if (sm != null) &#123;</span><br><span class=\"line\">            checkProxyAccess(Reflection.getCallerClass(), loader, intfs);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        /*</span><br><span class=\"line\">         * Look up or generate the designated proxy class.</span><br><span class=\"line\">         */</span><br><span class=\"line\">        Class&lt;?&gt; cl = getProxyClass0(loader, intfs);</span><br><span class=\"line\"></span><br><span class=\"line\">        /*</span><br><span class=\"line\">         * Invoke its constructor with the designated invocation handler.</span><br><span class=\"line\">         */</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            if (sm != null) &#123;</span><br><span class=\"line\">                checkNewProxyPermission(Reflection.getCallerClass(), cl);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            final Constructor&lt;?&gt; cons = cl.getConstructor(constructorParams);</span><br><span class=\"line\">            final InvocationHandler ih = h;</span><br><span class=\"line\">            if (!Modifier.isPublic(cl.getModifiers())) &#123;</span><br><span class=\"line\">                AccessController.doPrivileged(new PrivilegedAction&lt;Void&gt;() &#123;</span><br><span class=\"line\">                    public Void run() &#123;</span><br><span class=\"line\">                        cons.setAccessible(true);</span><br><span class=\"line\">                        return null;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            return cons.newInstance(new Object[]&#123;h&#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        ....</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></p>\n<p>ä»æºç ä¸Šï¼Œé¦–å…ˆè¿›è¡Œä¸€ç³»åˆ—çš„åˆ¤æ–­é€»è¾‘ï¼Œç„¶ååˆ°äº†<br>Class&lt;?&gt; cl = getProxyClass0(loader, intfs);<br>è·å–ä»£ç†ç±»çš„Class å¯¹è±¡ï¼Œæ¥ä¸‹æ¥æ‰§è¡Œ<br> final Constructor&lt;?&gt; cons = cl.getConstructor(constructorParams);<br> è·å–Classçš„æ„é€ å¯¹è±¡ï¼Œé€šè¿‡cons.newInstance(new Object[]{h}); è¿”å›ä¸€ä¸ªä»£ç†ç±»å®ä¾‹å¯¹è±¡ï¼Œå…·ä½“å‚è€ƒ <a href=\"http://www.xulian.net.cn/2019/02/20/java-%E5%8F%8D%E5%B0%84%E7%AC%94%E8%AE%B0/\" target=\"_blank\" rel=\"noopener\">Javaåå°„</a> ã€‚<br> ç›®å‰æˆ‘ä»¬åªçŸ¥é“ä»£ç†ç±»å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼Œä½†æ˜¯ä¸ºå•¥åªèƒ½ä¼ å…¥æ¥å£è¿˜æ˜¯å¾—ä¸åˆ°è§£å†³ï¼Œé‚£æˆ‘ä»¬åªèƒ½ç»§ç»­æŸ¥çœ‹getProxyClass0æºç ï¼š<br> å…·ä½“å®ç°æ­¥éª¤ï¼š</p>\n<ol>\n<li>éªŒè¯ï¼Œé€šè¿‡ç±»åŠ è½½å¯¹è±¡å’Œæ¥å£åˆ—è¡¨è·å–ä»£ç†ç±»çš„Classå¯¹è±¡ï¼Œå¦‚æœç¼“å­˜ä¸­å­˜åœ¨åˆ™è¿”å›ï¼Œæ²¡æœ‰å°±é€šè¿‡ä»£ç†ç±»å·¥å‚åˆ›å»ºä»£ç†ç±»</li>\n<li>åˆ›å»ºä»£ç†ç±»<br>é€šè¿‡ProxyClassFactoryå·¥å‚åˆ›å»ºä»£ç†ç±»ï¼Œæ ¸å¿ƒä»£ç å¦‚ä¸‹<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String proxyName = proxyPkg + proxyClassNamePrefix + num;</span><br><span class=\"line\">byte[] proxyClassFile = ProxyGenerator.generateProxyClass(proxyName, interfaces, accessFlags);</span><br><span class=\"line\">defineClass0(loader, proxyName, proxyClassFile, 0, proxyClassFile.length);</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>å®šä¹‰ä¸€ä¸ªç±»çš„åç§°ï¼Œé€šè¿‡ä¼ å…¥çš„æ¥å£åˆ—è¡¨å’Œè®¿é—®æ ‡å¿—ç”Ÿæˆä¸€ä¸ªä»£ç†ç±»çš„å­—èŠ‚ç ï¼Œæœ€åè°ƒç”¨defineClass0æ–¹æ³•å°†å­—èŠ‚ç åŠ è½½åˆ°ç±»åŠ è½½å™¨ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªä»£ç†ç±»ã€‚<br>ç°åœ¨æˆ‘ä»¬æ¥å®ç°å°†ä»£ç†ç±»çš„å­—èŠ‚ç å†™å…¥æœ¬åœ°ï¼ŒæŸ¥çœ‹å…·ä½“ä»£ç†ç±»çš„ä¿¡æ¯ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">byte[] proxyClassFile = ProxyGenerator.generateProxyClass(</span><br><span class=\"line\">                &quot;$proxy1&quot;, new Class[] &#123;Worker.class&#125;, Modifier.PUBLIC);</span><br><span class=\"line\">        FileOutputStream fos = null;</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            fos = new FileOutputStream(&quot;D:/$proxy1.class&quot;);</span><br><span class=\"line\">            fos.write(proxyClassFile);</span><br><span class=\"line\">        &#125; catch (FileNotFoundException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125; catch (IOException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125; finally &#123;</span><br><span class=\"line\">            try &#123;</span><br><span class=\"line\">                fos.flush();</span><br><span class=\"line\">            &#125; catch (IOException e) &#123;</span><br><span class=\"line\">                e.printStackTrace();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br></pre></td></tr></table></figure></p>\n<p>é€šè¿‡åç¼–è¯‘å¯æŸ¥çœ‹å­—èŠ‚ç ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class $proxy1 extends Proxy  implements Worker &#123;</span><br><span class=\"line\">....</span><br><span class=\"line\">public final void work()  throws  &#123;</span><br><span class=\"line\">    try  &#123;</span><br><span class=\"line\">      this.h.invoke(this, m3, null);</span><br><span class=\"line\">      return;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    ....</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">....</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ç°åœ¨æˆ‘ä»¬ç»ˆäºå¾—åˆ°ç­”æ¡ˆï¼Œä¸ºå•¥åŠ¨æ€ä»£ç†éœ€è¦ä½¿ç”¨æ¥å£ï¼Œä¸»è¦åŸå› æ˜¯ä»£ç†ç±»å·²ç»ç»§æ‰¿äº†Proxyç±»ï¼ŒJavaä¸æ”¯æŒå¤šç»§æ‰¿æ‰€ä»¥å¯¼è‡´åŠ¨æ€ä»£ç†éœ€è¦ä½¿ç”¨æ¥å£ï¼Œæ¥å£æ”¯æŒå¤šç»§æ‰¿ã€‚ç»ˆäºå¯ä»¥è¯´æœè‡ªå·±ä¸ºå•¥åŠ¨æ€ä»£ç†éœ€è¦æ¥å£äº†ã€‚ã€‚ã€‚ã€‚ã€‚</p>\n<p>å‚è€ƒæ–‡æ¡£ï¼š<br>jdk 8</p>\n"},{"title":"JAVA 8çš„æ–°ç‰¹æ€§ - 1","date":"2019-02-22T09:34:48.000Z","_content":"Java 8 ç›¸æ¯”ä¹‹å‰ä¸»è¦å˜åŒ–ï¼Ÿ\n\n# 1. Lambda è¡¨è¾¾å¼\n\nå¯ä¼ é€’çš„ä¸€ç§åŒ¿åå‡½æ•°çš„æ–¹å¼ï¼šå®ƒæ²¡æœ‰åç§°ï¼Œä½†æ˜¯å®ƒæœ‰å‚æ•°åˆ—è¡¨ã€å‡½æ•°ä½“ã€è¿”å›ç±»å‹ï¼Œå¯èƒ½è¿˜æœ‰ä¸€ä¸ªå¯æŠ›å‡ºçš„å¼‚å¸¸åˆ—è¡¨ã€‚ä¸‹é¢æˆ‘ä»¬ç”¨ä¾‹å­æ¥è§£é‡Š:\n\n* åŒ¿å------æˆ‘ä»¬è¯´åŒ¿åï¼Œæ˜¯å› ä¸ºå®ƒä¸åƒæ™®é€šçš„æ–¹æ³•é‚£æ ·æœ‰ä¸€ä¸ªæ˜ç¡®çš„åç§°ï¼šå†™å¾—å°‘è€Œæƒ³  \nå¾—å¤šï¼\n\n* å‡½æ•°------æˆ‘ä»¬è¯´å®ƒæ˜¯å‡½æ•°ï¼Œæ˜¯å› ä¸ºLambdaå‡½æ•°ä¸åƒæ–¹æ³•é‚£æ ·å±äºæŸä¸ªç‰¹å®šçš„ç±»ã€‚ä½†å’Œæ–¹æ³•ä¸€æ ·ï¼Œ Lambdaæœ‰å‚æ•°åˆ—è¡¨ã€å‡½æ•°ä¸»ä½“ã€è¿”å›ç±»å‹ï¼Œè¿˜å¯èƒ½æœ‰å¯ä»¥æŠ›å‡ºçš„å¼‚å¸¸åˆ—è¡¨ã€‚\n\n* ä¼ é€’------Lambdaè¡¨è¾¾å¼å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™æ–¹æ³•æˆ–å­˜å‚¨åœ¨å˜é‡ä¸­ã€‚\n\n* ç®€æ´------æ— éœ€åƒåŒ¿åç±»é‚£æ ·å†™å¾ˆå¤šæ¨¡æ¿ä»£ç ã€‚\n\næˆ‘ä»¬é€šè¿‡ä¸€æ®µä»£ç æ¥å‘ç°Lambda è¡¨è¾¾å¼çš„ç®€æ´ä¹‹å¤„ï¼š\n\n1ï¼šæ‰¾å‡ºPersonåˆ—è¡¨ä¸­ æ¯”ä¼ å…¥age æ›´è€çš„Person åˆ—è¡¨ï¼Œä¸é€šè¿‡Lambdaè¡¨è¾¾å¼ï¼Œå†™æ³•å¦‚ä¸‹ï¼š\n```\n    public static void printPersonsOlderThan(List\\<Person\\> roster, int age){\n        for (Person p : roster) {\n            if (p.getAge() \\>= age) {\n        \n                 p.printPerson();\n            }\n        }\n    }\n```\n2ï¼šæ¥ä¸‹æ¥å¦‚æœæˆ‘ä»¬ä½¿ç”¨Lambda è¡¨è¾¾å¼é‡å†™ä¸Šæ®µä»£ç ï¼š\n\n```\nroster\n    .stream()\n    .filter(p -> {p.getAge() > age}).forEach(p -> p. p.printPerson());\n```\nä½¿ç”¨Lambda è¡¨è¾¾å¼ä¹‹åè®©ä»£ç æ›´æ•´æ´ï¼Œè¯»èµ·æ¥æ›´æ¸…æ™°\n\nLambda è¡¨è¾¾å¼è¯æ³•ï¼š\n```\n* åœ¨æ‹¬å·ä¸­å‚æ•°åˆ—è¡¨ç”¨é€—å·åˆ†éš”\n* ä½¿ç”¨ ->\n* å¦‚æœæœ‰returnå£°æ˜ï¼Œåœ¨Lambda è¡¨è¾¾å¼ä¸­ï¼Œ å°±å¿…è¦ç”¨èŠ±æ‹¬å·æ¥æ‹¬èµ·è¯­å¥\n```\np -> {\n    return p. p.printPerson()\n}\n\nç„¶è€Œå¦‚æœæ˜¯ä¸€ä¸ªvoidæ–¹æ³•å°±ä¸å¿…ä½¿ç”¨{}\n\nemail -> System.out.println(email)\n\n\n# 2. æ–¹æ³•çš„å¼•ç”¨\n\né‡å¤ä½¿ç”¨ç°æœ‰çš„æ–¹æ³•å®šä¹‰ï¼Œå¹¶åƒLambdaä¸€æ ·ä¼ é€’å®ƒä»¬å‡½æ•°å¼æ•°æ®å¤„ç†ã€‚ä¸‹é¢å°±æ˜¯å››ç§æ–¹æ³•çš„å¼•ç”¨ï¼š\n\n\n    | **Kind**      | **Example**                          |\n    | é™æ€æ–¹æ³•å¼•ç”¨        | ContainingClass::staticMethodName    |\n    | ç‰¹å®šå¯¹è±¡çš„æ–¹æ³•å¼•ç”¨     | containingObject::instanceMethodName |\n    | ç‰¹å®šç±»å‹çš„ä»»æ„å¯¹è±¡æ–¹æ³•å¼•ç”¨ | ContainingType::methodName           |\n    | æ„é€ å¼•ç”¨          | ClassName::new                       |\n\nä¸‹é¢æˆ‘ä»¬é€šè¿‡ä»£ç æ¥è§£é‡Šä¸€ä¸‹ï¼š\n\n```\npublic class Person {\n    public enum Sex {\n\n        MALE, FEMALE\n\n    }\n    String name;\n    LocalDate birthday;\n    Sex gender;\n    String emailAddress;\n    public int getAge() {\n        // ...\n    }\n    \n    public Calendar getBirthday() {\n        return birthday;\n    }    \n\n    public static int compareByAge(Person a, Person b) {\n        return a.birthday.compareTo(b.birthday);\n    }\n\n}\n```\n\n* é™æ€æ–¹æ³•å¼•ç”¨\n```\nPerson::compareByAge\n```\n\n* ç‰¹å®šå¯¹è±¡çš„æ–¹æ³•å¼•ç”¨\n\nè·Ÿç€ä¸€ä¸ªä¾‹å­æ¥è§£é‡Šç‰¹å®šå¯¹è±¡çš„æ–¹æ³•å¼•ç”¨\n\n```\nclass Student {\n\n    public int compareByAge(String a, String b) {\n\n        return a.compareTo(b);\n\n    }\n\n    public static void main(String[] args) {\n\n        Student stu = new Student();\n\n        String[] arr = {\"ABC\",\"abc\",\"sdf\",\"ddddd\",\"rrrttt\"};\n\n        Arrays.sort(arr,(a, b) -> stu.compareByAge(a,b));\n\n        Arrays.stream(arr).forEach(System.out::println);\n\n    }\n\n}\n```\n\næ–¹æ³•æ¥æ”¶çš„æ˜¯ä¸€ä¸ªStringå¯¹è±¡\n\n\n* ç‰¹å®šç±»å‹çš„ä»»æ„å¯¹è±¡æ–¹æ³•å¼•ç”¨\n\n```\nString[] stringArray = { \"Barbara\", \"James\", \"Mary\", \"John\",\n\"Patricia\", \"Robert\", \"Michael\", \"Linda\" };\nArrays.sort(stringArray, String::compareToIgnoreCase);\n```\nè¿™ä¸ªæ–¹æ³•å¼•ç”¨å°†è°ƒç”¨a.compareToIgnoreCase(b)æ–¹æ³•\n```\n æ„é€ å¼•ç”¨\nä½¿ç”¨Lambda è¡¨è¾¾å¼ ï¼ˆï¼‰ -\\> {return new HashMap\\<\\>();}\n```\nä½¿ç”¨æ„é€ å¼•ç”¨ HashSet::new è®©Lambda è¡¨è¾¾å¼æœ‰äº†ä¸€ç§å¿«æ·çš„å†™æ³•\n```\n ç‰¹å®šå¯¹è±¡çš„æ–¹æ³•å¼•ç”¨ å’Œç‰¹å®šç±»å‹çš„ä»»æ„å¯¹è±¡æ–¹æ³•å¼•ç”¨çš„åŒºåˆ«\nString::compareToIgnoreCase ä¸­ï¼Œå½“ä½ å¼•ç”¨å¯¹è±¡çš„æ–¹æ³•æ—¶ï¼Œè¿™ä¸ªå¯¹è±¡æœ¬èº«å°±æ˜¯ä¸€ä¸ªLambdaè¡¨è¾¾å¼çš„å‚æ•°Lambdaè¡¨è¾¾å¼(String s) -\\> s. compareToIgnoreCase ()å¯ä»¥å†™ä½œString:: compareToIgnoreCaseã€‚è€Œç‰¹å®šå¯¹è±¡çš„æ–¹æ³•å¼•ç”¨åˆ™æ˜¯(a, b) -\\> stu.compareByAge(a,b),ç­‰ä»·stu::compareByAge\n```\n![](JAVA-8çš„æ–°ç‰¹æ€§-1/1550828240.jpg)\n\n\n\n# 3. æ¥å£çš„é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•\n\nJava 8 å…è®¸åœ¨æ¥å£ä¸­æ·»åŠ é»˜è®¤æ–¹æ³•ï¼Œè¿™ä¸ªé»˜è®¤æ–¹æ³•å’Œä¹‹å‰çš„æŠ½è±¡æ–¹æ³•ä¸ä¸€æ ·ï¼Œä¸»è¦åœ¨äºæŠ½è±¡æ–¹æ³•å®ç°è€…å¿…è¦å®ç°ï¼Œé»˜è®¤æ–¹æ³•å®ç°è€…éƒ½åŒ…å«ï¼Œå¦‚æœéœ€è¦å¯ä»¥é‡å†™è¿™ä¸ªæ–¹æ³•ã€‚å…·ä½“æˆ‘ä»¬é€šè¿‡ä¾‹å­æ¥è§£é‡Šï¼š\n\nåˆ›å»ºä¸€ä¸ªcar æ¥å£ï¼Œå£°æ˜ä¸€ä¸ªé»˜è®¤æ–¹æ³•å’Œä¸€ä¸ªé™æ€æ–¹æ³•\n\n\n```\npublic interface Car {\n\n    default void print() {\n\n        System.out.println(\"default------------\");\n\n    }\n\n    static Car create( Supplier<Car> supplier ) {\n\n        return supplier.get();\n\n    }\n\n}\n```\nå®ç°newCarç±»\n```\npublic class NewCar implements Car {\n    public static void main(String[] args) {\n\n        Car newCar = Car.create(NewCar::new);\n\n        newCar.print();\n\n    }\n}\n```\n\nè¦†ç›–é»˜è®¤æ–¹æ³• OverriddenCar\n\n\n```\npublic class OverriddenCar implements Car {\n\n    @Override\n\n    public void print() {\n\n        System.out.println(\"OverriddenCar------------------\");\n\n    }\n\n    public static void main(String[] args) {\n\n        Car overriddenCar = Car.create(OverriddenCar::new);\n\n        overriddenCar.print();\n\n        Car newCar = Car.create(NewCar::new);\n\n        newCar.print();\n\n    }\n\n}\n```\næ‰“å°ç»“æœ\n```\nOverriddenCar------------------\ndefault------------\n```\n\nåœ¨JVMä¸­ï¼Œé»˜è®¤æ–¹æ³•çš„å®ç°æ˜¯éå¸¸é«˜æ•ˆçš„ï¼Œå¹¶ä¸”é€šè¿‡å­—èŠ‚ç æŒ‡ä»¤ä¸ºæ–¹æ³•è°ƒç”¨æä¾›äº†æ”¯æŒã€‚é»˜è®¤æ–¹æ³•å…è®¸ç»§ç»­ä½¿ç”¨ç°æœ‰çš„Javaæ¥å£ï¼Œè€ŒåŒæ—¶èƒ½å¤Ÿä¿éšœæ­£å¸¸çš„ç¼–è¯‘è¿‡ç¨‹ã€‚è¿™æ–¹é¢å¥½çš„ä¾‹å­æ˜¯å¤§é‡çš„æ–¹æ³•è¢«æ·»åŠ åˆ°java.util.Collectionæ¥å£ä¸­å»ï¼šstream()ï¼ŒparallelStream()ï¼ŒforEach()ï¼ŒremoveIf()ï¼Œ......\n\n\nå°½ç®¡é»˜è®¤æ–¹æ³•éå¸¸å¼ºå¤§ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨é»˜è®¤æ–¹æ³•æ—¶æˆ‘ä»¬éœ€è¦å°å¿ƒæ³¨æ„ä¸€ä¸ªåœ°æ–¹ï¼šåœ¨å£°æ˜ä¸€ä¸ªé»˜è®¤æ–¹æ³•å‰ï¼Œè¯·ä»”ç»†æ€è€ƒæ˜¯ä¸æ˜¯çœŸçš„æœ‰å¿…è¦ä½¿ç”¨é»˜è®¤æ–¹æ³•ï¼Œå› ä¸ºé»˜è®¤æ–¹æ³•ä¼šå¸¦ç»™ç¨‹åºæ­§ä¹‰ï¼Œå¹¶ä¸”åœ¨å¤æ‚çš„ç»§æ‰¿ä½“ç³»ä¸­å®¹æ˜“äº§ç”Ÿç¼–è¯‘é”™è¯¯ã€‚\n\nå‚è€ƒæ–‡æ¡£ï¼š\n\n  [Java 8æ–°ç‰¹æ€§ç»ˆææŒ‡å—](http://www.importnew.com/11908.html)\n\n  Java+8 å®æˆ˜ä¹¦ç±\n\n  [Java tutorial ](https://docs.oracle.com/javase/tutorial/)","source":"_posts/JAVA-8çš„æ–°ç‰¹æ€§-1.md","raw":"---\ntitle: JAVA 8çš„æ–°ç‰¹æ€§ - 1\ndate: 2019-02-22 17:34:48\ntags:\n- JAVA\n- Lambda è¡¨è¾¾å¼\n---\nJava 8 ç›¸æ¯”ä¹‹å‰ä¸»è¦å˜åŒ–ï¼Ÿ\n\n# 1. Lambda è¡¨è¾¾å¼\n\nå¯ä¼ é€’çš„ä¸€ç§åŒ¿åå‡½æ•°çš„æ–¹å¼ï¼šå®ƒæ²¡æœ‰åç§°ï¼Œä½†æ˜¯å®ƒæœ‰å‚æ•°åˆ—è¡¨ã€å‡½æ•°ä½“ã€è¿”å›ç±»å‹ï¼Œå¯èƒ½è¿˜æœ‰ä¸€ä¸ªå¯æŠ›å‡ºçš„å¼‚å¸¸åˆ—è¡¨ã€‚ä¸‹é¢æˆ‘ä»¬ç”¨ä¾‹å­æ¥è§£é‡Š:\n\n* åŒ¿å------æˆ‘ä»¬è¯´åŒ¿åï¼Œæ˜¯å› ä¸ºå®ƒä¸åƒæ™®é€šçš„æ–¹æ³•é‚£æ ·æœ‰ä¸€ä¸ªæ˜ç¡®çš„åç§°ï¼šå†™å¾—å°‘è€Œæƒ³  \nå¾—å¤šï¼\n\n* å‡½æ•°------æˆ‘ä»¬è¯´å®ƒæ˜¯å‡½æ•°ï¼Œæ˜¯å› ä¸ºLambdaå‡½æ•°ä¸åƒæ–¹æ³•é‚£æ ·å±äºæŸä¸ªç‰¹å®šçš„ç±»ã€‚ä½†å’Œæ–¹æ³•ä¸€æ ·ï¼Œ Lambdaæœ‰å‚æ•°åˆ—è¡¨ã€å‡½æ•°ä¸»ä½“ã€è¿”å›ç±»å‹ï¼Œè¿˜å¯èƒ½æœ‰å¯ä»¥æŠ›å‡ºçš„å¼‚å¸¸åˆ—è¡¨ã€‚\n\n* ä¼ é€’------Lambdaè¡¨è¾¾å¼å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™æ–¹æ³•æˆ–å­˜å‚¨åœ¨å˜é‡ä¸­ã€‚\n\n* ç®€æ´------æ— éœ€åƒåŒ¿åç±»é‚£æ ·å†™å¾ˆå¤šæ¨¡æ¿ä»£ç ã€‚\n\næˆ‘ä»¬é€šè¿‡ä¸€æ®µä»£ç æ¥å‘ç°Lambda è¡¨è¾¾å¼çš„ç®€æ´ä¹‹å¤„ï¼š\n\n1ï¼šæ‰¾å‡ºPersonåˆ—è¡¨ä¸­ æ¯”ä¼ å…¥age æ›´è€çš„Person åˆ—è¡¨ï¼Œä¸é€šè¿‡Lambdaè¡¨è¾¾å¼ï¼Œå†™æ³•å¦‚ä¸‹ï¼š\n```\n    public static void printPersonsOlderThan(List\\<Person\\> roster, int age){\n        for (Person p : roster) {\n            if (p.getAge() \\>= age) {\n        \n                 p.printPerson();\n            }\n        }\n    }\n```\n2ï¼šæ¥ä¸‹æ¥å¦‚æœæˆ‘ä»¬ä½¿ç”¨Lambda è¡¨è¾¾å¼é‡å†™ä¸Šæ®µä»£ç ï¼š\n\n```\nroster\n    .stream()\n    .filter(p -> {p.getAge() > age}).forEach(p -> p. p.printPerson());\n```\nä½¿ç”¨Lambda è¡¨è¾¾å¼ä¹‹åè®©ä»£ç æ›´æ•´æ´ï¼Œè¯»èµ·æ¥æ›´æ¸…æ™°\n\nLambda è¡¨è¾¾å¼è¯æ³•ï¼š\n```\n* åœ¨æ‹¬å·ä¸­å‚æ•°åˆ—è¡¨ç”¨é€—å·åˆ†éš”\n* ä½¿ç”¨ ->\n* å¦‚æœæœ‰returnå£°æ˜ï¼Œåœ¨Lambda è¡¨è¾¾å¼ä¸­ï¼Œ å°±å¿…è¦ç”¨èŠ±æ‹¬å·æ¥æ‹¬èµ·è¯­å¥\n```\np -> {\n    return p. p.printPerson()\n}\n\nç„¶è€Œå¦‚æœæ˜¯ä¸€ä¸ªvoidæ–¹æ³•å°±ä¸å¿…ä½¿ç”¨{}\n\nemail -> System.out.println(email)\n\n\n# 2. æ–¹æ³•çš„å¼•ç”¨\n\né‡å¤ä½¿ç”¨ç°æœ‰çš„æ–¹æ³•å®šä¹‰ï¼Œå¹¶åƒLambdaä¸€æ ·ä¼ é€’å®ƒä»¬å‡½æ•°å¼æ•°æ®å¤„ç†ã€‚ä¸‹é¢å°±æ˜¯å››ç§æ–¹æ³•çš„å¼•ç”¨ï¼š\n\n\n    | **Kind**      | **Example**                          |\n    | é™æ€æ–¹æ³•å¼•ç”¨        | ContainingClass::staticMethodName    |\n    | ç‰¹å®šå¯¹è±¡çš„æ–¹æ³•å¼•ç”¨     | containingObject::instanceMethodName |\n    | ç‰¹å®šç±»å‹çš„ä»»æ„å¯¹è±¡æ–¹æ³•å¼•ç”¨ | ContainingType::methodName           |\n    | æ„é€ å¼•ç”¨          | ClassName::new                       |\n\nä¸‹é¢æˆ‘ä»¬é€šè¿‡ä»£ç æ¥è§£é‡Šä¸€ä¸‹ï¼š\n\n```\npublic class Person {\n    public enum Sex {\n\n        MALE, FEMALE\n\n    }\n    String name;\n    LocalDate birthday;\n    Sex gender;\n    String emailAddress;\n    public int getAge() {\n        // ...\n    }\n    \n    public Calendar getBirthday() {\n        return birthday;\n    }    \n\n    public static int compareByAge(Person a, Person b) {\n        return a.birthday.compareTo(b.birthday);\n    }\n\n}\n```\n\n* é™æ€æ–¹æ³•å¼•ç”¨\n```\nPerson::compareByAge\n```\n\n* ç‰¹å®šå¯¹è±¡çš„æ–¹æ³•å¼•ç”¨\n\nè·Ÿç€ä¸€ä¸ªä¾‹å­æ¥è§£é‡Šç‰¹å®šå¯¹è±¡çš„æ–¹æ³•å¼•ç”¨\n\n```\nclass Student {\n\n    public int compareByAge(String a, String b) {\n\n        return a.compareTo(b);\n\n    }\n\n    public static void main(String[] args) {\n\n        Student stu = new Student();\n\n        String[] arr = {\"ABC\",\"abc\",\"sdf\",\"ddddd\",\"rrrttt\"};\n\n        Arrays.sort(arr,(a, b) -> stu.compareByAge(a,b));\n\n        Arrays.stream(arr).forEach(System.out::println);\n\n    }\n\n}\n```\n\næ–¹æ³•æ¥æ”¶çš„æ˜¯ä¸€ä¸ªStringå¯¹è±¡\n\n\n* ç‰¹å®šç±»å‹çš„ä»»æ„å¯¹è±¡æ–¹æ³•å¼•ç”¨\n\n```\nString[] stringArray = { \"Barbara\", \"James\", \"Mary\", \"John\",\n\"Patricia\", \"Robert\", \"Michael\", \"Linda\" };\nArrays.sort(stringArray, String::compareToIgnoreCase);\n```\nè¿™ä¸ªæ–¹æ³•å¼•ç”¨å°†è°ƒç”¨a.compareToIgnoreCase(b)æ–¹æ³•\n```\n æ„é€ å¼•ç”¨\nä½¿ç”¨Lambda è¡¨è¾¾å¼ ï¼ˆï¼‰ -\\> {return new HashMap\\<\\>();}\n```\nä½¿ç”¨æ„é€ å¼•ç”¨ HashSet::new è®©Lambda è¡¨è¾¾å¼æœ‰äº†ä¸€ç§å¿«æ·çš„å†™æ³•\n```\n ç‰¹å®šå¯¹è±¡çš„æ–¹æ³•å¼•ç”¨ å’Œç‰¹å®šç±»å‹çš„ä»»æ„å¯¹è±¡æ–¹æ³•å¼•ç”¨çš„åŒºåˆ«\nString::compareToIgnoreCase ä¸­ï¼Œå½“ä½ å¼•ç”¨å¯¹è±¡çš„æ–¹æ³•æ—¶ï¼Œè¿™ä¸ªå¯¹è±¡æœ¬èº«å°±æ˜¯ä¸€ä¸ªLambdaè¡¨è¾¾å¼çš„å‚æ•°Lambdaè¡¨è¾¾å¼(String s) -\\> s. compareToIgnoreCase ()å¯ä»¥å†™ä½œString:: compareToIgnoreCaseã€‚è€Œç‰¹å®šå¯¹è±¡çš„æ–¹æ³•å¼•ç”¨åˆ™æ˜¯(a, b) -\\> stu.compareByAge(a,b),ç­‰ä»·stu::compareByAge\n```\n![](JAVA-8çš„æ–°ç‰¹æ€§-1/1550828240.jpg)\n\n\n\n# 3. æ¥å£çš„é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•\n\nJava 8 å…è®¸åœ¨æ¥å£ä¸­æ·»åŠ é»˜è®¤æ–¹æ³•ï¼Œè¿™ä¸ªé»˜è®¤æ–¹æ³•å’Œä¹‹å‰çš„æŠ½è±¡æ–¹æ³•ä¸ä¸€æ ·ï¼Œä¸»è¦åœ¨äºæŠ½è±¡æ–¹æ³•å®ç°è€…å¿…è¦å®ç°ï¼Œé»˜è®¤æ–¹æ³•å®ç°è€…éƒ½åŒ…å«ï¼Œå¦‚æœéœ€è¦å¯ä»¥é‡å†™è¿™ä¸ªæ–¹æ³•ã€‚å…·ä½“æˆ‘ä»¬é€šè¿‡ä¾‹å­æ¥è§£é‡Šï¼š\n\nåˆ›å»ºä¸€ä¸ªcar æ¥å£ï¼Œå£°æ˜ä¸€ä¸ªé»˜è®¤æ–¹æ³•å’Œä¸€ä¸ªé™æ€æ–¹æ³•\n\n\n```\npublic interface Car {\n\n    default void print() {\n\n        System.out.println(\"default------------\");\n\n    }\n\n    static Car create( Supplier<Car> supplier ) {\n\n        return supplier.get();\n\n    }\n\n}\n```\nå®ç°newCarç±»\n```\npublic class NewCar implements Car {\n    public static void main(String[] args) {\n\n        Car newCar = Car.create(NewCar::new);\n\n        newCar.print();\n\n    }\n}\n```\n\nè¦†ç›–é»˜è®¤æ–¹æ³• OverriddenCar\n\n\n```\npublic class OverriddenCar implements Car {\n\n    @Override\n\n    public void print() {\n\n        System.out.println(\"OverriddenCar------------------\");\n\n    }\n\n    public static void main(String[] args) {\n\n        Car overriddenCar = Car.create(OverriddenCar::new);\n\n        overriddenCar.print();\n\n        Car newCar = Car.create(NewCar::new);\n\n        newCar.print();\n\n    }\n\n}\n```\næ‰“å°ç»“æœ\n```\nOverriddenCar------------------\ndefault------------\n```\n\nåœ¨JVMä¸­ï¼Œé»˜è®¤æ–¹æ³•çš„å®ç°æ˜¯éå¸¸é«˜æ•ˆçš„ï¼Œå¹¶ä¸”é€šè¿‡å­—èŠ‚ç æŒ‡ä»¤ä¸ºæ–¹æ³•è°ƒç”¨æä¾›äº†æ”¯æŒã€‚é»˜è®¤æ–¹æ³•å…è®¸ç»§ç»­ä½¿ç”¨ç°æœ‰çš„Javaæ¥å£ï¼Œè€ŒåŒæ—¶èƒ½å¤Ÿä¿éšœæ­£å¸¸çš„ç¼–è¯‘è¿‡ç¨‹ã€‚è¿™æ–¹é¢å¥½çš„ä¾‹å­æ˜¯å¤§é‡çš„æ–¹æ³•è¢«æ·»åŠ åˆ°java.util.Collectionæ¥å£ä¸­å»ï¼šstream()ï¼ŒparallelStream()ï¼ŒforEach()ï¼ŒremoveIf()ï¼Œ......\n\n\nå°½ç®¡é»˜è®¤æ–¹æ³•éå¸¸å¼ºå¤§ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨é»˜è®¤æ–¹æ³•æ—¶æˆ‘ä»¬éœ€è¦å°å¿ƒæ³¨æ„ä¸€ä¸ªåœ°æ–¹ï¼šåœ¨å£°æ˜ä¸€ä¸ªé»˜è®¤æ–¹æ³•å‰ï¼Œè¯·ä»”ç»†æ€è€ƒæ˜¯ä¸æ˜¯çœŸçš„æœ‰å¿…è¦ä½¿ç”¨é»˜è®¤æ–¹æ³•ï¼Œå› ä¸ºé»˜è®¤æ–¹æ³•ä¼šå¸¦ç»™ç¨‹åºæ­§ä¹‰ï¼Œå¹¶ä¸”åœ¨å¤æ‚çš„ç»§æ‰¿ä½“ç³»ä¸­å®¹æ˜“äº§ç”Ÿç¼–è¯‘é”™è¯¯ã€‚\n\nå‚è€ƒæ–‡æ¡£ï¼š\n\n  [Java 8æ–°ç‰¹æ€§ç»ˆææŒ‡å—](http://www.importnew.com/11908.html)\n\n  Java+8 å®æˆ˜ä¹¦ç±\n\n  [Java tutorial ](https://docs.oracle.com/javase/tutorial/)","slug":"JAVA-8çš„æ–°ç‰¹æ€§-1","published":1,"updated":"2019-07-14T03:11:26.952Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkctu000054osxam7epwq9","content":"<p>Java 8 ç›¸æ¯”ä¹‹å‰ä¸»è¦å˜åŒ–ï¼Ÿ</p>\n<h1 id=\"1-Lambda-è¡¨è¾¾å¼\"><a href=\"#1-Lambda-è¡¨è¾¾å¼\" class=\"headerlink\" title=\"1. Lambda è¡¨è¾¾å¼\"></a>1. Lambda è¡¨è¾¾å¼</h1><p>å¯ä¼ é€’çš„ä¸€ç§åŒ¿åå‡½æ•°çš„æ–¹å¼ï¼šå®ƒæ²¡æœ‰åç§°ï¼Œä½†æ˜¯å®ƒæœ‰å‚æ•°åˆ—è¡¨ã€å‡½æ•°ä½“ã€è¿”å›ç±»å‹ï¼Œå¯èƒ½è¿˜æœ‰ä¸€ä¸ªå¯æŠ›å‡ºçš„å¼‚å¸¸åˆ—è¡¨ã€‚ä¸‹é¢æˆ‘ä»¬ç”¨ä¾‹å­æ¥è§£é‡Š:</p>\n<ul>\n<li><p>åŒ¿åâ€”â€”æˆ‘ä»¬è¯´åŒ¿åï¼Œæ˜¯å› ä¸ºå®ƒä¸åƒæ™®é€šçš„æ–¹æ³•é‚£æ ·æœ‰ä¸€ä¸ªæ˜ç¡®çš„åç§°ï¼šå†™å¾—å°‘è€Œæƒ³<br>å¾—å¤šï¼</p>\n</li>\n<li><p>å‡½æ•°â€”â€”æˆ‘ä»¬è¯´å®ƒæ˜¯å‡½æ•°ï¼Œæ˜¯å› ä¸ºLambdaå‡½æ•°ä¸åƒæ–¹æ³•é‚£æ ·å±äºæŸä¸ªç‰¹å®šçš„ç±»ã€‚ä½†å’Œæ–¹æ³•ä¸€æ ·ï¼Œ Lambdaæœ‰å‚æ•°åˆ—è¡¨ã€å‡½æ•°ä¸»ä½“ã€è¿”å›ç±»å‹ï¼Œè¿˜å¯èƒ½æœ‰å¯ä»¥æŠ›å‡ºçš„å¼‚å¸¸åˆ—è¡¨ã€‚</p>\n</li>\n<li><p>ä¼ é€’â€”â€”Lambdaè¡¨è¾¾å¼å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™æ–¹æ³•æˆ–å­˜å‚¨åœ¨å˜é‡ä¸­ã€‚</p>\n</li>\n<li><p>ç®€æ´â€”â€”æ— éœ€åƒåŒ¿åç±»é‚£æ ·å†™å¾ˆå¤šæ¨¡æ¿ä»£ç ã€‚</p>\n</li>\n</ul>\n<p>æˆ‘ä»¬é€šè¿‡ä¸€æ®µä»£ç æ¥å‘ç°Lambda è¡¨è¾¾å¼çš„ç®€æ´ä¹‹å¤„ï¼š</p>\n<p>1ï¼šæ‰¾å‡ºPersonåˆ—è¡¨ä¸­ æ¯”ä¼ å…¥age æ›´è€çš„Person åˆ—è¡¨ï¼Œä¸é€šè¿‡Lambdaè¡¨è¾¾å¼ï¼Œå†™æ³•å¦‚ä¸‹ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public static void printPersonsOlderThan(List\\&lt;Person\\&gt; roster, int age)&#123;</span><br><span class=\"line\">    for (Person p : roster) &#123;</span><br><span class=\"line\">        if (p.getAge() \\&gt;= age) &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">             p.printPerson();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>2ï¼šæ¥ä¸‹æ¥å¦‚æœæˆ‘ä»¬ä½¿ç”¨Lambda è¡¨è¾¾å¼é‡å†™ä¸Šæ®µä»£ç ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">roster</span><br><span class=\"line\">    .stream()</span><br><span class=\"line\">    .filter(p -&gt; &#123;p.getAge() &gt; age&#125;).forEach(p -&gt; p. p.printPerson());</span><br></pre></td></tr></table></figure>\n<p>ä½¿ç”¨Lambda è¡¨è¾¾å¼ä¹‹åè®©ä»£ç æ›´æ•´æ´ï¼Œè¯»èµ·æ¥æ›´æ¸…æ™°</p>\n<p>Lambda è¡¨è¾¾å¼è¯æ³•ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">* åœ¨æ‹¬å·ä¸­å‚æ•°åˆ—è¡¨ç”¨é€—å·åˆ†éš”</span><br><span class=\"line\">* ä½¿ç”¨ -&gt;</span><br><span class=\"line\">* å¦‚æœæœ‰returnå£°æ˜ï¼Œåœ¨Lambda è¡¨è¾¾å¼ä¸­ï¼Œ å°±å¿…è¦ç”¨èŠ±æ‹¬å·æ¥æ‹¬èµ·è¯­å¥</span><br></pre></td></tr></table></figure></p>\n<p>p -&gt; {<br>    return p. p.printPerson()<br>}</p>\n<p>ç„¶è€Œå¦‚æœæ˜¯ä¸€ä¸ªvoidæ–¹æ³•å°±ä¸å¿…ä½¿ç”¨{}</p>\n<p>email -&gt; System.out.println(email)</p>\n<h1 id=\"2-æ–¹æ³•çš„å¼•ç”¨\"><a href=\"#2-æ–¹æ³•çš„å¼•ç”¨\" class=\"headerlink\" title=\"2. æ–¹æ³•çš„å¼•ç”¨\"></a>2. æ–¹æ³•çš„å¼•ç”¨</h1><p>é‡å¤ä½¿ç”¨ç°æœ‰çš„æ–¹æ³•å®šä¹‰ï¼Œå¹¶åƒLambdaä¸€æ ·ä¼ é€’å®ƒä»¬å‡½æ•°å¼æ•°æ®å¤„ç†ã€‚ä¸‹é¢å°±æ˜¯å››ç§æ–¹æ³•çš„å¼•ç”¨ï¼š</p>\n<pre><code>| **Kind**      | **Example**                          |\n| é™æ€æ–¹æ³•å¼•ç”¨        | ContainingClass::staticMethodName    |\n| ç‰¹å®šå¯¹è±¡çš„æ–¹æ³•å¼•ç”¨     | containingObject::instanceMethodName |\n| ç‰¹å®šç±»å‹çš„ä»»æ„å¯¹è±¡æ–¹æ³•å¼•ç”¨ | ContainingType::methodName           |\n| æ„é€ å¼•ç”¨          | ClassName::new                       |\n</code></pre><p>ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä»£ç æ¥è§£é‡Šä¸€ä¸‹ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class Person &#123;</span><br><span class=\"line\">    public enum Sex &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        MALE, FEMALE</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    String name;</span><br><span class=\"line\">    LocalDate birthday;</span><br><span class=\"line\">    Sex gender;</span><br><span class=\"line\">    String emailAddress;</span><br><span class=\"line\">    public int getAge() &#123;</span><br><span class=\"line\">        // ...</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    public Calendar getBirthday() &#123;</span><br><span class=\"line\">        return birthday;</span><br><span class=\"line\">    &#125;    </span><br><span class=\"line\"></span><br><span class=\"line\">    public static int compareByAge(Person a, Person b) &#123;</span><br><span class=\"line\">        return a.birthday.compareTo(b.birthday);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li><p>é™æ€æ–¹æ³•å¼•ç”¨</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Person::compareByAge</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ç‰¹å®šå¯¹è±¡çš„æ–¹æ³•å¼•ç”¨</p>\n</li>\n</ul>\n<p>è·Ÿç€ä¸€ä¸ªä¾‹å­æ¥è§£é‡Šç‰¹å®šå¯¹è±¡çš„æ–¹æ³•å¼•ç”¨</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Student &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    public int compareByAge(String a, String b) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        return a.compareTo(b);</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public static void main(String[] args) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        Student stu = new Student();</span><br><span class=\"line\"></span><br><span class=\"line\">        String[] arr = &#123;&quot;ABC&quot;,&quot;abc&quot;,&quot;sdf&quot;,&quot;ddddd&quot;,&quot;rrrttt&quot;&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">        Arrays.sort(arr,(a, b) -&gt; stu.compareByAge(a,b));</span><br><span class=\"line\"></span><br><span class=\"line\">        Arrays.stream(arr).forEach(System.out::println);</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•æ¥æ”¶çš„æ˜¯ä¸€ä¸ªStringå¯¹è±¡</p>\n<ul>\n<li>ç‰¹å®šç±»å‹çš„ä»»æ„å¯¹è±¡æ–¹æ³•å¼•ç”¨</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String[] stringArray = &#123; &quot;Barbara&quot;, &quot;James&quot;, &quot;Mary&quot;, &quot;John&quot;,</span><br><span class=\"line\">&quot;Patricia&quot;, &quot;Robert&quot;, &quot;Michael&quot;, &quot;Linda&quot; &#125;;</span><br><span class=\"line\">Arrays.sort(stringArray, String::compareToIgnoreCase);</span><br></pre></td></tr></table></figure>\n<p>è¿™ä¸ªæ–¹æ³•å¼•ç”¨å°†è°ƒç”¨a.compareToIgnoreCase(b)æ–¹æ³•<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> æ„é€ å¼•ç”¨</span><br><span class=\"line\">ä½¿ç”¨Lambda è¡¨è¾¾å¼ ï¼ˆï¼‰ -\\&gt; &#123;return new HashMap\\&lt;\\&gt;();&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ä½¿ç”¨æ„é€ å¼•ç”¨ HashSet::new è®©Lambda è¡¨è¾¾å¼æœ‰äº†ä¸€ç§å¿«æ·çš„å†™æ³•<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> ç‰¹å®šå¯¹è±¡çš„æ–¹æ³•å¼•ç”¨ å’Œç‰¹å®šç±»å‹çš„ä»»æ„å¯¹è±¡æ–¹æ³•å¼•ç”¨çš„åŒºåˆ«</span><br><span class=\"line\">String::compareToIgnoreCase ä¸­ï¼Œå½“ä½ å¼•ç”¨å¯¹è±¡çš„æ–¹æ³•æ—¶ï¼Œè¿™ä¸ªå¯¹è±¡æœ¬èº«å°±æ˜¯ä¸€ä¸ªLambdaè¡¨è¾¾å¼çš„å‚æ•°Lambdaè¡¨è¾¾å¼(String s) -\\&gt; s. compareToIgnoreCase ()å¯ä»¥å†™ä½œString:: compareToIgnoreCaseã€‚è€Œç‰¹å®šå¯¹è±¡çš„æ–¹æ³•å¼•ç”¨åˆ™æ˜¯(a, b) -\\&gt; stu.compareByAge(a,b),ç­‰ä»·stu::compareByAge</span><br></pre></td></tr></table></figure></p>\n<p><img src=\"/2019/02/22/JAVA-8çš„æ–°ç‰¹æ€§-1/1550828240.jpg\" alt=\"\"></p>\n<h1 id=\"3-æ¥å£çš„é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•\"><a href=\"#3-æ¥å£çš„é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•\" class=\"headerlink\" title=\"3. æ¥å£çš„é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•\"></a>3. æ¥å£çš„é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•</h1><p>Java 8 å…è®¸åœ¨æ¥å£ä¸­æ·»åŠ é»˜è®¤æ–¹æ³•ï¼Œè¿™ä¸ªé»˜è®¤æ–¹æ³•å’Œä¹‹å‰çš„æŠ½è±¡æ–¹æ³•ä¸ä¸€æ ·ï¼Œä¸»è¦åœ¨äºæŠ½è±¡æ–¹æ³•å®ç°è€…å¿…è¦å®ç°ï¼Œé»˜è®¤æ–¹æ³•å®ç°è€…éƒ½åŒ…å«ï¼Œå¦‚æœéœ€è¦å¯ä»¥é‡å†™è¿™ä¸ªæ–¹æ³•ã€‚å…·ä½“æˆ‘ä»¬é€šè¿‡ä¾‹å­æ¥è§£é‡Šï¼š</p>\n<p>åˆ›å»ºä¸€ä¸ªcar æ¥å£ï¼Œå£°æ˜ä¸€ä¸ªé»˜è®¤æ–¹æ³•å’Œä¸€ä¸ªé™æ€æ–¹æ³•</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public interface Car &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    default void print() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        System.out.println(&quot;default------------&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    static Car create( Supplier&lt;Car&gt; supplier ) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        return supplier.get();</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å®ç°newCarç±»<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class NewCar implements Car &#123;</span><br><span class=\"line\">    public static void main(String[] args) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        Car newCar = Car.create(NewCar::new);</span><br><span class=\"line\"></span><br><span class=\"line\">        newCar.print();</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>è¦†ç›–é»˜è®¤æ–¹æ³• OverriddenCar</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class OverriddenCar implements Car &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    @Override</span><br><span class=\"line\"></span><br><span class=\"line\">    public void print() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        System.out.println(&quot;OverriddenCar------------------&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public static void main(String[] args) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        Car overriddenCar = Car.create(OverriddenCar::new);</span><br><span class=\"line\"></span><br><span class=\"line\">        overriddenCar.print();</span><br><span class=\"line\"></span><br><span class=\"line\">        Car newCar = Car.create(NewCar::new);</span><br><span class=\"line\"></span><br><span class=\"line\">        newCar.print();</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>æ‰“å°ç»“æœ<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">OverriddenCar------------------</span><br><span class=\"line\">default------------</span><br></pre></td></tr></table></figure></p>\n<p>åœ¨JVMä¸­ï¼Œé»˜è®¤æ–¹æ³•çš„å®ç°æ˜¯éå¸¸é«˜æ•ˆçš„ï¼Œå¹¶ä¸”é€šè¿‡å­—èŠ‚ç æŒ‡ä»¤ä¸ºæ–¹æ³•è°ƒç”¨æä¾›äº†æ”¯æŒã€‚é»˜è®¤æ–¹æ³•å…è®¸ç»§ç»­ä½¿ç”¨ç°æœ‰çš„Javaæ¥å£ï¼Œè€ŒåŒæ—¶èƒ½å¤Ÿä¿éšœæ­£å¸¸çš„ç¼–è¯‘è¿‡ç¨‹ã€‚è¿™æ–¹é¢å¥½çš„ä¾‹å­æ˜¯å¤§é‡çš„æ–¹æ³•è¢«æ·»åŠ åˆ°java.util.Collectionæ¥å£ä¸­å»ï¼šstream()ï¼ŒparallelStream()ï¼ŒforEach()ï¼ŒremoveIf()ï¼Œâ€¦â€¦</p>\n<p>å°½ç®¡é»˜è®¤æ–¹æ³•éå¸¸å¼ºå¤§ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨é»˜è®¤æ–¹æ³•æ—¶æˆ‘ä»¬éœ€è¦å°å¿ƒæ³¨æ„ä¸€ä¸ªåœ°æ–¹ï¼šåœ¨å£°æ˜ä¸€ä¸ªé»˜è®¤æ–¹æ³•å‰ï¼Œè¯·ä»”ç»†æ€è€ƒæ˜¯ä¸æ˜¯çœŸçš„æœ‰å¿…è¦ä½¿ç”¨é»˜è®¤æ–¹æ³•ï¼Œå› ä¸ºé»˜è®¤æ–¹æ³•ä¼šå¸¦ç»™ç¨‹åºæ­§ä¹‰ï¼Œå¹¶ä¸”åœ¨å¤æ‚çš„ç»§æ‰¿ä½“ç³»ä¸­å®¹æ˜“äº§ç”Ÿç¼–è¯‘é”™è¯¯ã€‚</p>\n<p>å‚è€ƒæ–‡æ¡£ï¼š</p>\n<p>  <a href=\"http://www.importnew.com/11908.html\" target=\"_blank\" rel=\"noopener\">Java 8æ–°ç‰¹æ€§ç»ˆææŒ‡å—</a></p>\n<p>  Java+8 å®æˆ˜ä¹¦ç±</p>\n<p>  <a href=\"https://docs.oracle.com/javase/tutorial/\" target=\"_blank\" rel=\"noopener\">Java tutorial </a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Java 8 ç›¸æ¯”ä¹‹å‰ä¸»è¦å˜åŒ–ï¼Ÿ</p>\n<h1 id=\"1-Lambda-è¡¨è¾¾å¼\"><a href=\"#1-Lambda-è¡¨è¾¾å¼\" class=\"headerlink\" title=\"1. Lambda è¡¨è¾¾å¼\"></a>1. Lambda è¡¨è¾¾å¼</h1><p>å¯ä¼ é€’çš„ä¸€ç§åŒ¿åå‡½æ•°çš„æ–¹å¼ï¼šå®ƒæ²¡æœ‰åç§°ï¼Œä½†æ˜¯å®ƒæœ‰å‚æ•°åˆ—è¡¨ã€å‡½æ•°ä½“ã€è¿”å›ç±»å‹ï¼Œå¯èƒ½è¿˜æœ‰ä¸€ä¸ªå¯æŠ›å‡ºçš„å¼‚å¸¸åˆ—è¡¨ã€‚ä¸‹é¢æˆ‘ä»¬ç”¨ä¾‹å­æ¥è§£é‡Š:</p>\n<ul>\n<li><p>åŒ¿åâ€”â€”æˆ‘ä»¬è¯´åŒ¿åï¼Œæ˜¯å› ä¸ºå®ƒä¸åƒæ™®é€šçš„æ–¹æ³•é‚£æ ·æœ‰ä¸€ä¸ªæ˜ç¡®çš„åç§°ï¼šå†™å¾—å°‘è€Œæƒ³<br>å¾—å¤šï¼</p>\n</li>\n<li><p>å‡½æ•°â€”â€”æˆ‘ä»¬è¯´å®ƒæ˜¯å‡½æ•°ï¼Œæ˜¯å› ä¸ºLambdaå‡½æ•°ä¸åƒæ–¹æ³•é‚£æ ·å±äºæŸä¸ªç‰¹å®šçš„ç±»ã€‚ä½†å’Œæ–¹æ³•ä¸€æ ·ï¼Œ Lambdaæœ‰å‚æ•°åˆ—è¡¨ã€å‡½æ•°ä¸»ä½“ã€è¿”å›ç±»å‹ï¼Œè¿˜å¯èƒ½æœ‰å¯ä»¥æŠ›å‡ºçš„å¼‚å¸¸åˆ—è¡¨ã€‚</p>\n</li>\n<li><p>ä¼ é€’â€”â€”Lambdaè¡¨è¾¾å¼å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™æ–¹æ³•æˆ–å­˜å‚¨åœ¨å˜é‡ä¸­ã€‚</p>\n</li>\n<li><p>ç®€æ´â€”â€”æ— éœ€åƒåŒ¿åç±»é‚£æ ·å†™å¾ˆå¤šæ¨¡æ¿ä»£ç ã€‚</p>\n</li>\n</ul>\n<p>æˆ‘ä»¬é€šè¿‡ä¸€æ®µä»£ç æ¥å‘ç°Lambda è¡¨è¾¾å¼çš„ç®€æ´ä¹‹å¤„ï¼š</p>\n<p>1ï¼šæ‰¾å‡ºPersonåˆ—è¡¨ä¸­ æ¯”ä¼ å…¥age æ›´è€çš„Person åˆ—è¡¨ï¼Œä¸é€šè¿‡Lambdaè¡¨è¾¾å¼ï¼Œå†™æ³•å¦‚ä¸‹ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public static void printPersonsOlderThan(List\\&lt;Person\\&gt; roster, int age)&#123;</span><br><span class=\"line\">    for (Person p : roster) &#123;</span><br><span class=\"line\">        if (p.getAge() \\&gt;= age) &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">             p.printPerson();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>2ï¼šæ¥ä¸‹æ¥å¦‚æœæˆ‘ä»¬ä½¿ç”¨Lambda è¡¨è¾¾å¼é‡å†™ä¸Šæ®µä»£ç ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">roster</span><br><span class=\"line\">    .stream()</span><br><span class=\"line\">    .filter(p -&gt; &#123;p.getAge() &gt; age&#125;).forEach(p -&gt; p. p.printPerson());</span><br></pre></td></tr></table></figure>\n<p>ä½¿ç”¨Lambda è¡¨è¾¾å¼ä¹‹åè®©ä»£ç æ›´æ•´æ´ï¼Œè¯»èµ·æ¥æ›´æ¸…æ™°</p>\n<p>Lambda è¡¨è¾¾å¼è¯æ³•ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">* åœ¨æ‹¬å·ä¸­å‚æ•°åˆ—è¡¨ç”¨é€—å·åˆ†éš”</span><br><span class=\"line\">* ä½¿ç”¨ -&gt;</span><br><span class=\"line\">* å¦‚æœæœ‰returnå£°æ˜ï¼Œåœ¨Lambda è¡¨è¾¾å¼ä¸­ï¼Œ å°±å¿…è¦ç”¨èŠ±æ‹¬å·æ¥æ‹¬èµ·è¯­å¥</span><br></pre></td></tr></table></figure></p>\n<p>p -&gt; {<br>    return p. p.printPerson()<br>}</p>\n<p>ç„¶è€Œå¦‚æœæ˜¯ä¸€ä¸ªvoidæ–¹æ³•å°±ä¸å¿…ä½¿ç”¨{}</p>\n<p>email -&gt; System.out.println(email)</p>\n<h1 id=\"2-æ–¹æ³•çš„å¼•ç”¨\"><a href=\"#2-æ–¹æ³•çš„å¼•ç”¨\" class=\"headerlink\" title=\"2. æ–¹æ³•çš„å¼•ç”¨\"></a>2. æ–¹æ³•çš„å¼•ç”¨</h1><p>é‡å¤ä½¿ç”¨ç°æœ‰çš„æ–¹æ³•å®šä¹‰ï¼Œå¹¶åƒLambdaä¸€æ ·ä¼ é€’å®ƒä»¬å‡½æ•°å¼æ•°æ®å¤„ç†ã€‚ä¸‹é¢å°±æ˜¯å››ç§æ–¹æ³•çš„å¼•ç”¨ï¼š</p>\n<pre><code>| **Kind**      | **Example**                          |\n| é™æ€æ–¹æ³•å¼•ç”¨        | ContainingClass::staticMethodName    |\n| ç‰¹å®šå¯¹è±¡çš„æ–¹æ³•å¼•ç”¨     | containingObject::instanceMethodName |\n| ç‰¹å®šç±»å‹çš„ä»»æ„å¯¹è±¡æ–¹æ³•å¼•ç”¨ | ContainingType::methodName           |\n| æ„é€ å¼•ç”¨          | ClassName::new                       |\n</code></pre><p>ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä»£ç æ¥è§£é‡Šä¸€ä¸‹ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class Person &#123;</span><br><span class=\"line\">    public enum Sex &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        MALE, FEMALE</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    String name;</span><br><span class=\"line\">    LocalDate birthday;</span><br><span class=\"line\">    Sex gender;</span><br><span class=\"line\">    String emailAddress;</span><br><span class=\"line\">    public int getAge() &#123;</span><br><span class=\"line\">        // ...</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    public Calendar getBirthday() &#123;</span><br><span class=\"line\">        return birthday;</span><br><span class=\"line\">    &#125;    </span><br><span class=\"line\"></span><br><span class=\"line\">    public static int compareByAge(Person a, Person b) &#123;</span><br><span class=\"line\">        return a.birthday.compareTo(b.birthday);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li><p>é™æ€æ–¹æ³•å¼•ç”¨</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Person::compareByAge</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ç‰¹å®šå¯¹è±¡çš„æ–¹æ³•å¼•ç”¨</p>\n</li>\n</ul>\n<p>è·Ÿç€ä¸€ä¸ªä¾‹å­æ¥è§£é‡Šç‰¹å®šå¯¹è±¡çš„æ–¹æ³•å¼•ç”¨</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Student &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    public int compareByAge(String a, String b) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        return a.compareTo(b);</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public static void main(String[] args) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        Student stu = new Student();</span><br><span class=\"line\"></span><br><span class=\"line\">        String[] arr = &#123;&quot;ABC&quot;,&quot;abc&quot;,&quot;sdf&quot;,&quot;ddddd&quot;,&quot;rrrttt&quot;&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">        Arrays.sort(arr,(a, b) -&gt; stu.compareByAge(a,b));</span><br><span class=\"line\"></span><br><span class=\"line\">        Arrays.stream(arr).forEach(System.out::println);</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•æ¥æ”¶çš„æ˜¯ä¸€ä¸ªStringå¯¹è±¡</p>\n<ul>\n<li>ç‰¹å®šç±»å‹çš„ä»»æ„å¯¹è±¡æ–¹æ³•å¼•ç”¨</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String[] stringArray = &#123; &quot;Barbara&quot;, &quot;James&quot;, &quot;Mary&quot;, &quot;John&quot;,</span><br><span class=\"line\">&quot;Patricia&quot;, &quot;Robert&quot;, &quot;Michael&quot;, &quot;Linda&quot; &#125;;</span><br><span class=\"line\">Arrays.sort(stringArray, String::compareToIgnoreCase);</span><br></pre></td></tr></table></figure>\n<p>è¿™ä¸ªæ–¹æ³•å¼•ç”¨å°†è°ƒç”¨a.compareToIgnoreCase(b)æ–¹æ³•<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> æ„é€ å¼•ç”¨</span><br><span class=\"line\">ä½¿ç”¨Lambda è¡¨è¾¾å¼ ï¼ˆï¼‰ -\\&gt; &#123;return new HashMap\\&lt;\\&gt;();&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ä½¿ç”¨æ„é€ å¼•ç”¨ HashSet::new è®©Lambda è¡¨è¾¾å¼æœ‰äº†ä¸€ç§å¿«æ·çš„å†™æ³•<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> ç‰¹å®šå¯¹è±¡çš„æ–¹æ³•å¼•ç”¨ å’Œç‰¹å®šç±»å‹çš„ä»»æ„å¯¹è±¡æ–¹æ³•å¼•ç”¨çš„åŒºåˆ«</span><br><span class=\"line\">String::compareToIgnoreCase ä¸­ï¼Œå½“ä½ å¼•ç”¨å¯¹è±¡çš„æ–¹æ³•æ—¶ï¼Œè¿™ä¸ªå¯¹è±¡æœ¬èº«å°±æ˜¯ä¸€ä¸ªLambdaè¡¨è¾¾å¼çš„å‚æ•°Lambdaè¡¨è¾¾å¼(String s) -\\&gt; s. compareToIgnoreCase ()å¯ä»¥å†™ä½œString:: compareToIgnoreCaseã€‚è€Œç‰¹å®šå¯¹è±¡çš„æ–¹æ³•å¼•ç”¨åˆ™æ˜¯(a, b) -\\&gt; stu.compareByAge(a,b),ç­‰ä»·stu::compareByAge</span><br></pre></td></tr></table></figure></p>\n<p><img src=\"/2019/02/22/JAVA-8çš„æ–°ç‰¹æ€§-1/1550828240.jpg\" alt=\"\"></p>\n<h1 id=\"3-æ¥å£çš„é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•\"><a href=\"#3-æ¥å£çš„é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•\" class=\"headerlink\" title=\"3. æ¥å£çš„é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•\"></a>3. æ¥å£çš„é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•</h1><p>Java 8 å…è®¸åœ¨æ¥å£ä¸­æ·»åŠ é»˜è®¤æ–¹æ³•ï¼Œè¿™ä¸ªé»˜è®¤æ–¹æ³•å’Œä¹‹å‰çš„æŠ½è±¡æ–¹æ³•ä¸ä¸€æ ·ï¼Œä¸»è¦åœ¨äºæŠ½è±¡æ–¹æ³•å®ç°è€…å¿…è¦å®ç°ï¼Œé»˜è®¤æ–¹æ³•å®ç°è€…éƒ½åŒ…å«ï¼Œå¦‚æœéœ€è¦å¯ä»¥é‡å†™è¿™ä¸ªæ–¹æ³•ã€‚å…·ä½“æˆ‘ä»¬é€šè¿‡ä¾‹å­æ¥è§£é‡Šï¼š</p>\n<p>åˆ›å»ºä¸€ä¸ªcar æ¥å£ï¼Œå£°æ˜ä¸€ä¸ªé»˜è®¤æ–¹æ³•å’Œä¸€ä¸ªé™æ€æ–¹æ³•</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public interface Car &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    default void print() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        System.out.println(&quot;default------------&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    static Car create( Supplier&lt;Car&gt; supplier ) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        return supplier.get();</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å®ç°newCarç±»<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class NewCar implements Car &#123;</span><br><span class=\"line\">    public static void main(String[] args) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        Car newCar = Car.create(NewCar::new);</span><br><span class=\"line\"></span><br><span class=\"line\">        newCar.print();</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>è¦†ç›–é»˜è®¤æ–¹æ³• OverriddenCar</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class OverriddenCar implements Car &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    @Override</span><br><span class=\"line\"></span><br><span class=\"line\">    public void print() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        System.out.println(&quot;OverriddenCar------------------&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public static void main(String[] args) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        Car overriddenCar = Car.create(OverriddenCar::new);</span><br><span class=\"line\"></span><br><span class=\"line\">        overriddenCar.print();</span><br><span class=\"line\"></span><br><span class=\"line\">        Car newCar = Car.create(NewCar::new);</span><br><span class=\"line\"></span><br><span class=\"line\">        newCar.print();</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>æ‰“å°ç»“æœ<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">OverriddenCar------------------</span><br><span class=\"line\">default------------</span><br></pre></td></tr></table></figure></p>\n<p>åœ¨JVMä¸­ï¼Œé»˜è®¤æ–¹æ³•çš„å®ç°æ˜¯éå¸¸é«˜æ•ˆçš„ï¼Œå¹¶ä¸”é€šè¿‡å­—èŠ‚ç æŒ‡ä»¤ä¸ºæ–¹æ³•è°ƒç”¨æä¾›äº†æ”¯æŒã€‚é»˜è®¤æ–¹æ³•å…è®¸ç»§ç»­ä½¿ç”¨ç°æœ‰çš„Javaæ¥å£ï¼Œè€ŒåŒæ—¶èƒ½å¤Ÿä¿éšœæ­£å¸¸çš„ç¼–è¯‘è¿‡ç¨‹ã€‚è¿™æ–¹é¢å¥½çš„ä¾‹å­æ˜¯å¤§é‡çš„æ–¹æ³•è¢«æ·»åŠ åˆ°java.util.Collectionæ¥å£ä¸­å»ï¼šstream()ï¼ŒparallelStream()ï¼ŒforEach()ï¼ŒremoveIf()ï¼Œâ€¦â€¦</p>\n<p>å°½ç®¡é»˜è®¤æ–¹æ³•éå¸¸å¼ºå¤§ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨é»˜è®¤æ–¹æ³•æ—¶æˆ‘ä»¬éœ€è¦å°å¿ƒæ³¨æ„ä¸€ä¸ªåœ°æ–¹ï¼šåœ¨å£°æ˜ä¸€ä¸ªé»˜è®¤æ–¹æ³•å‰ï¼Œè¯·ä»”ç»†æ€è€ƒæ˜¯ä¸æ˜¯çœŸçš„æœ‰å¿…è¦ä½¿ç”¨é»˜è®¤æ–¹æ³•ï¼Œå› ä¸ºé»˜è®¤æ–¹æ³•ä¼šå¸¦ç»™ç¨‹åºæ­§ä¹‰ï¼Œå¹¶ä¸”åœ¨å¤æ‚çš„ç»§æ‰¿ä½“ç³»ä¸­å®¹æ˜“äº§ç”Ÿç¼–è¯‘é”™è¯¯ã€‚</p>\n<p>å‚è€ƒæ–‡æ¡£ï¼š</p>\n<p>  <a href=\"http://www.importnew.com/11908.html\" target=\"_blank\" rel=\"noopener\">Java 8æ–°ç‰¹æ€§ç»ˆææŒ‡å—</a></p>\n<p>  Java+8 å®æˆ˜ä¹¦ç±</p>\n<p>  <a href=\"https://docs.oracle.com/javase/tutorial/\" target=\"_blank\" rel=\"noopener\">Java tutorial </a></p>\n"},{"title":"@ModelAttribute å¯¹è±¡æ²¡æœ‰æ— å‚çš„æ„é€ å‡½æ•°å‡ºé”™è¯¦è§£","date":"2019-02-18T09:15:47.000Z","_content":"å¦‚æœå¯¹è±¡æ²¡æœ‰æ— å‚çš„æ„é€ å‡½æ•°Â @ModelAttribute è·å–å‚æ•°ä¼šæŠ¥å¼‚å¸¸\n\n![ModelAttribute-å¯¹è±¡æ²¡æœ‰æ— å‚çš„æ„é€ å‡½æ•°å‡ºé”™è¯¦è§£](https://img.mupaie.com/20180627151839209.png)\n\nÂ \n\né€šè¿‡åå°„å‡ºæ¥çš„å¯¹è±¡çš„å‚æ•°ç±»å‹ï¼ˆæ— å‚æ„é€ å‡½æ•°ï¼‰å’Œ ç±»ä¸­æ„é€ å‡½æ•°ï¼ˆåªæœ‰æœ‰å‚æ„é€ å‡½æ•°ï¼Œæ²¡æœ‰æ— å‚æ„é€ å‡½æ•° æ³¨é‡Šï¼šå½“ç±»ä¸­æ²¡æœ‰æœ‰å‚æ„é€ å‡½æ•°ï¼Œä¼šé»˜è®¤æœ‰ä¸€ä¸ªæ— å‚æ„é€ å‡½æ•°ï¼Œæ²¡æœ‰åˆ™æ— æ— å‚æ„é€ å‡½æ•°ï¼‰çš„å‚æ•°ç±»å‹å¯¹æ¯”ï¼Œ\n\n![ModelAttribute-å¯¹è±¡æ²¡æœ‰æ— å‚çš„æ„é€ å‡½æ•°å‡ºé”™è¯¦è§£](https://img.mupaie.com/20180628105206677.png)\n\nå‚æ•°å¯¹æ¯” ï¼Œä¸¤è€…ä¸ä¸€è‡´ è¿”å›false\n\n![ModelAttribute-å¯¹è±¡æ²¡æœ‰æ— å‚çš„æ„é€ å‡½æ•°å‡ºé”™è¯¦è§£](https://img.mupaie.com/20180628105954917.png)\n\næœ€åæŠ›å‡ºæ²¡æœ‰æ–¹æ³•çš„å¼‚å¸¸ä¿¡æ¯\n\n","source":"_posts/ModelAttribute-å¯¹è±¡æ²¡æœ‰æ— å‚çš„æ„é€ å‡½æ•°å‡ºé”™è¯¦è§£-1.md","raw":"---\ntitle: '@ModelAttribute å¯¹è±¡æ²¡æœ‰æ— å‚çš„æ„é€ å‡½æ•°å‡ºé”™è¯¦è§£'\ndate: 2019-02-18 17:15:47\ntags:\n---\nå¦‚æœå¯¹è±¡æ²¡æœ‰æ— å‚çš„æ„é€ å‡½æ•°Â @ModelAttribute è·å–å‚æ•°ä¼šæŠ¥å¼‚å¸¸\n\n![ModelAttribute-å¯¹è±¡æ²¡æœ‰æ— å‚çš„æ„é€ å‡½æ•°å‡ºé”™è¯¦è§£](https://img.mupaie.com/20180627151839209.png)\n\nÂ \n\né€šè¿‡åå°„å‡ºæ¥çš„å¯¹è±¡çš„å‚æ•°ç±»å‹ï¼ˆæ— å‚æ„é€ å‡½æ•°ï¼‰å’Œ ç±»ä¸­æ„é€ å‡½æ•°ï¼ˆåªæœ‰æœ‰å‚æ„é€ å‡½æ•°ï¼Œæ²¡æœ‰æ— å‚æ„é€ å‡½æ•° æ³¨é‡Šï¼šå½“ç±»ä¸­æ²¡æœ‰æœ‰å‚æ„é€ å‡½æ•°ï¼Œä¼šé»˜è®¤æœ‰ä¸€ä¸ªæ— å‚æ„é€ å‡½æ•°ï¼Œæ²¡æœ‰åˆ™æ— æ— å‚æ„é€ å‡½æ•°ï¼‰çš„å‚æ•°ç±»å‹å¯¹æ¯”ï¼Œ\n\n![ModelAttribute-å¯¹è±¡æ²¡æœ‰æ— å‚çš„æ„é€ å‡½æ•°å‡ºé”™è¯¦è§£](https://img.mupaie.com/20180628105206677.png)\n\nå‚æ•°å¯¹æ¯” ï¼Œä¸¤è€…ä¸ä¸€è‡´ è¿”å›false\n\n![ModelAttribute-å¯¹è±¡æ²¡æœ‰æ— å‚çš„æ„é€ å‡½æ•°å‡ºé”™è¯¦è§£](https://img.mupaie.com/20180628105954917.png)\n\næœ€åæŠ›å‡ºæ²¡æœ‰æ–¹æ³•çš„å¼‚å¸¸ä¿¡æ¯\n\n","slug":"ModelAttribute-å¯¹è±¡æ²¡æœ‰æ— å‚çš„æ„é€ å‡½æ•°å‡ºé”™è¯¦è§£-1","published":1,"updated":"2019-07-14T04:16:44.469Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkctu100064osxuibo31fk","content":"<p>å¦‚æœå¯¹è±¡æ²¡æœ‰æ— å‚çš„æ„é€ å‡½æ•° @ModelAttribute è·å–å‚æ•°ä¼šæŠ¥å¼‚å¸¸</p>\n<p><img src=\"https://img.mupaie.com/20180627151839209.png\" alt=\"ModelAttribute-å¯¹è±¡æ²¡æœ‰æ— å‚çš„æ„é€ å‡½æ•°å‡ºé”™è¯¦è§£\"></p>\n<p>é€šè¿‡åå°„å‡ºæ¥çš„å¯¹è±¡çš„å‚æ•°ç±»å‹ï¼ˆæ— å‚æ„é€ å‡½æ•°ï¼‰å’Œ ç±»ä¸­æ„é€ å‡½æ•°ï¼ˆåªæœ‰æœ‰å‚æ„é€ å‡½æ•°ï¼Œæ²¡æœ‰æ— å‚æ„é€ å‡½æ•° æ³¨é‡Šï¼šå½“ç±»ä¸­æ²¡æœ‰æœ‰å‚æ„é€ å‡½æ•°ï¼Œä¼šé»˜è®¤æœ‰ä¸€ä¸ªæ— å‚æ„é€ å‡½æ•°ï¼Œæ²¡æœ‰åˆ™æ— æ— å‚æ„é€ å‡½æ•°ï¼‰çš„å‚æ•°ç±»å‹å¯¹æ¯”ï¼Œ</p>\n<p><img src=\"https://img.mupaie.com/20180628105206677.png\" alt=\"ModelAttribute-å¯¹è±¡æ²¡æœ‰æ— å‚çš„æ„é€ å‡½æ•°å‡ºé”™è¯¦è§£\"></p>\n<p>å‚æ•°å¯¹æ¯” ï¼Œä¸¤è€…ä¸ä¸€è‡´ è¿”å›false</p>\n<p><img src=\"https://img.mupaie.com/20180628105954917.png\" alt=\"ModelAttribute-å¯¹è±¡æ²¡æœ‰æ— å‚çš„æ„é€ å‡½æ•°å‡ºé”™è¯¦è§£\"></p>\n<p>æœ€åæŠ›å‡ºæ²¡æœ‰æ–¹æ³•çš„å¼‚å¸¸ä¿¡æ¯</p>\n","site":{"data":{}},"excerpt":"","more":"<p>å¦‚æœå¯¹è±¡æ²¡æœ‰æ— å‚çš„æ„é€ å‡½æ•° @ModelAttribute è·å–å‚æ•°ä¼šæŠ¥å¼‚å¸¸</p>\n<p><img src=\"https://img.mupaie.com/20180627151839209.png\" alt=\"ModelAttribute-å¯¹è±¡æ²¡æœ‰æ— å‚çš„æ„é€ å‡½æ•°å‡ºé”™è¯¦è§£\"></p>\n<p>é€šè¿‡åå°„å‡ºæ¥çš„å¯¹è±¡çš„å‚æ•°ç±»å‹ï¼ˆæ— å‚æ„é€ å‡½æ•°ï¼‰å’Œ ç±»ä¸­æ„é€ å‡½æ•°ï¼ˆåªæœ‰æœ‰å‚æ„é€ å‡½æ•°ï¼Œæ²¡æœ‰æ— å‚æ„é€ å‡½æ•° æ³¨é‡Šï¼šå½“ç±»ä¸­æ²¡æœ‰æœ‰å‚æ„é€ å‡½æ•°ï¼Œä¼šé»˜è®¤æœ‰ä¸€ä¸ªæ— å‚æ„é€ å‡½æ•°ï¼Œæ²¡æœ‰åˆ™æ— æ— å‚æ„é€ å‡½æ•°ï¼‰çš„å‚æ•°ç±»å‹å¯¹æ¯”ï¼Œ</p>\n<p><img src=\"https://img.mupaie.com/20180628105206677.png\" alt=\"ModelAttribute-å¯¹è±¡æ²¡æœ‰æ— å‚çš„æ„é€ å‡½æ•°å‡ºé”™è¯¦è§£\"></p>\n<p>å‚æ•°å¯¹æ¯” ï¼Œä¸¤è€…ä¸ä¸€è‡´ è¿”å›false</p>\n<p><img src=\"https://img.mupaie.com/20180628105954917.png\" alt=\"ModelAttribute-å¯¹è±¡æ²¡æœ‰æ— å‚çš„æ„é€ å‡½æ•°å‡ºé”™è¯¦è§£\"></p>\n<p>æœ€åæŠ›å‡ºæ²¡æœ‰æ–¹æ³•çš„å¼‚å¸¸ä¿¡æ¯</p>\n"},{"title":"Linuxä¸‹é¡¹ç›®è‡ªåŠ¨éƒ¨ç½²è„šæœ¬","date":"2019-02-18T09:06:43.000Z","_content":"è¿™æ˜¯æœ¬äººç¬¬ä¸€æ¬¡å†™shell è„šæœ¬ï¼Œå¦‚æœæœ‰ä¸€ç‚¹é”™è¯¯çš„åœ°æ–¹è¯·è°…è§£\n\nå› ä¸ºå¹³æ—¶ä¸Šçº¿éƒ¨ç½²é¡¹ç›®éƒ½æ˜¯æ‰‹åŠ¨è¿›è¡Œçš„ï¼Œå¤§æ¦‚åˆ†å››æ­¥:\n\n1ï¼šå¤‡ä»½æ­£åœ¨è¿è¡Œçš„é¡¹ç›®æ–‡ä»¶\n\n2ï¼šå…³é—­Tomcat\n\n3ï¼šå¤åˆ¶éœ€è¦éƒ¨ç½²çš„é¡¹ç›®æ–‡ä»¶åˆ°Tomcatçš„weappsè·¯å¾„ä¸‹\n\n4ï¼šå¯åŠ¨Tomcatï¼Œå¹¶æ‰“å°å¯åŠ¨æ—¥å¿—ä¿¡æ¯\n\nå› ä¸ºæˆ‘ä»¬å…¬å¸éœ€è¦ä¸Šçº¿çš„é¡¹ç›®ç‰ˆæœ¬ï¼Œæµ‹è¯•ç»Ÿä¸€æ”¾åœ¨æµ‹è¯•æœåŠ¡å™¨çš„ftpä¸‹ã€‚çº¿ä¸Šé¡¹ç›®éƒ¨ç½²åœ¨çº¿ä¸ŠæœåŠ¡å™¨ï¼Œæ‰€ä»¥æ²¡æœ‰åšä»æµ‹è¯•ftpæ‹‰å–é¡¹ç›®åˆ°çº¿ä¸ŠæœåŠ¡å™¨ã€‚è¿™æ­¥æ“ä½œéœ€è¦è‡ªå·±æ‰‹åŠ¨å°†æ–‡ä»¶æ”¾ç½®åˆ°çº¿ä¸ŠæœåŠ¡å™¨çš„æŸä¸ªè·¯å¾„ï¼Œæœ¬äººåœ¨çº¿ä¸ŠæœåŠ¡å™¨ä¸Šåˆ›å»ºäº†ä¸€ä¸ªç›®å½•ç”¨äºå­˜æ”¾éƒ¨ç½²æ–‡ä»¶ï¼Œå¹¶å–å online_delopy_projectã€‚\n\nè¯´äº†è¿™ä¹ˆå¤šäº†ï¼Œæ¥ä¸‹é‡Œå¼€å§‹å†™ç¬¬ä¸€ä¸ªshell è„šæœ¬ç”¨äºéƒ¨ç½²é¡¹ç›®\n\n\n    #!/bin/bash\n    TOMCAT_HOME=/home/xxxx/apache-tomcat-7.0.84 #æœåŠ¡å™¨è·¯å¾„\n    BACKUP_HOME=/home/xxxx/yuelinghui-manage #å¤‡ä»½æ–‡ä»¶çš„è·¯å¾„\n    ONLINE_PROJECT_HOME=/home/xxxx/online_delopy_project#éœ€è¦ä¸Šçº¿éƒ¨ç½²çš„æ–‡ä»¶è·¯å¾„\n    PROJECT_VERSION=1.2.2 #é¡¹ç›®çš„ç‰ˆæœ¬å·\n    cd $BACKUP_HOME\n    new_file=yuelinghui_v${PROJECT_VERSION}_date +%Y%m%d #åˆ›å»ºå¤‡ä»½æ–‡ä»¶\n    mkdir $new_file\n    cp -rf $TOMCAT_HOME/webapps/ROOT/ $BACKUP_HOME/$new_file\n    ${TOMCAT_HOME}/bin/catalina.sh stop || true\n    sleep 1s #ç¡çœ ä¸€ç§’ é˜²æ­¢æœåŠ¡å™¨æ²¡æœ‰å…³é—­ï¼Œå°±æ‰§è¡Œåˆ é™¤é¡¹ç›®çš„æ“ä½œ\n    echo â€˜åˆ é™¤æœåŠ¡å™¨ä¸­çš„é¡¹ç›®ï¼Œé‡æ–°éƒ¨ç½²â€™\n    rm -rf $TOMCAT_HOME/webapps/ROOT/\n    echo â€˜éƒ¨ç½²å¼€å§‹ã€‚ã€‚ã€‚ã€‚â€™\n    cp -rf $ONLINE_PROJECT_HOME/* $TOMCAT_HOME/webapps/ROOT/\n    echo â€˜å¯åŠ¨tomcatã€‚ã€‚ã€‚ã€‚â€™\n    ${TOMCAT_HOME}/bin/catalina.sh start || true\n    sleep 1s\n    echo â€˜æ‰“å°å¯ç”¨æ—¥å¿—ä¿¡æ¯ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚â€™\n    tail -10f ${TOMCAT_HOME}/logs/catalina.out\n    \n    date +%Y%m%d è·å–å½“å‰æ—¶é—´\n","source":"_posts/Linuxä¸‹é¡¹ç›®è‡ªåŠ¨éƒ¨ç½²è„šæœ¬.md","raw":"---\ntitle: Linuxä¸‹é¡¹ç›®è‡ªåŠ¨éƒ¨ç½²è„šæœ¬\ndate: 2019-02-18 17:06:43\n---\nè¿™æ˜¯æœ¬äººç¬¬ä¸€æ¬¡å†™shell è„šæœ¬ï¼Œå¦‚æœæœ‰ä¸€ç‚¹é”™è¯¯çš„åœ°æ–¹è¯·è°…è§£\n\nå› ä¸ºå¹³æ—¶ä¸Šçº¿éƒ¨ç½²é¡¹ç›®éƒ½æ˜¯æ‰‹åŠ¨è¿›è¡Œçš„ï¼Œå¤§æ¦‚åˆ†å››æ­¥:\n\n1ï¼šå¤‡ä»½æ­£åœ¨è¿è¡Œçš„é¡¹ç›®æ–‡ä»¶\n\n2ï¼šå…³é—­Tomcat\n\n3ï¼šå¤åˆ¶éœ€è¦éƒ¨ç½²çš„é¡¹ç›®æ–‡ä»¶åˆ°Tomcatçš„weappsè·¯å¾„ä¸‹\n\n4ï¼šå¯åŠ¨Tomcatï¼Œå¹¶æ‰“å°å¯åŠ¨æ—¥å¿—ä¿¡æ¯\n\nå› ä¸ºæˆ‘ä»¬å…¬å¸éœ€è¦ä¸Šçº¿çš„é¡¹ç›®ç‰ˆæœ¬ï¼Œæµ‹è¯•ç»Ÿä¸€æ”¾åœ¨æµ‹è¯•æœåŠ¡å™¨çš„ftpä¸‹ã€‚çº¿ä¸Šé¡¹ç›®éƒ¨ç½²åœ¨çº¿ä¸ŠæœåŠ¡å™¨ï¼Œæ‰€ä»¥æ²¡æœ‰åšä»æµ‹è¯•ftpæ‹‰å–é¡¹ç›®åˆ°çº¿ä¸ŠæœåŠ¡å™¨ã€‚è¿™æ­¥æ“ä½œéœ€è¦è‡ªå·±æ‰‹åŠ¨å°†æ–‡ä»¶æ”¾ç½®åˆ°çº¿ä¸ŠæœåŠ¡å™¨çš„æŸä¸ªè·¯å¾„ï¼Œæœ¬äººåœ¨çº¿ä¸ŠæœåŠ¡å™¨ä¸Šåˆ›å»ºäº†ä¸€ä¸ªç›®å½•ç”¨äºå­˜æ”¾éƒ¨ç½²æ–‡ä»¶ï¼Œå¹¶å–å online_delopy_projectã€‚\n\nè¯´äº†è¿™ä¹ˆå¤šäº†ï¼Œæ¥ä¸‹é‡Œå¼€å§‹å†™ç¬¬ä¸€ä¸ªshell è„šæœ¬ç”¨äºéƒ¨ç½²é¡¹ç›®\n\n\n    #!/bin/bash\n    TOMCAT_HOME=/home/xxxx/apache-tomcat-7.0.84 #æœåŠ¡å™¨è·¯å¾„\n    BACKUP_HOME=/home/xxxx/yuelinghui-manage #å¤‡ä»½æ–‡ä»¶çš„è·¯å¾„\n    ONLINE_PROJECT_HOME=/home/xxxx/online_delopy_project#éœ€è¦ä¸Šçº¿éƒ¨ç½²çš„æ–‡ä»¶è·¯å¾„\n    PROJECT_VERSION=1.2.2 #é¡¹ç›®çš„ç‰ˆæœ¬å·\n    cd $BACKUP_HOME\n    new_file=yuelinghui_v${PROJECT_VERSION}_date +%Y%m%d #åˆ›å»ºå¤‡ä»½æ–‡ä»¶\n    mkdir $new_file\n    cp -rf $TOMCAT_HOME/webapps/ROOT/ $BACKUP_HOME/$new_file\n    ${TOMCAT_HOME}/bin/catalina.sh stop || true\n    sleep 1s #ç¡çœ ä¸€ç§’ é˜²æ­¢æœåŠ¡å™¨æ²¡æœ‰å…³é—­ï¼Œå°±æ‰§è¡Œåˆ é™¤é¡¹ç›®çš„æ“ä½œ\n    echo â€˜åˆ é™¤æœåŠ¡å™¨ä¸­çš„é¡¹ç›®ï¼Œé‡æ–°éƒ¨ç½²â€™\n    rm -rf $TOMCAT_HOME/webapps/ROOT/\n    echo â€˜éƒ¨ç½²å¼€å§‹ã€‚ã€‚ã€‚ã€‚â€™\n    cp -rf $ONLINE_PROJECT_HOME/* $TOMCAT_HOME/webapps/ROOT/\n    echo â€˜å¯åŠ¨tomcatã€‚ã€‚ã€‚ã€‚â€™\n    ${TOMCAT_HOME}/bin/catalina.sh start || true\n    sleep 1s\n    echo â€˜æ‰“å°å¯ç”¨æ—¥å¿—ä¿¡æ¯ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚â€™\n    tail -10f ${TOMCAT_HOME}/logs/catalina.out\n    \n    date +%Y%m%d è·å–å½“å‰æ—¶é—´\n","slug":"Linuxä¸‹é¡¹ç›®è‡ªåŠ¨éƒ¨ç½²è„šæœ¬","published":1,"updated":"2019-07-14T03:11:26.954Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkctu400094osx471vu2mx","content":"<p>è¿™æ˜¯æœ¬äººç¬¬ä¸€æ¬¡å†™shell è„šæœ¬ï¼Œå¦‚æœæœ‰ä¸€ç‚¹é”™è¯¯çš„åœ°æ–¹è¯·è°…è§£</p>\n<p>å› ä¸ºå¹³æ—¶ä¸Šçº¿éƒ¨ç½²é¡¹ç›®éƒ½æ˜¯æ‰‹åŠ¨è¿›è¡Œçš„ï¼Œå¤§æ¦‚åˆ†å››æ­¥:</p>\n<p>1ï¼šå¤‡ä»½æ­£åœ¨è¿è¡Œçš„é¡¹ç›®æ–‡ä»¶</p>\n<p>2ï¼šå…³é—­Tomcat</p>\n<p>3ï¼šå¤åˆ¶éœ€è¦éƒ¨ç½²çš„é¡¹ç›®æ–‡ä»¶åˆ°Tomcatçš„weappsè·¯å¾„ä¸‹</p>\n<p>4ï¼šå¯åŠ¨Tomcatï¼Œå¹¶æ‰“å°å¯åŠ¨æ—¥å¿—ä¿¡æ¯</p>\n<p>å› ä¸ºæˆ‘ä»¬å…¬å¸éœ€è¦ä¸Šçº¿çš„é¡¹ç›®ç‰ˆæœ¬ï¼Œæµ‹è¯•ç»Ÿä¸€æ”¾åœ¨æµ‹è¯•æœåŠ¡å™¨çš„ftpä¸‹ã€‚çº¿ä¸Šé¡¹ç›®éƒ¨ç½²åœ¨çº¿ä¸ŠæœåŠ¡å™¨ï¼Œæ‰€ä»¥æ²¡æœ‰åšä»æµ‹è¯•ftpæ‹‰å–é¡¹ç›®åˆ°çº¿ä¸ŠæœåŠ¡å™¨ã€‚è¿™æ­¥æ“ä½œéœ€è¦è‡ªå·±æ‰‹åŠ¨å°†æ–‡ä»¶æ”¾ç½®åˆ°çº¿ä¸ŠæœåŠ¡å™¨çš„æŸä¸ªè·¯å¾„ï¼Œæœ¬äººåœ¨çº¿ä¸ŠæœåŠ¡å™¨ä¸Šåˆ›å»ºäº†ä¸€ä¸ªç›®å½•ç”¨äºå­˜æ”¾éƒ¨ç½²æ–‡ä»¶ï¼Œå¹¶å–å online_delopy_projectã€‚</p>\n<p>è¯´äº†è¿™ä¹ˆå¤šäº†ï¼Œæ¥ä¸‹é‡Œå¼€å§‹å†™ç¬¬ä¸€ä¸ªshell è„šæœ¬ç”¨äºéƒ¨ç½²é¡¹ç›®</p>\n<pre><code>#!/bin/bash\nTOMCAT_HOME=/home/xxxx/apache-tomcat-7.0.84 #æœåŠ¡å™¨è·¯å¾„\nBACKUP_HOME=/home/xxxx/yuelinghui-manage #å¤‡ä»½æ–‡ä»¶çš„è·¯å¾„\nONLINE_PROJECT_HOME=/home/xxxx/online_delopy_project#éœ€è¦ä¸Šçº¿éƒ¨ç½²çš„æ–‡ä»¶è·¯å¾„\nPROJECT_VERSION=1.2.2 #é¡¹ç›®çš„ç‰ˆæœ¬å·\ncd $BACKUP_HOME\nnew_file=yuelinghui_v${PROJECT_VERSION}_date +%Y%m%d #åˆ›å»ºå¤‡ä»½æ–‡ä»¶\nmkdir $new_file\ncp -rf $TOMCAT_HOME/webapps/ROOT/ $BACKUP_HOME/$new_file\n${TOMCAT_HOME}/bin/catalina.sh stop || true\nsleep 1s #ç¡çœ ä¸€ç§’ é˜²æ­¢æœåŠ¡å™¨æ²¡æœ‰å…³é—­ï¼Œå°±æ‰§è¡Œåˆ é™¤é¡¹ç›®çš„æ“ä½œ\necho â€˜åˆ é™¤æœåŠ¡å™¨ä¸­çš„é¡¹ç›®ï¼Œé‡æ–°éƒ¨ç½²â€™\nrm -rf $TOMCAT_HOME/webapps/ROOT/\necho â€˜éƒ¨ç½²å¼€å§‹ã€‚ã€‚ã€‚ã€‚â€™\ncp -rf $ONLINE_PROJECT_HOME/* $TOMCAT_HOME/webapps/ROOT/\necho â€˜å¯åŠ¨tomcatã€‚ã€‚ã€‚ã€‚â€™\n${TOMCAT_HOME}/bin/catalina.sh start || true\nsleep 1s\necho â€˜æ‰“å°å¯ç”¨æ—¥å¿—ä¿¡æ¯ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚â€™\ntail -10f ${TOMCAT_HOME}/logs/catalina.out\n\ndate +%Y%m%d è·å–å½“å‰æ—¶é—´\n</code></pre>","site":{"data":{}},"excerpt":"","more":"<p>è¿™æ˜¯æœ¬äººç¬¬ä¸€æ¬¡å†™shell è„šæœ¬ï¼Œå¦‚æœæœ‰ä¸€ç‚¹é”™è¯¯çš„åœ°æ–¹è¯·è°…è§£</p>\n<p>å› ä¸ºå¹³æ—¶ä¸Šçº¿éƒ¨ç½²é¡¹ç›®éƒ½æ˜¯æ‰‹åŠ¨è¿›è¡Œçš„ï¼Œå¤§æ¦‚åˆ†å››æ­¥:</p>\n<p>1ï¼šå¤‡ä»½æ­£åœ¨è¿è¡Œçš„é¡¹ç›®æ–‡ä»¶</p>\n<p>2ï¼šå…³é—­Tomcat</p>\n<p>3ï¼šå¤åˆ¶éœ€è¦éƒ¨ç½²çš„é¡¹ç›®æ–‡ä»¶åˆ°Tomcatçš„weappsè·¯å¾„ä¸‹</p>\n<p>4ï¼šå¯åŠ¨Tomcatï¼Œå¹¶æ‰“å°å¯åŠ¨æ—¥å¿—ä¿¡æ¯</p>\n<p>å› ä¸ºæˆ‘ä»¬å…¬å¸éœ€è¦ä¸Šçº¿çš„é¡¹ç›®ç‰ˆæœ¬ï¼Œæµ‹è¯•ç»Ÿä¸€æ”¾åœ¨æµ‹è¯•æœåŠ¡å™¨çš„ftpä¸‹ã€‚çº¿ä¸Šé¡¹ç›®éƒ¨ç½²åœ¨çº¿ä¸ŠæœåŠ¡å™¨ï¼Œæ‰€ä»¥æ²¡æœ‰åšä»æµ‹è¯•ftpæ‹‰å–é¡¹ç›®åˆ°çº¿ä¸ŠæœåŠ¡å™¨ã€‚è¿™æ­¥æ“ä½œéœ€è¦è‡ªå·±æ‰‹åŠ¨å°†æ–‡ä»¶æ”¾ç½®åˆ°çº¿ä¸ŠæœåŠ¡å™¨çš„æŸä¸ªè·¯å¾„ï¼Œæœ¬äººåœ¨çº¿ä¸ŠæœåŠ¡å™¨ä¸Šåˆ›å»ºäº†ä¸€ä¸ªç›®å½•ç”¨äºå­˜æ”¾éƒ¨ç½²æ–‡ä»¶ï¼Œå¹¶å–å online_delopy_projectã€‚</p>\n<p>è¯´äº†è¿™ä¹ˆå¤šäº†ï¼Œæ¥ä¸‹é‡Œå¼€å§‹å†™ç¬¬ä¸€ä¸ªshell è„šæœ¬ç”¨äºéƒ¨ç½²é¡¹ç›®</p>\n<pre><code>#!/bin/bash\nTOMCAT_HOME=/home/xxxx/apache-tomcat-7.0.84 #æœåŠ¡å™¨è·¯å¾„\nBACKUP_HOME=/home/xxxx/yuelinghui-manage #å¤‡ä»½æ–‡ä»¶çš„è·¯å¾„\nONLINE_PROJECT_HOME=/home/xxxx/online_delopy_project#éœ€è¦ä¸Šçº¿éƒ¨ç½²çš„æ–‡ä»¶è·¯å¾„\nPROJECT_VERSION=1.2.2 #é¡¹ç›®çš„ç‰ˆæœ¬å·\ncd $BACKUP_HOME\nnew_file=yuelinghui_v${PROJECT_VERSION}_date +%Y%m%d #åˆ›å»ºå¤‡ä»½æ–‡ä»¶\nmkdir $new_file\ncp -rf $TOMCAT_HOME/webapps/ROOT/ $BACKUP_HOME/$new_file\n${TOMCAT_HOME}/bin/catalina.sh stop || true\nsleep 1s #ç¡çœ ä¸€ç§’ é˜²æ­¢æœåŠ¡å™¨æ²¡æœ‰å…³é—­ï¼Œå°±æ‰§è¡Œåˆ é™¤é¡¹ç›®çš„æ“ä½œ\necho â€˜åˆ é™¤æœåŠ¡å™¨ä¸­çš„é¡¹ç›®ï¼Œé‡æ–°éƒ¨ç½²â€™\nrm -rf $TOMCAT_HOME/webapps/ROOT/\necho â€˜éƒ¨ç½²å¼€å§‹ã€‚ã€‚ã€‚ã€‚â€™\ncp -rf $ONLINE_PROJECT_HOME/* $TOMCAT_HOME/webapps/ROOT/\necho â€˜å¯åŠ¨tomcatã€‚ã€‚ã€‚ã€‚â€™\n${TOMCAT_HOME}/bin/catalina.sh start || true\nsleep 1s\necho â€˜æ‰“å°å¯ç”¨æ—¥å¿—ä¿¡æ¯ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚â€™\ntail -10f ${TOMCAT_HOME}/logs/catalina.out\n\ndate +%Y%m%d è·å–å½“å‰æ—¶é—´\n</code></pre>"},{"title":"cookie å’Œ session çš„åŒºåˆ«","date":"2019-02-26T01:42:48.000Z","_content":"ä»Šå¤©æˆ‘ä»¬æ¥è®²ä¸€ä¸‹ cookieå’Œ sessionçš„ä¸€äº›åŒºåˆ«ï¼Œä¸‹é¢é€šè¿‡å‡ ä¸ªæ–¹é¢æ¥è¯´æ˜å®ƒä»¬ä¹‹é—´çš„å·®å¼‚ï¼Ÿ\n# 1. ä¸ºå•¥éœ€è¦sessionå’Œcookie?\nç”±äºhttpæ˜¯æ— çŠ¶æ€çš„ï¼Œå¦‚æœéœ€è¦è¿½è¸ªç”¨æˆ·çš„è®°å½•ä¸»è¦å¼•å…¥session è¿½è¸ªç”¨æˆ·ï¼Œä¸€èˆ¬æˆ‘ä»¬å¸¸ç”¨session è®°å½•ç”¨æˆ·çš„ç™»å½•æ€ï¼Œå­˜æ”¾ç”¨æˆ·çš„ä¸€äº›ä¿¡æ¯ ä¸»è¦ç”¨äºç”¨æˆ·æµè§ˆå…¶ä»–é¡µé¢æ—¶å¯¹ç”¨æˆ·ç™»å½•æ€çš„åˆ¤æ–­ã€‚\n# 2. å­˜åœ¨ä½ç½®\ncookie æ˜¯åŸºäºclientç«¯ è€Œ session åŸºäº serverç«¯\n# 3.ç³»ç»Ÿå®‰å…¨æ€§\n   ç”±äºåŸºäºclientï¼Œå­˜åœ¨æµè§ˆå™¨ä¸Šæ‰€ä»¥å¯èƒ½ä¼šå¯¼è‡´cookieè¢«çªƒå–å¯¼è‡´å¯†ç åˆ«æ³„éœ²ï¼Œå‡ºç°è¿™ç§åŸå› ä¸»è¦æ˜¯åœ¨å…¬ç”¨ç½‘ç»œä¸‹æ“ä½œæˆ–è€…ä¸€äº›ä¸å®‰å…¨çš„ç½‘ç»œã€‚å…¶å®è¿™ç§æƒ…å†µä¸‹cookieè¢«çªƒå–ä¹Ÿä¼šå¯¼è‡´sessionä¸å®‰å…¨ï¼Œå› ä¸ºä¸€èˆ¬æƒ…å†µä¸‹ï¼Œsession keyï¼ˆsession ID ç”¨äºæ ‡è¯†ç”¨æˆ·ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ session æœ‰æ•ˆæ—¶é—´æ˜¯30åˆ†é’Ÿå’Œå…³é—­æµè§ˆå™¨å¤±å»ç™»å½•æ€ï¼Œsession å¤±æ•ˆä¸»è¦åŸå› åœ¨äºsession id å¤±æ•ˆï¼Œé‡æ–°æ‰“å¼€æµè§ˆå™¨ä¼šé‡æ–°è·å–æ–°çš„session IDï¼‰ å­˜å‚¨åœ¨cookieä¸­ï¼Œä¼šå¯¼è‡´sessionä¸å®‰å…¨ï¼Œè¿˜æœ‰ä¸€ç§æƒ…å†µå°±æ˜¯å­˜æ”¾åœ¨URLä¸­ï¼Œè¿™ç§æ–¹å¼session ID ç›´æ¥æš´éœ²åœ¨URL æ›´ä¸å®‰å…¨ï¼Œå…¶å®å®‰å…¨è¿™é—®é¢˜éƒ½æ˜¯ç›¸å¯¹çš„ï¼Œä¸‹é¢æˆ‘ä»¬è®²ä¸€ä¸‹å¦‚ä½•ä½¿ç³»ç»Ÿå˜çš„å®‰å…¨\n\n  1. ä¿æŠ¤å¥½è‡ªå·±çš„cookieï¼Œåœ¨éå®‰å…¨çš„ç½‘ç»œä¸‹ï¼Œç¦æ­¢å°†è´¦å·å¯†ç å­˜åœ¨cookieä¸­\n  2. é€šè¿‡ç¨‹åºæ¥ä¿éšœå®‰å…¨ï¼Œsession è®°å½•ç”¨æˆ·ç™»å½•çš„æµè§ˆå™¨çš„ UA å¤´å’Œipåœ°å€ç­‰ä¿¡æ¯ï¼Œåœ¨ä¸€äº›æ•æ„Ÿæ“ä½œä¸‹éªŒè¯ç™»å½•æ—¶æµè§ˆå™¨çš„ UA å¤´å’Œipåœ°å€ç­‰ä¿¡æ¯ï¼Œåˆ¤æ–­æ˜¯å¦ä¸€è‡´æ¥ç¡®å®šå®‰å…¨ã€‚\n  3. ç¨‹åºä¸­å°½é‡ä½¿ç”¨ä¸€äº›æ¡†æ¶æ¥ç®¡ç†å¥½sessionï¼Œå¯¹sessionåšä¸€ä¸ªç›‘æ§ï¼Œå®šæœŸæ¸…é™¤sessionä¿¡æ¯ã€‚\n  4. ç¡®å®šçš„å…³é—­æ–¹å¼ï¼Œå½“ç”¨æˆ·é€€å‡ºç™»å½•æ—¶ï¼Œæ¸…é™¤cookie ä¸­çš„session ID ï¼Œsession å­˜å‚¨çš„å†…å®¹ç­‰ä¿¡æ¯ã€‚\n  5. å°½é‡å°†ç½‘ç«™ä»httpå˜æˆhttpsï¼Œè¿™æ ·ä¼ è¾“ä¸­å¯ä»¥é¿å…cookieè¢«åŠ«æŒã€‚\n  6. cookieçš„è¿‡æœŸæ—¶é—´ä¸èƒ½è®¾ç½®è¿‡é•¿ï¼Œcookieå’Œsession è¿‡æœŸæ—¶é—´å°½é‡è®¾ç½®ä¸€æ ·ï¼Œä¸€æ—¦cookieè¿‡æœŸäº† session ID ä¹Ÿè·Ÿç€è¿‡æœŸï¼Œä½†æ˜¯æœ‰ä¸€ç§æƒ…å†µï¼Œsessionå½“ç”¨æˆ·åˆ·æ–°é¡µé¢ï¼Œsession ä¼šä¸€ç›´ç»­æœŸã€‚è™½ç„¶å‰é¢è¯´çš„cookieè¿‡æœŸäº†ï¼Œå…¶å® session ID è¿˜æ²¡æœ‰è¿‡æœŸè¿™æ ·ä¹Ÿä¼šå¯¼è‡´é—®é¢˜å‡ºç°ã€‚\n  å°ç»“ï¼šå®‰å…¨é—®é¢˜æ˜¯ç›¸å¯¹çš„ï¼Œä¸»è¦ä½ åšåˆ°ä¸Šé¢å‡ ç‚¹ï¼Œå®‰å…¨é—®é¢˜è‡ªç„¶å¯¹ä½ å½±å“ä¸å¤§ã€‚\n\n# 4. å­˜å‚¨å†…å®¹å¤§å°\n\n1. æµè§ˆå™¨å¯¹cookieæ•°é‡å’Œcookieå­˜å‚¨å¤§å°æœ‰é™åˆ¶ï¼Œä¸‹é¢å¯¹ä¸åŒæµè§ˆå™¨cookieé™åˆ¶åšä¸€ä¸ªä»‹ç»\n| |IE6.0  |IE7.0/8.0  | Opera | Chrome | Safari\n|cookieä¸ªæ•°|æ¯ä¸ªåŸŸä¸º20ä¸ª|æ¯ä¸ªåŸŸä¸º50ä¸ª|æ¯ä¸ªåŸŸä¸º30ä¸ª|æ¯ä¸ªåŸŸä¸º53ä¸ª|æ²¡æœ‰ä¸ªæ•°é™åˆ¶|\n|cookieå¤§å°|4095ä¸ªå­—èŠ‚|\t4095ä¸ªå­—èŠ‚|4096ä¸ªå­—èŠ‚|4097ä¸ªå­—èŠ‚|4097ä¸ªå­—èŠ‚|\næ€»ä¹‹å¯¹é¡µé¢cookie æ“ä½œï¼Œå°½é‡æ•°é‡å°äº20æ€»å¤§å°å°äº4kbï¼Œè¿‡æœŸæ—¶é—´ä¸èƒ½è®¾ç½®è¿‡é•¿ï¼Œé¿å…å†…å®¹è¿‡å¤šå¯¼è‡´æµè§ˆå™¨è‡ªåŠ¨æ¸…é™¤å†…å®¹æŠŠä¸€äº›æœ‰ç”¨çš„å­—æ®µå¦‚ session ID å¯¼è‡´ç™»å½•æ€ä¸¢å¤±ï¼Œéœ€è¦é‡æ–°ç™»å½•\n\n2. session å­˜åœ¨æœåŠ¡å™¨ä¸­ï¼Œå¯¹å°äºæ²¡æœ‰å¾ˆä¸¥æ ¼çš„é™åˆ¶ï¼Œä½†æ˜¯ä¹Ÿä¸èƒ½å­˜æ”¾è¿‡å¤šçš„å†…å®¹ï¼Œä¸»è¦æ˜¯æœåŠ¡å™¨å†…å­˜æœ‰é™ä¸€æ—¦åˆ›å»ºè¿‡å¤šçš„å†…å®¹å æ®å¤§é‡çš„å†…å­˜ï¼Œä¼šå¯¼è‡´å†…å­˜ä¸è¶³ç­‰æƒ…å†µå‡ºç°ï¼Œå½±å“å…¶ä»–æ“ä½œã€‚\n\n# 5. æ€»ç»“\nsessionå’Œcookieåœ¨é¡¹ç›®ä¸­éœ€è¦ç»“åˆä½¿ç”¨ï¼Œäº†è§£å®ƒä»¬çš„åŒºåˆ«è¿›è€Œèƒ½æ›´å¥½çš„åˆ©ç”¨å®ƒä»¬\n\nå‚è€ƒæ–‡æ¡£ï¼š\n1. [Cookieä¸ªæ•°é™åˆ¶åŠå¤§å°](https://my.oschina.net/gaollg/blog/71299)\n2. [æ­£ç¡®ç†è§£ Session çš„å®‰å…¨æ€§](https://www.jianshu.com/p/c4b32eb24894)\n","source":"_posts/cookie-å’Œ-session-çš„åŒºåˆ«.md","raw":"---\ntitle: cookie å’Œ session çš„åŒºåˆ«\ndate: 2019-02-26 09:42:48\ntags:\n- http\n- ç½‘ç»œå®‰å…¨\n---\nä»Šå¤©æˆ‘ä»¬æ¥è®²ä¸€ä¸‹ cookieå’Œ sessionçš„ä¸€äº›åŒºåˆ«ï¼Œä¸‹é¢é€šè¿‡å‡ ä¸ªæ–¹é¢æ¥è¯´æ˜å®ƒä»¬ä¹‹é—´çš„å·®å¼‚ï¼Ÿ\n# 1. ä¸ºå•¥éœ€è¦sessionå’Œcookie?\nç”±äºhttpæ˜¯æ— çŠ¶æ€çš„ï¼Œå¦‚æœéœ€è¦è¿½è¸ªç”¨æˆ·çš„è®°å½•ä¸»è¦å¼•å…¥session è¿½è¸ªç”¨æˆ·ï¼Œä¸€èˆ¬æˆ‘ä»¬å¸¸ç”¨session è®°å½•ç”¨æˆ·çš„ç™»å½•æ€ï¼Œå­˜æ”¾ç”¨æˆ·çš„ä¸€äº›ä¿¡æ¯ ä¸»è¦ç”¨äºç”¨æˆ·æµè§ˆå…¶ä»–é¡µé¢æ—¶å¯¹ç”¨æˆ·ç™»å½•æ€çš„åˆ¤æ–­ã€‚\n# 2. å­˜åœ¨ä½ç½®\ncookie æ˜¯åŸºäºclientç«¯ è€Œ session åŸºäº serverç«¯\n# 3.ç³»ç»Ÿå®‰å…¨æ€§\n   ç”±äºåŸºäºclientï¼Œå­˜åœ¨æµè§ˆå™¨ä¸Šæ‰€ä»¥å¯èƒ½ä¼šå¯¼è‡´cookieè¢«çªƒå–å¯¼è‡´å¯†ç åˆ«æ³„éœ²ï¼Œå‡ºç°è¿™ç§åŸå› ä¸»è¦æ˜¯åœ¨å…¬ç”¨ç½‘ç»œä¸‹æ“ä½œæˆ–è€…ä¸€äº›ä¸å®‰å…¨çš„ç½‘ç»œã€‚å…¶å®è¿™ç§æƒ…å†µä¸‹cookieè¢«çªƒå–ä¹Ÿä¼šå¯¼è‡´sessionä¸å®‰å…¨ï¼Œå› ä¸ºä¸€èˆ¬æƒ…å†µä¸‹ï¼Œsession keyï¼ˆsession ID ç”¨äºæ ‡è¯†ç”¨æˆ·ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ session æœ‰æ•ˆæ—¶é—´æ˜¯30åˆ†é’Ÿå’Œå…³é—­æµè§ˆå™¨å¤±å»ç™»å½•æ€ï¼Œsession å¤±æ•ˆä¸»è¦åŸå› åœ¨äºsession id å¤±æ•ˆï¼Œé‡æ–°æ‰“å¼€æµè§ˆå™¨ä¼šé‡æ–°è·å–æ–°çš„session IDï¼‰ å­˜å‚¨åœ¨cookieä¸­ï¼Œä¼šå¯¼è‡´sessionä¸å®‰å…¨ï¼Œè¿˜æœ‰ä¸€ç§æƒ…å†µå°±æ˜¯å­˜æ”¾åœ¨URLä¸­ï¼Œè¿™ç§æ–¹å¼session ID ç›´æ¥æš´éœ²åœ¨URL æ›´ä¸å®‰å…¨ï¼Œå…¶å®å®‰å…¨è¿™é—®é¢˜éƒ½æ˜¯ç›¸å¯¹çš„ï¼Œä¸‹é¢æˆ‘ä»¬è®²ä¸€ä¸‹å¦‚ä½•ä½¿ç³»ç»Ÿå˜çš„å®‰å…¨\n\n  1. ä¿æŠ¤å¥½è‡ªå·±çš„cookieï¼Œåœ¨éå®‰å…¨çš„ç½‘ç»œä¸‹ï¼Œç¦æ­¢å°†è´¦å·å¯†ç å­˜åœ¨cookieä¸­\n  2. é€šè¿‡ç¨‹åºæ¥ä¿éšœå®‰å…¨ï¼Œsession è®°å½•ç”¨æˆ·ç™»å½•çš„æµè§ˆå™¨çš„ UA å¤´å’Œipåœ°å€ç­‰ä¿¡æ¯ï¼Œåœ¨ä¸€äº›æ•æ„Ÿæ“ä½œä¸‹éªŒè¯ç™»å½•æ—¶æµè§ˆå™¨çš„ UA å¤´å’Œipåœ°å€ç­‰ä¿¡æ¯ï¼Œåˆ¤æ–­æ˜¯å¦ä¸€è‡´æ¥ç¡®å®šå®‰å…¨ã€‚\n  3. ç¨‹åºä¸­å°½é‡ä½¿ç”¨ä¸€äº›æ¡†æ¶æ¥ç®¡ç†å¥½sessionï¼Œå¯¹sessionåšä¸€ä¸ªç›‘æ§ï¼Œå®šæœŸæ¸…é™¤sessionä¿¡æ¯ã€‚\n  4. ç¡®å®šçš„å…³é—­æ–¹å¼ï¼Œå½“ç”¨æˆ·é€€å‡ºç™»å½•æ—¶ï¼Œæ¸…é™¤cookie ä¸­çš„session ID ï¼Œsession å­˜å‚¨çš„å†…å®¹ç­‰ä¿¡æ¯ã€‚\n  5. å°½é‡å°†ç½‘ç«™ä»httpå˜æˆhttpsï¼Œè¿™æ ·ä¼ è¾“ä¸­å¯ä»¥é¿å…cookieè¢«åŠ«æŒã€‚\n  6. cookieçš„è¿‡æœŸæ—¶é—´ä¸èƒ½è®¾ç½®è¿‡é•¿ï¼Œcookieå’Œsession è¿‡æœŸæ—¶é—´å°½é‡è®¾ç½®ä¸€æ ·ï¼Œä¸€æ—¦cookieè¿‡æœŸäº† session ID ä¹Ÿè·Ÿç€è¿‡æœŸï¼Œä½†æ˜¯æœ‰ä¸€ç§æƒ…å†µï¼Œsessionå½“ç”¨æˆ·åˆ·æ–°é¡µé¢ï¼Œsession ä¼šä¸€ç›´ç»­æœŸã€‚è™½ç„¶å‰é¢è¯´çš„cookieè¿‡æœŸäº†ï¼Œå…¶å® session ID è¿˜æ²¡æœ‰è¿‡æœŸè¿™æ ·ä¹Ÿä¼šå¯¼è‡´é—®é¢˜å‡ºç°ã€‚\n  å°ç»“ï¼šå®‰å…¨é—®é¢˜æ˜¯ç›¸å¯¹çš„ï¼Œä¸»è¦ä½ åšåˆ°ä¸Šé¢å‡ ç‚¹ï¼Œå®‰å…¨é—®é¢˜è‡ªç„¶å¯¹ä½ å½±å“ä¸å¤§ã€‚\n\n# 4. å­˜å‚¨å†…å®¹å¤§å°\n\n1. æµè§ˆå™¨å¯¹cookieæ•°é‡å’Œcookieå­˜å‚¨å¤§å°æœ‰é™åˆ¶ï¼Œä¸‹é¢å¯¹ä¸åŒæµè§ˆå™¨cookieé™åˆ¶åšä¸€ä¸ªä»‹ç»\n| |IE6.0  |IE7.0/8.0  | Opera | Chrome | Safari\n|cookieä¸ªæ•°|æ¯ä¸ªåŸŸä¸º20ä¸ª|æ¯ä¸ªåŸŸä¸º50ä¸ª|æ¯ä¸ªåŸŸä¸º30ä¸ª|æ¯ä¸ªåŸŸä¸º53ä¸ª|æ²¡æœ‰ä¸ªæ•°é™åˆ¶|\n|cookieå¤§å°|4095ä¸ªå­—èŠ‚|\t4095ä¸ªå­—èŠ‚|4096ä¸ªå­—èŠ‚|4097ä¸ªå­—èŠ‚|4097ä¸ªå­—èŠ‚|\næ€»ä¹‹å¯¹é¡µé¢cookie æ“ä½œï¼Œå°½é‡æ•°é‡å°äº20æ€»å¤§å°å°äº4kbï¼Œè¿‡æœŸæ—¶é—´ä¸èƒ½è®¾ç½®è¿‡é•¿ï¼Œé¿å…å†…å®¹è¿‡å¤šå¯¼è‡´æµè§ˆå™¨è‡ªåŠ¨æ¸…é™¤å†…å®¹æŠŠä¸€äº›æœ‰ç”¨çš„å­—æ®µå¦‚ session ID å¯¼è‡´ç™»å½•æ€ä¸¢å¤±ï¼Œéœ€è¦é‡æ–°ç™»å½•\n\n2. session å­˜åœ¨æœåŠ¡å™¨ä¸­ï¼Œå¯¹å°äºæ²¡æœ‰å¾ˆä¸¥æ ¼çš„é™åˆ¶ï¼Œä½†æ˜¯ä¹Ÿä¸èƒ½å­˜æ”¾è¿‡å¤šçš„å†…å®¹ï¼Œä¸»è¦æ˜¯æœåŠ¡å™¨å†…å­˜æœ‰é™ä¸€æ—¦åˆ›å»ºè¿‡å¤šçš„å†…å®¹å æ®å¤§é‡çš„å†…å­˜ï¼Œä¼šå¯¼è‡´å†…å­˜ä¸è¶³ç­‰æƒ…å†µå‡ºç°ï¼Œå½±å“å…¶ä»–æ“ä½œã€‚\n\n# 5. æ€»ç»“\nsessionå’Œcookieåœ¨é¡¹ç›®ä¸­éœ€è¦ç»“åˆä½¿ç”¨ï¼Œäº†è§£å®ƒä»¬çš„åŒºåˆ«è¿›è€Œèƒ½æ›´å¥½çš„åˆ©ç”¨å®ƒä»¬\n\nå‚è€ƒæ–‡æ¡£ï¼š\n1. [Cookieä¸ªæ•°é™åˆ¶åŠå¤§å°](https://my.oschina.net/gaollg/blog/71299)\n2. [æ­£ç¡®ç†è§£ Session çš„å®‰å…¨æ€§](https://www.jianshu.com/p/c4b32eb24894)\n","slug":"cookie-å’Œ-session-çš„åŒºåˆ«","published":1,"updated":"2019-07-14T03:11:26.957Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkctu5000a4osxbkje9g54","content":"<p>ä»Šå¤©æˆ‘ä»¬æ¥è®²ä¸€ä¸‹ cookieå’Œ sessionçš„ä¸€äº›åŒºåˆ«ï¼Œä¸‹é¢é€šè¿‡å‡ ä¸ªæ–¹é¢æ¥è¯´æ˜å®ƒä»¬ä¹‹é—´çš„å·®å¼‚ï¼Ÿ</p>\n<h1 id=\"1-ä¸ºå•¥éœ€è¦sessionå’Œcookie\"><a href=\"#1-ä¸ºå•¥éœ€è¦sessionå’Œcookie\" class=\"headerlink\" title=\"1. ä¸ºå•¥éœ€è¦sessionå’Œcookie?\"></a>1. ä¸ºå•¥éœ€è¦sessionå’Œcookie?</h1><p>ç”±äºhttpæ˜¯æ— çŠ¶æ€çš„ï¼Œå¦‚æœéœ€è¦è¿½è¸ªç”¨æˆ·çš„è®°å½•ä¸»è¦å¼•å…¥session è¿½è¸ªç”¨æˆ·ï¼Œä¸€èˆ¬æˆ‘ä»¬å¸¸ç”¨session è®°å½•ç”¨æˆ·çš„ç™»å½•æ€ï¼Œå­˜æ”¾ç”¨æˆ·çš„ä¸€äº›ä¿¡æ¯ ä¸»è¦ç”¨äºç”¨æˆ·æµè§ˆå…¶ä»–é¡µé¢æ—¶å¯¹ç”¨æˆ·ç™»å½•æ€çš„åˆ¤æ–­ã€‚</p>\n<h1 id=\"2-å­˜åœ¨ä½ç½®\"><a href=\"#2-å­˜åœ¨ä½ç½®\" class=\"headerlink\" title=\"2. å­˜åœ¨ä½ç½®\"></a>2. å­˜åœ¨ä½ç½®</h1><p>cookie æ˜¯åŸºäºclientç«¯ è€Œ session åŸºäº serverç«¯</p>\n<h1 id=\"3-ç³»ç»Ÿå®‰å…¨æ€§\"><a href=\"#3-ç³»ç»Ÿå®‰å…¨æ€§\" class=\"headerlink\" title=\"3.ç³»ç»Ÿå®‰å…¨æ€§\"></a>3.ç³»ç»Ÿå®‰å…¨æ€§</h1><p>   ç”±äºåŸºäºclientï¼Œå­˜åœ¨æµè§ˆå™¨ä¸Šæ‰€ä»¥å¯èƒ½ä¼šå¯¼è‡´cookieè¢«çªƒå–å¯¼è‡´å¯†ç åˆ«æ³„éœ²ï¼Œå‡ºç°è¿™ç§åŸå› ä¸»è¦æ˜¯åœ¨å…¬ç”¨ç½‘ç»œä¸‹æ“ä½œæˆ–è€…ä¸€äº›ä¸å®‰å…¨çš„ç½‘ç»œã€‚å…¶å®è¿™ç§æƒ…å†µä¸‹cookieè¢«çªƒå–ä¹Ÿä¼šå¯¼è‡´sessionä¸å®‰å…¨ï¼Œå› ä¸ºä¸€èˆ¬æƒ…å†µä¸‹ï¼Œsession keyï¼ˆsession ID ç”¨äºæ ‡è¯†ç”¨æˆ·ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ session æœ‰æ•ˆæ—¶é—´æ˜¯30åˆ†é’Ÿå’Œå…³é—­æµè§ˆå™¨å¤±å»ç™»å½•æ€ï¼Œsession å¤±æ•ˆä¸»è¦åŸå› åœ¨äºsession id å¤±æ•ˆï¼Œé‡æ–°æ‰“å¼€æµè§ˆå™¨ä¼šé‡æ–°è·å–æ–°çš„session IDï¼‰ å­˜å‚¨åœ¨cookieä¸­ï¼Œä¼šå¯¼è‡´sessionä¸å®‰å…¨ï¼Œè¿˜æœ‰ä¸€ç§æƒ…å†µå°±æ˜¯å­˜æ”¾åœ¨URLä¸­ï¼Œè¿™ç§æ–¹å¼session ID ç›´æ¥æš´éœ²åœ¨URL æ›´ä¸å®‰å…¨ï¼Œå…¶å®å®‰å…¨è¿™é—®é¢˜éƒ½æ˜¯ç›¸å¯¹çš„ï¼Œä¸‹é¢æˆ‘ä»¬è®²ä¸€ä¸‹å¦‚ä½•ä½¿ç³»ç»Ÿå˜çš„å®‰å…¨</p>\n<ol>\n<li>ä¿æŠ¤å¥½è‡ªå·±çš„cookieï¼Œåœ¨éå®‰å…¨çš„ç½‘ç»œä¸‹ï¼Œç¦æ­¢å°†è´¦å·å¯†ç å­˜åœ¨cookieä¸­</li>\n<li>é€šè¿‡ç¨‹åºæ¥ä¿éšœå®‰å…¨ï¼Œsession è®°å½•ç”¨æˆ·ç™»å½•çš„æµè§ˆå™¨çš„ UA å¤´å’Œipåœ°å€ç­‰ä¿¡æ¯ï¼Œåœ¨ä¸€äº›æ•æ„Ÿæ“ä½œä¸‹éªŒè¯ç™»å½•æ—¶æµè§ˆå™¨çš„ UA å¤´å’Œipåœ°å€ç­‰ä¿¡æ¯ï¼Œåˆ¤æ–­æ˜¯å¦ä¸€è‡´æ¥ç¡®å®šå®‰å…¨ã€‚</li>\n<li>ç¨‹åºä¸­å°½é‡ä½¿ç”¨ä¸€äº›æ¡†æ¶æ¥ç®¡ç†å¥½sessionï¼Œå¯¹sessionåšä¸€ä¸ªç›‘æ§ï¼Œå®šæœŸæ¸…é™¤sessionä¿¡æ¯ã€‚</li>\n<li>ç¡®å®šçš„å…³é—­æ–¹å¼ï¼Œå½“ç”¨æˆ·é€€å‡ºç™»å½•æ—¶ï¼Œæ¸…é™¤cookie ä¸­çš„session ID ï¼Œsession å­˜å‚¨çš„å†…å®¹ç­‰ä¿¡æ¯ã€‚</li>\n<li>å°½é‡å°†ç½‘ç«™ä»httpå˜æˆhttpsï¼Œè¿™æ ·ä¼ è¾“ä¸­å¯ä»¥é¿å…cookieè¢«åŠ«æŒã€‚</li>\n<li>cookieçš„è¿‡æœŸæ—¶é—´ä¸èƒ½è®¾ç½®è¿‡é•¿ï¼Œcookieå’Œsession è¿‡æœŸæ—¶é—´å°½é‡è®¾ç½®ä¸€æ ·ï¼Œä¸€æ—¦cookieè¿‡æœŸäº† session ID ä¹Ÿè·Ÿç€è¿‡æœŸï¼Œä½†æ˜¯æœ‰ä¸€ç§æƒ…å†µï¼Œsessionå½“ç”¨æˆ·åˆ·æ–°é¡µé¢ï¼Œsession ä¼šä¸€ç›´ç»­æœŸã€‚è™½ç„¶å‰é¢è¯´çš„cookieè¿‡æœŸäº†ï¼Œå…¶å® session ID è¿˜æ²¡æœ‰è¿‡æœŸè¿™æ ·ä¹Ÿä¼šå¯¼è‡´é—®é¢˜å‡ºç°ã€‚<br>å°ç»“ï¼šå®‰å…¨é—®é¢˜æ˜¯ç›¸å¯¹çš„ï¼Œä¸»è¦ä½ åšåˆ°ä¸Šé¢å‡ ç‚¹ï¼Œå®‰å…¨é—®é¢˜è‡ªç„¶å¯¹ä½ å½±å“ä¸å¤§ã€‚</li>\n</ol>\n<h1 id=\"4-å­˜å‚¨å†…å®¹å¤§å°\"><a href=\"#4-å­˜å‚¨å†…å®¹å¤§å°\" class=\"headerlink\" title=\"4. å­˜å‚¨å†…å®¹å¤§å°\"></a>4. å­˜å‚¨å†…å®¹å¤§å°</h1><ol>\n<li><p>æµè§ˆå™¨å¯¹cookieæ•°é‡å’Œcookieå­˜å‚¨å¤§å°æœ‰é™åˆ¶ï¼Œä¸‹é¢å¯¹ä¸åŒæµè§ˆå™¨cookieé™åˆ¶åšä¸€ä¸ªä»‹ç»<br>| |IE6.0  |IE7.0/8.0  | Opera | Chrome | Safari<br>|cookieä¸ªæ•°|æ¯ä¸ªåŸŸä¸º20ä¸ª|æ¯ä¸ªåŸŸä¸º50ä¸ª|æ¯ä¸ªåŸŸä¸º30ä¸ª|æ¯ä¸ªåŸŸä¸º53ä¸ª|æ²¡æœ‰ä¸ªæ•°é™åˆ¶|<br>|cookieå¤§å°|4095ä¸ªå­—èŠ‚|    4095ä¸ªå­—èŠ‚|4096ä¸ªå­—èŠ‚|4097ä¸ªå­—èŠ‚|4097ä¸ªå­—èŠ‚|<br>æ€»ä¹‹å¯¹é¡µé¢cookie æ“ä½œï¼Œå°½é‡æ•°é‡å°äº20æ€»å¤§å°å°äº4kbï¼Œè¿‡æœŸæ—¶é—´ä¸èƒ½è®¾ç½®è¿‡é•¿ï¼Œé¿å…å†…å®¹è¿‡å¤šå¯¼è‡´æµè§ˆå™¨è‡ªåŠ¨æ¸…é™¤å†…å®¹æŠŠä¸€äº›æœ‰ç”¨çš„å­—æ®µå¦‚ session ID å¯¼è‡´ç™»å½•æ€ä¸¢å¤±ï¼Œéœ€è¦é‡æ–°ç™»å½•</p>\n</li>\n<li><p>session å­˜åœ¨æœåŠ¡å™¨ä¸­ï¼Œå¯¹å°äºæ²¡æœ‰å¾ˆä¸¥æ ¼çš„é™åˆ¶ï¼Œä½†æ˜¯ä¹Ÿä¸èƒ½å­˜æ”¾è¿‡å¤šçš„å†…å®¹ï¼Œä¸»è¦æ˜¯æœåŠ¡å™¨å†…å­˜æœ‰é™ä¸€æ—¦åˆ›å»ºè¿‡å¤šçš„å†…å®¹å æ®å¤§é‡çš„å†…å­˜ï¼Œä¼šå¯¼è‡´å†…å­˜ä¸è¶³ç­‰æƒ…å†µå‡ºç°ï¼Œå½±å“å…¶ä»–æ“ä½œã€‚</p>\n</li>\n</ol>\n<h1 id=\"5-æ€»ç»“\"><a href=\"#5-æ€»ç»“\" class=\"headerlink\" title=\"5. æ€»ç»“\"></a>5. æ€»ç»“</h1><p>sessionå’Œcookieåœ¨é¡¹ç›®ä¸­éœ€è¦ç»“åˆä½¿ç”¨ï¼Œäº†è§£å®ƒä»¬çš„åŒºåˆ«è¿›è€Œèƒ½æ›´å¥½çš„åˆ©ç”¨å®ƒä»¬</p>\n<p>å‚è€ƒæ–‡æ¡£ï¼š</p>\n<ol>\n<li><a href=\"https://my.oschina.net/gaollg/blog/71299\" target=\"_blank\" rel=\"noopener\">Cookieä¸ªæ•°é™åˆ¶åŠå¤§å°</a></li>\n<li><a href=\"https://www.jianshu.com/p/c4b32eb24894\" target=\"_blank\" rel=\"noopener\">æ­£ç¡®ç†è§£ Session çš„å®‰å…¨æ€§</a></li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<p>ä»Šå¤©æˆ‘ä»¬æ¥è®²ä¸€ä¸‹ cookieå’Œ sessionçš„ä¸€äº›åŒºåˆ«ï¼Œä¸‹é¢é€šè¿‡å‡ ä¸ªæ–¹é¢æ¥è¯´æ˜å®ƒä»¬ä¹‹é—´çš„å·®å¼‚ï¼Ÿ</p>\n<h1 id=\"1-ä¸ºå•¥éœ€è¦sessionå’Œcookie\"><a href=\"#1-ä¸ºå•¥éœ€è¦sessionå’Œcookie\" class=\"headerlink\" title=\"1. ä¸ºå•¥éœ€è¦sessionå’Œcookie?\"></a>1. ä¸ºå•¥éœ€è¦sessionå’Œcookie?</h1><p>ç”±äºhttpæ˜¯æ— çŠ¶æ€çš„ï¼Œå¦‚æœéœ€è¦è¿½è¸ªç”¨æˆ·çš„è®°å½•ä¸»è¦å¼•å…¥session è¿½è¸ªç”¨æˆ·ï¼Œä¸€èˆ¬æˆ‘ä»¬å¸¸ç”¨session è®°å½•ç”¨æˆ·çš„ç™»å½•æ€ï¼Œå­˜æ”¾ç”¨æˆ·çš„ä¸€äº›ä¿¡æ¯ ä¸»è¦ç”¨äºç”¨æˆ·æµè§ˆå…¶ä»–é¡µé¢æ—¶å¯¹ç”¨æˆ·ç™»å½•æ€çš„åˆ¤æ–­ã€‚</p>\n<h1 id=\"2-å­˜åœ¨ä½ç½®\"><a href=\"#2-å­˜åœ¨ä½ç½®\" class=\"headerlink\" title=\"2. å­˜åœ¨ä½ç½®\"></a>2. å­˜åœ¨ä½ç½®</h1><p>cookie æ˜¯åŸºäºclientç«¯ è€Œ session åŸºäº serverç«¯</p>\n<h1 id=\"3-ç³»ç»Ÿå®‰å…¨æ€§\"><a href=\"#3-ç³»ç»Ÿå®‰å…¨æ€§\" class=\"headerlink\" title=\"3.ç³»ç»Ÿå®‰å…¨æ€§\"></a>3.ç³»ç»Ÿå®‰å…¨æ€§</h1><p>   ç”±äºåŸºäºclientï¼Œå­˜åœ¨æµè§ˆå™¨ä¸Šæ‰€ä»¥å¯èƒ½ä¼šå¯¼è‡´cookieè¢«çªƒå–å¯¼è‡´å¯†ç åˆ«æ³„éœ²ï¼Œå‡ºç°è¿™ç§åŸå› ä¸»è¦æ˜¯åœ¨å…¬ç”¨ç½‘ç»œä¸‹æ“ä½œæˆ–è€…ä¸€äº›ä¸å®‰å…¨çš„ç½‘ç»œã€‚å…¶å®è¿™ç§æƒ…å†µä¸‹cookieè¢«çªƒå–ä¹Ÿä¼šå¯¼è‡´sessionä¸å®‰å…¨ï¼Œå› ä¸ºä¸€èˆ¬æƒ…å†µä¸‹ï¼Œsession keyï¼ˆsession ID ç”¨äºæ ‡è¯†ç”¨æˆ·ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ session æœ‰æ•ˆæ—¶é—´æ˜¯30åˆ†é’Ÿå’Œå…³é—­æµè§ˆå™¨å¤±å»ç™»å½•æ€ï¼Œsession å¤±æ•ˆä¸»è¦åŸå› åœ¨äºsession id å¤±æ•ˆï¼Œé‡æ–°æ‰“å¼€æµè§ˆå™¨ä¼šé‡æ–°è·å–æ–°çš„session IDï¼‰ å­˜å‚¨åœ¨cookieä¸­ï¼Œä¼šå¯¼è‡´sessionä¸å®‰å…¨ï¼Œè¿˜æœ‰ä¸€ç§æƒ…å†µå°±æ˜¯å­˜æ”¾åœ¨URLä¸­ï¼Œè¿™ç§æ–¹å¼session ID ç›´æ¥æš´éœ²åœ¨URL æ›´ä¸å®‰å…¨ï¼Œå…¶å®å®‰å…¨è¿™é—®é¢˜éƒ½æ˜¯ç›¸å¯¹çš„ï¼Œä¸‹é¢æˆ‘ä»¬è®²ä¸€ä¸‹å¦‚ä½•ä½¿ç³»ç»Ÿå˜çš„å®‰å…¨</p>\n<ol>\n<li>ä¿æŠ¤å¥½è‡ªå·±çš„cookieï¼Œåœ¨éå®‰å…¨çš„ç½‘ç»œä¸‹ï¼Œç¦æ­¢å°†è´¦å·å¯†ç å­˜åœ¨cookieä¸­</li>\n<li>é€šè¿‡ç¨‹åºæ¥ä¿éšœå®‰å…¨ï¼Œsession è®°å½•ç”¨æˆ·ç™»å½•çš„æµè§ˆå™¨çš„ UA å¤´å’Œipåœ°å€ç­‰ä¿¡æ¯ï¼Œåœ¨ä¸€äº›æ•æ„Ÿæ“ä½œä¸‹éªŒè¯ç™»å½•æ—¶æµè§ˆå™¨çš„ UA å¤´å’Œipåœ°å€ç­‰ä¿¡æ¯ï¼Œåˆ¤æ–­æ˜¯å¦ä¸€è‡´æ¥ç¡®å®šå®‰å…¨ã€‚</li>\n<li>ç¨‹åºä¸­å°½é‡ä½¿ç”¨ä¸€äº›æ¡†æ¶æ¥ç®¡ç†å¥½sessionï¼Œå¯¹sessionåšä¸€ä¸ªç›‘æ§ï¼Œå®šæœŸæ¸…é™¤sessionä¿¡æ¯ã€‚</li>\n<li>ç¡®å®šçš„å…³é—­æ–¹å¼ï¼Œå½“ç”¨æˆ·é€€å‡ºç™»å½•æ—¶ï¼Œæ¸…é™¤cookie ä¸­çš„session ID ï¼Œsession å­˜å‚¨çš„å†…å®¹ç­‰ä¿¡æ¯ã€‚</li>\n<li>å°½é‡å°†ç½‘ç«™ä»httpå˜æˆhttpsï¼Œè¿™æ ·ä¼ è¾“ä¸­å¯ä»¥é¿å…cookieè¢«åŠ«æŒã€‚</li>\n<li>cookieçš„è¿‡æœŸæ—¶é—´ä¸èƒ½è®¾ç½®è¿‡é•¿ï¼Œcookieå’Œsession è¿‡æœŸæ—¶é—´å°½é‡è®¾ç½®ä¸€æ ·ï¼Œä¸€æ—¦cookieè¿‡æœŸäº† session ID ä¹Ÿè·Ÿç€è¿‡æœŸï¼Œä½†æ˜¯æœ‰ä¸€ç§æƒ…å†µï¼Œsessionå½“ç”¨æˆ·åˆ·æ–°é¡µé¢ï¼Œsession ä¼šä¸€ç›´ç»­æœŸã€‚è™½ç„¶å‰é¢è¯´çš„cookieè¿‡æœŸäº†ï¼Œå…¶å® session ID è¿˜æ²¡æœ‰è¿‡æœŸè¿™æ ·ä¹Ÿä¼šå¯¼è‡´é—®é¢˜å‡ºç°ã€‚<br>å°ç»“ï¼šå®‰å…¨é—®é¢˜æ˜¯ç›¸å¯¹çš„ï¼Œä¸»è¦ä½ åšåˆ°ä¸Šé¢å‡ ç‚¹ï¼Œå®‰å…¨é—®é¢˜è‡ªç„¶å¯¹ä½ å½±å“ä¸å¤§ã€‚</li>\n</ol>\n<h1 id=\"4-å­˜å‚¨å†…å®¹å¤§å°\"><a href=\"#4-å­˜å‚¨å†…å®¹å¤§å°\" class=\"headerlink\" title=\"4. å­˜å‚¨å†…å®¹å¤§å°\"></a>4. å­˜å‚¨å†…å®¹å¤§å°</h1><ol>\n<li><p>æµè§ˆå™¨å¯¹cookieæ•°é‡å’Œcookieå­˜å‚¨å¤§å°æœ‰é™åˆ¶ï¼Œä¸‹é¢å¯¹ä¸åŒæµè§ˆå™¨cookieé™åˆ¶åšä¸€ä¸ªä»‹ç»<br>| |IE6.0  |IE7.0/8.0  | Opera | Chrome | Safari<br>|cookieä¸ªæ•°|æ¯ä¸ªåŸŸä¸º20ä¸ª|æ¯ä¸ªåŸŸä¸º50ä¸ª|æ¯ä¸ªåŸŸä¸º30ä¸ª|æ¯ä¸ªåŸŸä¸º53ä¸ª|æ²¡æœ‰ä¸ªæ•°é™åˆ¶|<br>|cookieå¤§å°|4095ä¸ªå­—èŠ‚|    4095ä¸ªå­—èŠ‚|4096ä¸ªå­—èŠ‚|4097ä¸ªå­—èŠ‚|4097ä¸ªå­—èŠ‚|<br>æ€»ä¹‹å¯¹é¡µé¢cookie æ“ä½œï¼Œå°½é‡æ•°é‡å°äº20æ€»å¤§å°å°äº4kbï¼Œè¿‡æœŸæ—¶é—´ä¸èƒ½è®¾ç½®è¿‡é•¿ï¼Œé¿å…å†…å®¹è¿‡å¤šå¯¼è‡´æµè§ˆå™¨è‡ªåŠ¨æ¸…é™¤å†…å®¹æŠŠä¸€äº›æœ‰ç”¨çš„å­—æ®µå¦‚ session ID å¯¼è‡´ç™»å½•æ€ä¸¢å¤±ï¼Œéœ€è¦é‡æ–°ç™»å½•</p>\n</li>\n<li><p>session å­˜åœ¨æœåŠ¡å™¨ä¸­ï¼Œå¯¹å°äºæ²¡æœ‰å¾ˆä¸¥æ ¼çš„é™åˆ¶ï¼Œä½†æ˜¯ä¹Ÿä¸èƒ½å­˜æ”¾è¿‡å¤šçš„å†…å®¹ï¼Œä¸»è¦æ˜¯æœåŠ¡å™¨å†…å­˜æœ‰é™ä¸€æ—¦åˆ›å»ºè¿‡å¤šçš„å†…å®¹å æ®å¤§é‡çš„å†…å­˜ï¼Œä¼šå¯¼è‡´å†…å­˜ä¸è¶³ç­‰æƒ…å†µå‡ºç°ï¼Œå½±å“å…¶ä»–æ“ä½œã€‚</p>\n</li>\n</ol>\n<h1 id=\"5-æ€»ç»“\"><a href=\"#5-æ€»ç»“\" class=\"headerlink\" title=\"5. æ€»ç»“\"></a>5. æ€»ç»“</h1><p>sessionå’Œcookieåœ¨é¡¹ç›®ä¸­éœ€è¦ç»“åˆä½¿ç”¨ï¼Œäº†è§£å®ƒä»¬çš„åŒºåˆ«è¿›è€Œèƒ½æ›´å¥½çš„åˆ©ç”¨å®ƒä»¬</p>\n<p>å‚è€ƒæ–‡æ¡£ï¼š</p>\n<ol>\n<li><a href=\"https://my.oschina.net/gaollg/blog/71299\" target=\"_blank\" rel=\"noopener\">Cookieä¸ªæ•°é™åˆ¶åŠå¤§å°</a></li>\n<li><a href=\"https://www.jianshu.com/p/c4b32eb24894\" target=\"_blank\" rel=\"noopener\">æ­£ç¡®ç†è§£ Session çš„å®‰å…¨æ€§</a></li>\n</ol>\n"},{"title":"dubbo å­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰","date":"2019-03-21T07:38:18.000Z","_content":"\n# 1. dubboèƒŒæ™¯\n\néšç€å› ç‰¹ç½‘çš„å¿«é€Ÿå‘å±•ï¼Œweb åº”ç”¨çš„è§„æ¨¡å†ä¸æ–­çš„æ‰©å¤§ï¼Œæœ€åï¼Œæˆ‘ä»¬å‘ç°ä¼ ç»Ÿçš„å•æœºæ¨¡å¼å·²ç»ä¸èƒ½æ»¡è¶³è¿™ç§çŠ¶å†µäº†ï¼Œæ‰€ä»¥åˆ†å¸ƒå¼æœåŠ¡æ¶æ„å’Œæµé‡è®¡ç®—æ¶æ„åŠ¿åœ¨å¿…è¡Œï¼Œè¿«åˆ‡éœ€è¦ä¸€ä¸ªæ²»ç†ç³»ç»Ÿæ¥ç¡®ä¿æ¶æ„çš„æœ‰åºæ¼”è¿›ã€‚\n\n![](https://img.mupaie.com/1553154620.jpg)\n\n* Monolithic architecture\n\nå½“æµé‡æ¯”è¾ƒå°‘çš„æ—¶å€™ï¼ŒæŠŠæ‰€æœ‰çš„åŠŸèƒ½ç‚¹éƒ½èšé›†åˆ°å•ä¸ªç¨‹åºä¸Šå‡å°‘éƒ¨ç½²çš„èŠ‚ç‚¹å’Œæˆæœ¬ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæ•°æ®è®¿é—®æ¡†æ¶ï¼ˆORMï¼‰æˆäº†ç®€åŒ–CRUDå·¥ä½œè´Ÿè½½çš„å…³é”®ã€‚\n\n* Vertical architecture\n\nå½“æµé‡å¼€å§‹å¢å¤šçš„æ—¶å€™ï¼Œä¸Šè¿°çš„å•æœºåº”ç”¨å®ä¾‹ä¸èƒ½å¾ˆå¥½çš„åŠ é€Ÿè®¿é—®é‡éš¾é¢˜ï¼Œæœ‰ä¸€ç§æ–¹æ³•ä¸ºäº†æé«˜æ•ˆç‡å¯ä»¥å°†å•ç‰‡åˆ†å‰²æˆç¦»æ•£çš„åº”ç”¨ã€‚æ­¤æ—¶ï¼Œwebæ¡†æ¶ï¼ˆmvcï¼‰æˆä¸ºäº†åŠ é€Ÿå‰ç«¯é¡µé¢å¼€å‘çš„å…³é”®ã€‚\n\n* Distributed service architecture\n\nå½“ä¸Šè¿°çš„å‚ç›´åº”ç”¨è¶Šæ¥è¶Šå¤šçš„æ—¶å€™ï¼Œåº”ç”¨ä¹‹é—´å¿…ç„¶ä¼šæœ‰ä¸€äº›æ˜¯ç›¸äº’è”ç³»çš„ã€‚ä¸€äº›æ ¸å¿ƒä¸šåŠ¡ä»£ç æ‹†æˆå•ç‹¬çš„æœåŠ¡ï¼Œè¿™äº›æœåŠ¡é€æ­¥å½¢æˆç¨³å®šçš„æœåŠ¡ä¸­å¿ƒï¼Œè¿™ç§æ–¹æ³•å‰ç«¯ç¨‹åºèƒ½å¤Ÿæ›´å¿«äº†åº”å¯¹éœ€æ±‚çš„å˜åŒ–ã€‚æ­¤æ—¶ï¼Œåˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶ï¼ˆRPCï¼‰èƒ½å¤Ÿæ›´å¥½çš„è§£å†³ä¸šåŠ¡çš„é›†æˆå’Œé‡ç”¨\n\n* Flow computing architecture\n\n\n\n\n\n\n\n# 2. dubboå®ç°åŸç†\n","source":"_posts/dubbo-å­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰.md","raw":"---\ntitle: dubbo å­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰\ndate: 2019-03-21 15:38:18\ntags:\n  - dubbo\n---\n\n# 1. dubboèƒŒæ™¯\n\néšç€å› ç‰¹ç½‘çš„å¿«é€Ÿå‘å±•ï¼Œweb åº”ç”¨çš„è§„æ¨¡å†ä¸æ–­çš„æ‰©å¤§ï¼Œæœ€åï¼Œæˆ‘ä»¬å‘ç°ä¼ ç»Ÿçš„å•æœºæ¨¡å¼å·²ç»ä¸èƒ½æ»¡è¶³è¿™ç§çŠ¶å†µäº†ï¼Œæ‰€ä»¥åˆ†å¸ƒå¼æœåŠ¡æ¶æ„å’Œæµé‡è®¡ç®—æ¶æ„åŠ¿åœ¨å¿…è¡Œï¼Œè¿«åˆ‡éœ€è¦ä¸€ä¸ªæ²»ç†ç³»ç»Ÿæ¥ç¡®ä¿æ¶æ„çš„æœ‰åºæ¼”è¿›ã€‚\n\n![](https://img.mupaie.com/1553154620.jpg)\n\n* Monolithic architecture\n\nå½“æµé‡æ¯”è¾ƒå°‘çš„æ—¶å€™ï¼ŒæŠŠæ‰€æœ‰çš„åŠŸèƒ½ç‚¹éƒ½èšé›†åˆ°å•ä¸ªç¨‹åºä¸Šå‡å°‘éƒ¨ç½²çš„èŠ‚ç‚¹å’Œæˆæœ¬ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæ•°æ®è®¿é—®æ¡†æ¶ï¼ˆORMï¼‰æˆäº†ç®€åŒ–CRUDå·¥ä½œè´Ÿè½½çš„å…³é”®ã€‚\n\n* Vertical architecture\n\nå½“æµé‡å¼€å§‹å¢å¤šçš„æ—¶å€™ï¼Œä¸Šè¿°çš„å•æœºåº”ç”¨å®ä¾‹ä¸èƒ½å¾ˆå¥½çš„åŠ é€Ÿè®¿é—®é‡éš¾é¢˜ï¼Œæœ‰ä¸€ç§æ–¹æ³•ä¸ºäº†æé«˜æ•ˆç‡å¯ä»¥å°†å•ç‰‡åˆ†å‰²æˆç¦»æ•£çš„åº”ç”¨ã€‚æ­¤æ—¶ï¼Œwebæ¡†æ¶ï¼ˆmvcï¼‰æˆä¸ºäº†åŠ é€Ÿå‰ç«¯é¡µé¢å¼€å‘çš„å…³é”®ã€‚\n\n* Distributed service architecture\n\nå½“ä¸Šè¿°çš„å‚ç›´åº”ç”¨è¶Šæ¥è¶Šå¤šçš„æ—¶å€™ï¼Œåº”ç”¨ä¹‹é—´å¿…ç„¶ä¼šæœ‰ä¸€äº›æ˜¯ç›¸äº’è”ç³»çš„ã€‚ä¸€äº›æ ¸å¿ƒä¸šåŠ¡ä»£ç æ‹†æˆå•ç‹¬çš„æœåŠ¡ï¼Œè¿™äº›æœåŠ¡é€æ­¥å½¢æˆç¨³å®šçš„æœåŠ¡ä¸­å¿ƒï¼Œè¿™ç§æ–¹æ³•å‰ç«¯ç¨‹åºèƒ½å¤Ÿæ›´å¿«äº†åº”å¯¹éœ€æ±‚çš„å˜åŒ–ã€‚æ­¤æ—¶ï¼Œåˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶ï¼ˆRPCï¼‰èƒ½å¤Ÿæ›´å¥½çš„è§£å†³ä¸šåŠ¡çš„é›†æˆå’Œé‡ç”¨\n\n* Flow computing architecture\n\n\n\n\n\n\n\n# 2. dubboå®ç°åŸç†\n","slug":"dubbo-å­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰","published":1,"updated":"2019-07-14T04:16:44.408Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkctu7000d4osx99yl6bdt","content":"<h1 id=\"1-dubboèƒŒæ™¯\"><a href=\"#1-dubboèƒŒæ™¯\" class=\"headerlink\" title=\"1. dubboèƒŒæ™¯\"></a>1. dubboèƒŒæ™¯</h1><p>éšç€å› ç‰¹ç½‘çš„å¿«é€Ÿå‘å±•ï¼Œweb åº”ç”¨çš„è§„æ¨¡å†ä¸æ–­çš„æ‰©å¤§ï¼Œæœ€åï¼Œæˆ‘ä»¬å‘ç°ä¼ ç»Ÿçš„å•æœºæ¨¡å¼å·²ç»ä¸èƒ½æ»¡è¶³è¿™ç§çŠ¶å†µäº†ï¼Œæ‰€ä»¥åˆ†å¸ƒå¼æœåŠ¡æ¶æ„å’Œæµé‡è®¡ç®—æ¶æ„åŠ¿åœ¨å¿…è¡Œï¼Œè¿«åˆ‡éœ€è¦ä¸€ä¸ªæ²»ç†ç³»ç»Ÿæ¥ç¡®ä¿æ¶æ„çš„æœ‰åºæ¼”è¿›ã€‚</p>\n<p><img src=\"https://img.mupaie.com/1553154620.jpg\" alt=\"\"></p>\n<ul>\n<li>Monolithic architecture</li>\n</ul>\n<p>å½“æµé‡æ¯”è¾ƒå°‘çš„æ—¶å€™ï¼ŒæŠŠæ‰€æœ‰çš„åŠŸèƒ½ç‚¹éƒ½èšé›†åˆ°å•ä¸ªç¨‹åºä¸Šå‡å°‘éƒ¨ç½²çš„èŠ‚ç‚¹å’Œæˆæœ¬ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæ•°æ®è®¿é—®æ¡†æ¶ï¼ˆORMï¼‰æˆäº†ç®€åŒ–CRUDå·¥ä½œè´Ÿè½½çš„å…³é”®ã€‚</p>\n<ul>\n<li>Vertical architecture</li>\n</ul>\n<p>å½“æµé‡å¼€å§‹å¢å¤šçš„æ—¶å€™ï¼Œä¸Šè¿°çš„å•æœºåº”ç”¨å®ä¾‹ä¸èƒ½å¾ˆå¥½çš„åŠ é€Ÿè®¿é—®é‡éš¾é¢˜ï¼Œæœ‰ä¸€ç§æ–¹æ³•ä¸ºäº†æé«˜æ•ˆç‡å¯ä»¥å°†å•ç‰‡åˆ†å‰²æˆç¦»æ•£çš„åº”ç”¨ã€‚æ­¤æ—¶ï¼Œwebæ¡†æ¶ï¼ˆmvcï¼‰æˆä¸ºäº†åŠ é€Ÿå‰ç«¯é¡µé¢å¼€å‘çš„å…³é”®ã€‚</p>\n<ul>\n<li>Distributed service architecture</li>\n</ul>\n<p>å½“ä¸Šè¿°çš„å‚ç›´åº”ç”¨è¶Šæ¥è¶Šå¤šçš„æ—¶å€™ï¼Œåº”ç”¨ä¹‹é—´å¿…ç„¶ä¼šæœ‰ä¸€äº›æ˜¯ç›¸äº’è”ç³»çš„ã€‚ä¸€äº›æ ¸å¿ƒä¸šåŠ¡ä»£ç æ‹†æˆå•ç‹¬çš„æœåŠ¡ï¼Œè¿™äº›æœåŠ¡é€æ­¥å½¢æˆç¨³å®šçš„æœåŠ¡ä¸­å¿ƒï¼Œè¿™ç§æ–¹æ³•å‰ç«¯ç¨‹åºèƒ½å¤Ÿæ›´å¿«äº†åº”å¯¹éœ€æ±‚çš„å˜åŒ–ã€‚æ­¤æ—¶ï¼Œåˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶ï¼ˆRPCï¼‰èƒ½å¤Ÿæ›´å¥½çš„è§£å†³ä¸šåŠ¡çš„é›†æˆå’Œé‡ç”¨</p>\n<ul>\n<li>Flow computing architecture</li>\n</ul>\n<h1 id=\"2-dubboå®ç°åŸç†\"><a href=\"#2-dubboå®ç°åŸç†\" class=\"headerlink\" title=\"2. dubboå®ç°åŸç†\"></a>2. dubboå®ç°åŸç†</h1>","site":{"data":{}},"excerpt":"","more":"<h1 id=\"1-dubboèƒŒæ™¯\"><a href=\"#1-dubboèƒŒæ™¯\" class=\"headerlink\" title=\"1. dubboèƒŒæ™¯\"></a>1. dubboèƒŒæ™¯</h1><p>éšç€å› ç‰¹ç½‘çš„å¿«é€Ÿå‘å±•ï¼Œweb åº”ç”¨çš„è§„æ¨¡å†ä¸æ–­çš„æ‰©å¤§ï¼Œæœ€åï¼Œæˆ‘ä»¬å‘ç°ä¼ ç»Ÿçš„å•æœºæ¨¡å¼å·²ç»ä¸èƒ½æ»¡è¶³è¿™ç§çŠ¶å†µäº†ï¼Œæ‰€ä»¥åˆ†å¸ƒå¼æœåŠ¡æ¶æ„å’Œæµé‡è®¡ç®—æ¶æ„åŠ¿åœ¨å¿…è¡Œï¼Œè¿«åˆ‡éœ€è¦ä¸€ä¸ªæ²»ç†ç³»ç»Ÿæ¥ç¡®ä¿æ¶æ„çš„æœ‰åºæ¼”è¿›ã€‚</p>\n<p><img src=\"https://img.mupaie.com/1553154620.jpg\" alt=\"\"></p>\n<ul>\n<li>Monolithic architecture</li>\n</ul>\n<p>å½“æµé‡æ¯”è¾ƒå°‘çš„æ—¶å€™ï¼ŒæŠŠæ‰€æœ‰çš„åŠŸèƒ½ç‚¹éƒ½èšé›†åˆ°å•ä¸ªç¨‹åºä¸Šå‡å°‘éƒ¨ç½²çš„èŠ‚ç‚¹å’Œæˆæœ¬ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæ•°æ®è®¿é—®æ¡†æ¶ï¼ˆORMï¼‰æˆäº†ç®€åŒ–CRUDå·¥ä½œè´Ÿè½½çš„å…³é”®ã€‚</p>\n<ul>\n<li>Vertical architecture</li>\n</ul>\n<p>å½“æµé‡å¼€å§‹å¢å¤šçš„æ—¶å€™ï¼Œä¸Šè¿°çš„å•æœºåº”ç”¨å®ä¾‹ä¸èƒ½å¾ˆå¥½çš„åŠ é€Ÿè®¿é—®é‡éš¾é¢˜ï¼Œæœ‰ä¸€ç§æ–¹æ³•ä¸ºäº†æé«˜æ•ˆç‡å¯ä»¥å°†å•ç‰‡åˆ†å‰²æˆç¦»æ•£çš„åº”ç”¨ã€‚æ­¤æ—¶ï¼Œwebæ¡†æ¶ï¼ˆmvcï¼‰æˆä¸ºäº†åŠ é€Ÿå‰ç«¯é¡µé¢å¼€å‘çš„å…³é”®ã€‚</p>\n<ul>\n<li>Distributed service architecture</li>\n</ul>\n<p>å½“ä¸Šè¿°çš„å‚ç›´åº”ç”¨è¶Šæ¥è¶Šå¤šçš„æ—¶å€™ï¼Œåº”ç”¨ä¹‹é—´å¿…ç„¶ä¼šæœ‰ä¸€äº›æ˜¯ç›¸äº’è”ç³»çš„ã€‚ä¸€äº›æ ¸å¿ƒä¸šåŠ¡ä»£ç æ‹†æˆå•ç‹¬çš„æœåŠ¡ï¼Œè¿™äº›æœåŠ¡é€æ­¥å½¢æˆç¨³å®šçš„æœåŠ¡ä¸­å¿ƒï¼Œè¿™ç§æ–¹æ³•å‰ç«¯ç¨‹åºèƒ½å¤Ÿæ›´å¿«äº†åº”å¯¹éœ€æ±‚çš„å˜åŒ–ã€‚æ­¤æ—¶ï¼Œåˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶ï¼ˆRPCï¼‰èƒ½å¤Ÿæ›´å¥½çš„è§£å†³ä¸šåŠ¡çš„é›†æˆå’Œé‡ç”¨</p>\n<ul>\n<li>Flow computing architecture</li>\n</ul>\n<h1 id=\"2-dubboå®ç°åŸç†\"><a href=\"#2-dubboå®ç°åŸç†\" class=\"headerlink\" title=\"2. dubboå®ç°åŸç†\"></a>2. dubboå®ç°åŸç†</h1>"},{"title":"markdownçš„ä½¿ç”¨ç¬”è®°","date":"2019-02-26T03:28:10.000Z","_content":"ç”±äºæœ€è¿‘å†™åšå®¢éœ€è¦ï¼Œäº†è§£åˆ°ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€-markdownã€‚ä¸‹é¢æ¥è¯´ä¸€ä¸‹å…³äºä¸€äº›markdownçš„çŸ¥è¯†ï¼š\n# 1. markdownæ˜¯ä»€ä¹ˆï¼Ÿ\nMarkdownæ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œåˆ›å§‹äººä¸ºçº¦ç¿°Â·æ ¼é²ä¼¯ï¼ˆè‹±è¯­ï¼šJohn Gruberï¼‰ã€‚å®ƒå…è®¸äººä»¬â€œä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ï¼Œç„¶åè½¬æ¢æˆæœ‰æ•ˆçš„XHTMLï¼ˆæˆ–è€…HTMLï¼‰æ–‡æ¡£â€ã€‚è¿™ç§è¯­è¨€å¸æ”¶äº†å¾ˆå¤šåœ¨ç”µå­é‚®ä»¶ä¸­å·²æœ‰çš„çº¯æ–‡æœ¬æ ‡è®°çš„ç‰¹æ€§ã€‚\n# 2. markdownçš„å†å²å‘å±•ï¼Ÿ\nJohn Gruber åœ¨ 2004 å¹´åˆ›é€ äº† Markdown è¯­è¨€ï¼Œåœ¨è¯­æ³•ä¸Šæœ‰å¾ˆå¤§ä¸€éƒ¨åˆ†æ˜¯è·Ÿäºšä¼¦Â·æ–¯æ²ƒèŒ¨ï¼ˆAaron Swartzï¼‰å…±åŒåˆä½œçš„ã€‚è¿™ä¸ªè¯­è¨€çš„ç›®çš„æ˜¯å¸Œæœ›å¤§å®¶ä½¿ç”¨â€œæ˜“äºé˜…è¯»ã€æ˜“äºæ’°å†™çš„çº¯æ–‡å­—æ ¼å¼ï¼Œå¹¶é€‰æ‹©æ€§çš„è½¬æ¢æˆæœ‰æ•ˆçš„XHTMLï¼ˆæˆ–æ˜¯HTMLï¼‰â€ã€‚ å…¶ä¸­æœ€é‡è¦çš„è®¾è®¡æ˜¯å¯è¯»æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªè¯­è¨€åº”è¯¥è¦èƒ½ç›´æ¥åœ¨å­—é¢ä¸Šçš„è¢«é˜…è¯»ï¼Œè€Œä¸ç”¨è¢«ä¸€äº›æ ¼å¼åŒ–æŒ‡ä»¤æ ‡è®°ï¼ˆåƒæ˜¯RTFä¸HTMLï¼‰ã€‚ å› æ­¤ï¼Œå®ƒæ˜¯ç°è¡Œç”µå­é‚®ä»¶æ ‡è®°æ ¼å¼çš„æƒ¯ä¾‹ï¼Œè™½ç„¶å®ƒä¹Ÿå€Ÿé‰´äº†å¾ˆå¤šæ—©æœŸçš„æ ‡è®°è¯­è¨€ï¼Œå¦‚ï¼šSetextã€Texileã€reStructuredTextã€‚Gruberä¹Ÿç¼–å†™äº†çš„Perlè„šæœ¬ï¼šMarkdown.plï¼Œç”¨äºæŠŠmarkdownè¯­æ³•ç¼–å†™çš„å†…å®¹è½¬æ¢æˆæœ‰æ•ˆçš„ã€ç»“æ„è‰¯å¥½çš„XHTMLæˆ–HTMLå†…å®¹ï¼Œå¹¶å°†å·¦å°–æ‹¬å·<å’Œ&å·æ›¿æ¢æˆå®ƒä»¬å„è‡ªçš„å­—ç¬¦å®ä½“å¼•ç”¨ã€‚å®ƒå¯ä»¥ç”¨ä½œå•ç‹¬çš„è„šæœ¬ï¼ŒBlosxomå’ŒMovable Typeçš„æ’ä»¶åˆæˆ–è€…BBEditçš„æ–‡æœ¬è¿‡æ»¤å™¨ã€‚Markdownä¹Ÿå·²ç»è¢«å…¶ä»–äººç”¨Perlå’Œåˆ«çš„ç¼–ç¨‹è¯­è¨€é‡æ–°å®ç°ï¼Œå…¶ä¸­ä¸€ä¸ªPerlæ¨¡å—æ”¾åœ¨äº†CPAN(Text::Markdown)ä¸Šã€‚å®ƒåŸºäºä¸€ä¸ªBSDé£æ ¼çš„è®¸å¯è¯åˆ†å‘å¹¶å¯ä»¥ä½œä¸ºå‡ ä¸ªå†…å®¹ç®¡ç†ç³»ç»Ÿçš„æ’ä»¶ã€‚\n# 3. markdownèƒ½ç”¨æ¥åšä»€ä¹ˆï¼Ÿ\nç”±äºMarkdownçš„è½»é‡åŒ–ã€æ˜“è¯»æ˜“å†™ç‰¹æ€§ï¼Œå¹¶ä¸”å¯¹äºå›¾ç‰‡ï¼Œå›¾è¡¨ã€æ•°å­¦å¼éƒ½æœ‰æ”¯æŒï¼Œå½“å‰è®¸å¤šç½‘ç«™éƒ½å¹¿æ³›ä½¿ç”¨ Markdown æ¥æ’°å†™å¸®åŠ©æ–‡æ¡£æˆ–æ˜¯ç”¨äºè®ºå›ä¸Šå‘è¡¨æ¶ˆæ¯ã€‚ä¾‹å¦‚ï¼šGitHubã€redditã€Diasporaã€Stack Exchangeã€OpenStreetMap ã€SourceForgeç­‰ã€‚ç”šè‡³Markdownèƒ½è¢«ä½¿ç”¨æ¥æ’°å†™ç”µå­ä¹¦ã€‚\n# 4. markdownçš„ä¸€äº›è¯­æ³•å’Œå¹³æ—¶ä¹¦å†™çš„æ³¨æ„ç‚¹ï¼Ÿ\n# 4.1. æ ‡é¢˜\nä¹¦å†™æ ‡é¢˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨æ–‡æœ¬å‰é¢åŠ ä¸Šã€# ã€å³å¯åˆ›å»ºä¸€çº§æ ‡é¢˜ï¼Œå¦‚æœæƒ³åˆ›å»ºäºŒçº§ï¼Œä¸‰çº§ï¼Œæˆ–è€…æ›´å¤šåªéœ€è¦å¢åŠ ã€# ã€çš„ä¸ªæ•°å³å¯ã€‚ä¸‹é¢å±•ç¤ºä¸€ä¸‹æ•ˆæœï¼š\n\t\t# ä¸€çº§æ ‡é¢˜\n\t\t## äºŒçº§æ ‡é¢˜\n\t\t### ä¸‰çº§æ ‡é¢˜\n\t\t#### å››çº§æ ‡é¢˜\n\t\t##### äº”çº§æ ‡é¢˜\n\t\t###### å…­çº§æ ‡é¢˜\næ•ˆæœå¦‚ä¸‹å›¾ï¼š\n![](https://img.mupaie.com/20190226100452277.png)\n# 4.2. å¼•ç”¨\n\nåœ¨éœ€è¦çš„æ•´ä¸ªæ®µè½ç¬¬ä¸€è¡Œæœ€å‰é¢åŠ ä¸Šã€>ã€å³å¯ï¼š\n\t>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯\n\tæ•ˆæœå¦‚ä¸‹å›¾ï¼š\n\t![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190226101026545.png)\nåŒºå—å¼•ç”¨è¿˜å¯ä»¥åµŒå¥—ä½¿ç”¨\n\t>  åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯\n\t>  > åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯\n\t>  > > åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯\n\t![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190226101213185.png)\n\tä¸ä»…å¯ä»¥åµŒå¥—ä½¿ç”¨ï¼Œè¿˜å¯ä»¥å†å¼•ç”¨ä¸­åŠ å…¥æ ‡é¢˜ï¼Œåˆ—è¡¨ç­‰å…ƒç´ ï¼š\n\t>  ## åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯\n\t>  > 1. åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯\n\t>  > 2.  åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯\n\tæ•ˆæœå¦‚ä¸‹å›¾ï¼š\n\t![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190226101413977.png)\n# 4.3. åˆ—è¡¨\nåˆ—è¡¨åœ¨httpä¸­æœ‰æ— åºå’Œæœ‰åºåˆ—è¡¨ï¼Œmarkdownä¹Ÿæœ‰å¦‚ä¸‹ï¼š\n __æ— åºåˆ—è¡¨__ :ä½¿ç”¨æ˜Ÿå· ã€åŠ å·æˆ–æ˜¯å‡å·æ¥ä½œä¸ºæ ‡è®°\n\t- test\n\t- test\n\t- test\næ•ˆæœå¦‚ä¸‹å›¾ï¼š\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190226102026437.png)\næœ‰åºåˆ—è¡¨åˆ™æ˜¯åœ¨æ–‡æœ¬å‰é¢åŠ ä¸Šæ•°å­—å’Œå°æ•°ç‚¹\n\t1. test\n\t2. test\n\t3. test\næ•ˆæœå¦‚ä¸‹å›¾ï¼š\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190226102236789.png)\nåœ¨åˆ—è¡¨ä¸­å¦‚ä½•ä½¿ç”¨å¼•ç”¨ï¼Ÿ\n\t*  åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯\n\t\t> åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯\n\t\t> åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯\nåœ¨åˆ—è¡¨æ ä¸‹ï¼Œå¼•ç”¨çš„æ–‡æœ¬éœ€è¦ç¼©è¿›\næ•ˆæœå¦‚ä¸‹å›¾ï¼š\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190226102633553.png)\nä»£åŠåˆ—è¡¨ï¼šè¡¨ç¤ºåˆ—è¡¨æ•°æ®æ˜¯å¦è¢«å‹¾é€‰\n\t- [ ] ä¸å‹¾é€‰\n\t- [x] å‹¾é€‰\næ•ˆæœå¦‚ä¸‹å›¾ï¼š\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190226102826784.png)\n# 4.4. ä»£ç å—\nåªè¦æŠŠä»£ç å—åŒ…è£¹åœ¨â€œ` ä¹‹é—´ï¼Œåœ¨å›´æ å¼ä»£ç å—ä¸­ï¼Œä½ å¯ä»¥æŒ‡å®šä¸€ä¸ªå¯é€‰çš„è¯­è¨€æ ‡è¯†ç¬¦ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥ä¸ºå®ƒå¯ç”¨è¯­æ³•ç€è‰²äº†ï¼š\n\n\t```ruby\n\t\trequire 'redcarpet'\n\t\tmarkdown = Redcarpet.new(\"Hello World!\")\n\t\tputs markdown.to_html\n\t```\n\næ•ˆæœå¦‚ä¸‹å›¾ï¼š\n\t![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190226103542307.png)\n# 4.5. å¼ºè°ƒ\nåœ¨Markdownä¸­ï¼Œå¯ä»¥ä½¿ç”¨ * å’Œ  _  æ¥è¡¨ç¤ºæ–œä½“å’ŒåŠ ç²—ã€‚\nå•ä¸ª * å’Œ _ ä¿®é¥°ï¼Œè¡¨ç¤ºæ–œä½“ï¼ŒåŒä¸ª * å’Œ _ ä¿®é¥°è¡¨ç¤ºç²—ä½“\n\n\t*Markdown*\n\t_Markdown_\n\t**Markdown**\n\t__Markdown__\næ•ˆæœå¦‚ä¸‹ï¼š\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190226104023173.png)\n# 4.6. é“¾æ¥\n\n\tæ–‡å­—é“¾æ¥ [æ–‡å­—æè¿°](åœ°å€)\n\tå›¾ç‰‡é“¾æ¥ ![æ–‡å­—æè¿°](åœ°å€)\næ•ˆæœå¦‚ä¸‹ï¼š\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190226104232855.png)\nè¿˜æœ‰ä¸€äº›è¡¨æ ¼ï¼Œä¸€äº›å·¥ç¨‹å›¾ï¼ˆæµç¨‹å›¾ï¼Œæ—¶åºå›¾ç­‰ï¼‰éƒ½å¯ä»¥ä½¿ç”¨markdownè¡¨ç°å‡ºæ¥ï¼Œæˆ‘è¿™é‡Œå°±ä¸ä¸€ä¸€ä»‹ç»äº†ï¼Œå…·ä½“å‚è€ƒ[Markdown è¯­æ³•ä»‹ç»](https://coding.net/help/doc/project/markdown.html#i-6)\n# 4.7. æ¢è¡Œï¼š\n&emsp;&emsp;1.ä½¿ç”¨ä¸¤ä¸ªä»¥ä¸Šçš„ç©ºæ ¼åŠ å›è½¦\n&emsp;&emsp;2.ä½¿ç”¨httpæ ‡ç­¾ \\<br>\n# 4.8. é¦–è¡Œç¼©è¿›\n\t&emsp;&emsp;1. åŠè§’ç©ºæ ¼ â€œ\\&ensp;â€\n\t&emsp;&emsp;2. å…¨è§’ç©ºæ ¼ â€œ\\&emsp;â€\n\t&emsp;&emsp;3. ä¸æ¢è¡Œç©ºæ ¼ â€œ\\&nbsp;â€\n# 4.9. æ–‡æœ¬åŠ é¢œè‰²\nmarkdown å¯ä»¥é€šè¿‡åƒhtmlä¸€æ ·ï¼Œå¯ä»¥é€šè¿‡æ ‡ç­¾æ ·å¼è®©æ–‡æœ¬æœ‰ä¸€å®šçš„æ ¼å¼ã€‚\n\n\t<font color=\"red\">test</font>\n\næ•ˆæœå¦‚ä¸‹ï¼š\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190226111339130.png)\nå…·ä½“éœ€è¦å®ç°ä»€ä¹ˆæ ·å¼ï¼Œå‚è€ƒ[cssæ–‡æ¡£](http://www.runoob.com/css/css-text.html)\n\n# 5. æ€»ç»“\nä»Šå¤©ç®€å•ä»‹ç»äº†markdownï¼Œå¹¶é€šè¿‡å‡ ä¸ªä¾‹å­æ¥å±•ç¤ºå…·ä½“ç”¨æ³•ã€‚å…¶å®markdownè¿˜æœ‰å¾ˆå¤šå†…å®¹ï¼Œæ‰€ä»¥éœ€è¦å¤§å®¶åœ¨ä»¥åä½¿ç”¨ä¸­å¤šç§¯ç´¯å¤šå®Œå–„ï¼Œè¿™æ ·æ‰èƒ½æ›´å¥½çš„ä½¿ç”¨å’ŒæŒmarkdownã€‚\n\nå‚è€ƒæ–‡æ¡£ï¼š\n[Markdown è¯­æ³•ä»‹ç»](https://coding.net/help/doc/project/markdown.html#i-6)\n[Markdownä½¿ç”¨æŠ€å·§æ€»ç»“â€”â€”å­—ä½“ï¼Œé¢œè‰²ï¼Œå­—å·ï¼ŒèƒŒæ™¯ï¼Œé¦–è¡Œç¼©è¿›ç­‰](https://blog.csdn.net/u010177286/article/details/50358720)\n[å…¨è§’åŠè§’ && 6ç§ç©ºç™½ç©ºæ ¼çš„åŒºåˆ«](https://blog.csdn.net/bao19901210/article/details/54625703)\n[ç»´åŸºç™¾ç§‘ markdownä»‹ç»](https://zh.wikipedia.org/wiki/Markdown)\n\n\n\n","source":"_posts/markdownçš„ä½¿ç”¨ç¬”è®°.md","raw":"---\ntitle: markdownçš„ä½¿ç”¨ç¬”è®°\ndate: 2019-02-26 11:28:10\ntags:\n- markdown\n- http\n---\nç”±äºæœ€è¿‘å†™åšå®¢éœ€è¦ï¼Œäº†è§£åˆ°ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€-markdownã€‚ä¸‹é¢æ¥è¯´ä¸€ä¸‹å…³äºä¸€äº›markdownçš„çŸ¥è¯†ï¼š\n# 1. markdownæ˜¯ä»€ä¹ˆï¼Ÿ\nMarkdownæ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œåˆ›å§‹äººä¸ºçº¦ç¿°Â·æ ¼é²ä¼¯ï¼ˆè‹±è¯­ï¼šJohn Gruberï¼‰ã€‚å®ƒå…è®¸äººä»¬â€œä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ï¼Œç„¶åè½¬æ¢æˆæœ‰æ•ˆçš„XHTMLï¼ˆæˆ–è€…HTMLï¼‰æ–‡æ¡£â€ã€‚è¿™ç§è¯­è¨€å¸æ”¶äº†å¾ˆå¤šåœ¨ç”µå­é‚®ä»¶ä¸­å·²æœ‰çš„çº¯æ–‡æœ¬æ ‡è®°çš„ç‰¹æ€§ã€‚\n# 2. markdownçš„å†å²å‘å±•ï¼Ÿ\nJohn Gruber åœ¨ 2004 å¹´åˆ›é€ äº† Markdown è¯­è¨€ï¼Œåœ¨è¯­æ³•ä¸Šæœ‰å¾ˆå¤§ä¸€éƒ¨åˆ†æ˜¯è·Ÿäºšä¼¦Â·æ–¯æ²ƒèŒ¨ï¼ˆAaron Swartzï¼‰å…±åŒåˆä½œçš„ã€‚è¿™ä¸ªè¯­è¨€çš„ç›®çš„æ˜¯å¸Œæœ›å¤§å®¶ä½¿ç”¨â€œæ˜“äºé˜…è¯»ã€æ˜“äºæ’°å†™çš„çº¯æ–‡å­—æ ¼å¼ï¼Œå¹¶é€‰æ‹©æ€§çš„è½¬æ¢æˆæœ‰æ•ˆçš„XHTMLï¼ˆæˆ–æ˜¯HTMLï¼‰â€ã€‚ å…¶ä¸­æœ€é‡è¦çš„è®¾è®¡æ˜¯å¯è¯»æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªè¯­è¨€åº”è¯¥è¦èƒ½ç›´æ¥åœ¨å­—é¢ä¸Šçš„è¢«é˜…è¯»ï¼Œè€Œä¸ç”¨è¢«ä¸€äº›æ ¼å¼åŒ–æŒ‡ä»¤æ ‡è®°ï¼ˆåƒæ˜¯RTFä¸HTMLï¼‰ã€‚ å› æ­¤ï¼Œå®ƒæ˜¯ç°è¡Œç”µå­é‚®ä»¶æ ‡è®°æ ¼å¼çš„æƒ¯ä¾‹ï¼Œè™½ç„¶å®ƒä¹Ÿå€Ÿé‰´äº†å¾ˆå¤šæ—©æœŸçš„æ ‡è®°è¯­è¨€ï¼Œå¦‚ï¼šSetextã€Texileã€reStructuredTextã€‚Gruberä¹Ÿç¼–å†™äº†çš„Perlè„šæœ¬ï¼šMarkdown.plï¼Œç”¨äºæŠŠmarkdownè¯­æ³•ç¼–å†™çš„å†…å®¹è½¬æ¢æˆæœ‰æ•ˆçš„ã€ç»“æ„è‰¯å¥½çš„XHTMLæˆ–HTMLå†…å®¹ï¼Œå¹¶å°†å·¦å°–æ‹¬å·<å’Œ&å·æ›¿æ¢æˆå®ƒä»¬å„è‡ªçš„å­—ç¬¦å®ä½“å¼•ç”¨ã€‚å®ƒå¯ä»¥ç”¨ä½œå•ç‹¬çš„è„šæœ¬ï¼ŒBlosxomå’ŒMovable Typeçš„æ’ä»¶åˆæˆ–è€…BBEditçš„æ–‡æœ¬è¿‡æ»¤å™¨ã€‚Markdownä¹Ÿå·²ç»è¢«å…¶ä»–äººç”¨Perlå’Œåˆ«çš„ç¼–ç¨‹è¯­è¨€é‡æ–°å®ç°ï¼Œå…¶ä¸­ä¸€ä¸ªPerlæ¨¡å—æ”¾åœ¨äº†CPAN(Text::Markdown)ä¸Šã€‚å®ƒåŸºäºä¸€ä¸ªBSDé£æ ¼çš„è®¸å¯è¯åˆ†å‘å¹¶å¯ä»¥ä½œä¸ºå‡ ä¸ªå†…å®¹ç®¡ç†ç³»ç»Ÿçš„æ’ä»¶ã€‚\n# 3. markdownèƒ½ç”¨æ¥åšä»€ä¹ˆï¼Ÿ\nç”±äºMarkdownçš„è½»é‡åŒ–ã€æ˜“è¯»æ˜“å†™ç‰¹æ€§ï¼Œå¹¶ä¸”å¯¹äºå›¾ç‰‡ï¼Œå›¾è¡¨ã€æ•°å­¦å¼éƒ½æœ‰æ”¯æŒï¼Œå½“å‰è®¸å¤šç½‘ç«™éƒ½å¹¿æ³›ä½¿ç”¨ Markdown æ¥æ’°å†™å¸®åŠ©æ–‡æ¡£æˆ–æ˜¯ç”¨äºè®ºå›ä¸Šå‘è¡¨æ¶ˆæ¯ã€‚ä¾‹å¦‚ï¼šGitHubã€redditã€Diasporaã€Stack Exchangeã€OpenStreetMap ã€SourceForgeç­‰ã€‚ç”šè‡³Markdownèƒ½è¢«ä½¿ç”¨æ¥æ’°å†™ç”µå­ä¹¦ã€‚\n# 4. markdownçš„ä¸€äº›è¯­æ³•å’Œå¹³æ—¶ä¹¦å†™çš„æ³¨æ„ç‚¹ï¼Ÿ\n# 4.1. æ ‡é¢˜\nä¹¦å†™æ ‡é¢˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨æ–‡æœ¬å‰é¢åŠ ä¸Šã€# ã€å³å¯åˆ›å»ºä¸€çº§æ ‡é¢˜ï¼Œå¦‚æœæƒ³åˆ›å»ºäºŒçº§ï¼Œä¸‰çº§ï¼Œæˆ–è€…æ›´å¤šåªéœ€è¦å¢åŠ ã€# ã€çš„ä¸ªæ•°å³å¯ã€‚ä¸‹é¢å±•ç¤ºä¸€ä¸‹æ•ˆæœï¼š\n\t\t# ä¸€çº§æ ‡é¢˜\n\t\t## äºŒçº§æ ‡é¢˜\n\t\t### ä¸‰çº§æ ‡é¢˜\n\t\t#### å››çº§æ ‡é¢˜\n\t\t##### äº”çº§æ ‡é¢˜\n\t\t###### å…­çº§æ ‡é¢˜\næ•ˆæœå¦‚ä¸‹å›¾ï¼š\n![](https://img.mupaie.com/20190226100452277.png)\n# 4.2. å¼•ç”¨\n\nåœ¨éœ€è¦çš„æ•´ä¸ªæ®µè½ç¬¬ä¸€è¡Œæœ€å‰é¢åŠ ä¸Šã€>ã€å³å¯ï¼š\n\t>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯\n\tæ•ˆæœå¦‚ä¸‹å›¾ï¼š\n\t![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190226101026545.png)\nåŒºå—å¼•ç”¨è¿˜å¯ä»¥åµŒå¥—ä½¿ç”¨\n\t>  åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯\n\t>  > åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯\n\t>  > > åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯\n\t![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190226101213185.png)\n\tä¸ä»…å¯ä»¥åµŒå¥—ä½¿ç”¨ï¼Œè¿˜å¯ä»¥å†å¼•ç”¨ä¸­åŠ å…¥æ ‡é¢˜ï¼Œåˆ—è¡¨ç­‰å…ƒç´ ï¼š\n\t>  ## åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯\n\t>  > 1. åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯\n\t>  > 2.  åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯\n\tæ•ˆæœå¦‚ä¸‹å›¾ï¼š\n\t![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190226101413977.png)\n# 4.3. åˆ—è¡¨\nåˆ—è¡¨åœ¨httpä¸­æœ‰æ— åºå’Œæœ‰åºåˆ—è¡¨ï¼Œmarkdownä¹Ÿæœ‰å¦‚ä¸‹ï¼š\n __æ— åºåˆ—è¡¨__ :ä½¿ç”¨æ˜Ÿå· ã€åŠ å·æˆ–æ˜¯å‡å·æ¥ä½œä¸ºæ ‡è®°\n\t- test\n\t- test\n\t- test\næ•ˆæœå¦‚ä¸‹å›¾ï¼š\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190226102026437.png)\næœ‰åºåˆ—è¡¨åˆ™æ˜¯åœ¨æ–‡æœ¬å‰é¢åŠ ä¸Šæ•°å­—å’Œå°æ•°ç‚¹\n\t1. test\n\t2. test\n\t3. test\næ•ˆæœå¦‚ä¸‹å›¾ï¼š\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190226102236789.png)\nåœ¨åˆ—è¡¨ä¸­å¦‚ä½•ä½¿ç”¨å¼•ç”¨ï¼Ÿ\n\t*  åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯\n\t\t> åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯\n\t\t> åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯\nåœ¨åˆ—è¡¨æ ä¸‹ï¼Œå¼•ç”¨çš„æ–‡æœ¬éœ€è¦ç¼©è¿›\næ•ˆæœå¦‚ä¸‹å›¾ï¼š\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190226102633553.png)\nä»£åŠåˆ—è¡¨ï¼šè¡¨ç¤ºåˆ—è¡¨æ•°æ®æ˜¯å¦è¢«å‹¾é€‰\n\t- [ ] ä¸å‹¾é€‰\n\t- [x] å‹¾é€‰\næ•ˆæœå¦‚ä¸‹å›¾ï¼š\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190226102826784.png)\n# 4.4. ä»£ç å—\nåªè¦æŠŠä»£ç å—åŒ…è£¹åœ¨â€œ` ä¹‹é—´ï¼Œåœ¨å›´æ å¼ä»£ç å—ä¸­ï¼Œä½ å¯ä»¥æŒ‡å®šä¸€ä¸ªå¯é€‰çš„è¯­è¨€æ ‡è¯†ç¬¦ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥ä¸ºå®ƒå¯ç”¨è¯­æ³•ç€è‰²äº†ï¼š\n\n\t```ruby\n\t\trequire 'redcarpet'\n\t\tmarkdown = Redcarpet.new(\"Hello World!\")\n\t\tputs markdown.to_html\n\t```\n\næ•ˆæœå¦‚ä¸‹å›¾ï¼š\n\t![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190226103542307.png)\n# 4.5. å¼ºè°ƒ\nåœ¨Markdownä¸­ï¼Œå¯ä»¥ä½¿ç”¨ * å’Œ  _  æ¥è¡¨ç¤ºæ–œä½“å’ŒåŠ ç²—ã€‚\nå•ä¸ª * å’Œ _ ä¿®é¥°ï¼Œè¡¨ç¤ºæ–œä½“ï¼ŒåŒä¸ª * å’Œ _ ä¿®é¥°è¡¨ç¤ºç²—ä½“\n\n\t*Markdown*\n\t_Markdown_\n\t**Markdown**\n\t__Markdown__\næ•ˆæœå¦‚ä¸‹ï¼š\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190226104023173.png)\n# 4.6. é“¾æ¥\n\n\tæ–‡å­—é“¾æ¥ [æ–‡å­—æè¿°](åœ°å€)\n\tå›¾ç‰‡é“¾æ¥ ![æ–‡å­—æè¿°](åœ°å€)\næ•ˆæœå¦‚ä¸‹ï¼š\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190226104232855.png)\nè¿˜æœ‰ä¸€äº›è¡¨æ ¼ï¼Œä¸€äº›å·¥ç¨‹å›¾ï¼ˆæµç¨‹å›¾ï¼Œæ—¶åºå›¾ç­‰ï¼‰éƒ½å¯ä»¥ä½¿ç”¨markdownè¡¨ç°å‡ºæ¥ï¼Œæˆ‘è¿™é‡Œå°±ä¸ä¸€ä¸€ä»‹ç»äº†ï¼Œå…·ä½“å‚è€ƒ[Markdown è¯­æ³•ä»‹ç»](https://coding.net/help/doc/project/markdown.html#i-6)\n# 4.7. æ¢è¡Œï¼š\n&emsp;&emsp;1.ä½¿ç”¨ä¸¤ä¸ªä»¥ä¸Šçš„ç©ºæ ¼åŠ å›è½¦\n&emsp;&emsp;2.ä½¿ç”¨httpæ ‡ç­¾ \\<br>\n# 4.8. é¦–è¡Œç¼©è¿›\n\t&emsp;&emsp;1. åŠè§’ç©ºæ ¼ â€œ\\&ensp;â€\n\t&emsp;&emsp;2. å…¨è§’ç©ºæ ¼ â€œ\\&emsp;â€\n\t&emsp;&emsp;3. ä¸æ¢è¡Œç©ºæ ¼ â€œ\\&nbsp;â€\n# 4.9. æ–‡æœ¬åŠ é¢œè‰²\nmarkdown å¯ä»¥é€šè¿‡åƒhtmlä¸€æ ·ï¼Œå¯ä»¥é€šè¿‡æ ‡ç­¾æ ·å¼è®©æ–‡æœ¬æœ‰ä¸€å®šçš„æ ¼å¼ã€‚\n\n\t<font color=\"red\">test</font>\n\næ•ˆæœå¦‚ä¸‹ï¼š\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190226111339130.png)\nå…·ä½“éœ€è¦å®ç°ä»€ä¹ˆæ ·å¼ï¼Œå‚è€ƒ[cssæ–‡æ¡£](http://www.runoob.com/css/css-text.html)\n\n# 5. æ€»ç»“\nä»Šå¤©ç®€å•ä»‹ç»äº†markdownï¼Œå¹¶é€šè¿‡å‡ ä¸ªä¾‹å­æ¥å±•ç¤ºå…·ä½“ç”¨æ³•ã€‚å…¶å®markdownè¿˜æœ‰å¾ˆå¤šå†…å®¹ï¼Œæ‰€ä»¥éœ€è¦å¤§å®¶åœ¨ä»¥åä½¿ç”¨ä¸­å¤šç§¯ç´¯å¤šå®Œå–„ï¼Œè¿™æ ·æ‰èƒ½æ›´å¥½çš„ä½¿ç”¨å’ŒæŒmarkdownã€‚\n\nå‚è€ƒæ–‡æ¡£ï¼š\n[Markdown è¯­æ³•ä»‹ç»](https://coding.net/help/doc/project/markdown.html#i-6)\n[Markdownä½¿ç”¨æŠ€å·§æ€»ç»“â€”â€”å­—ä½“ï¼Œé¢œè‰²ï¼Œå­—å·ï¼ŒèƒŒæ™¯ï¼Œé¦–è¡Œç¼©è¿›ç­‰](https://blog.csdn.net/u010177286/article/details/50358720)\n[å…¨è§’åŠè§’ && 6ç§ç©ºç™½ç©ºæ ¼çš„åŒºåˆ«](https://blog.csdn.net/bao19901210/article/details/54625703)\n[ç»´åŸºç™¾ç§‘ markdownä»‹ç»](https://zh.wikipedia.org/wiki/Markdown)\n\n\n\n","slug":"markdownçš„ä½¿ç”¨ç¬”è®°","published":1,"updated":"2019-07-14T05:09:35.732Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkctu8000e4osx72vr3jfp","content":"<p>ç”±äºæœ€è¿‘å†™åšå®¢éœ€è¦ï¼Œäº†è§£åˆ°ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€-markdownã€‚ä¸‹é¢æ¥è¯´ä¸€ä¸‹å…³äºä¸€äº›markdownçš„çŸ¥è¯†ï¼š</p>\n<h1 id=\"1-markdownæ˜¯ä»€ä¹ˆï¼Ÿ\"><a href=\"#1-markdownæ˜¯ä»€ä¹ˆï¼Ÿ\" class=\"headerlink\" title=\"1. markdownæ˜¯ä»€ä¹ˆï¼Ÿ\"></a>1. markdownæ˜¯ä»€ä¹ˆï¼Ÿ</h1><p>Markdownæ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œåˆ›å§‹äººä¸ºçº¦ç¿°Â·æ ¼é²ä¼¯ï¼ˆè‹±è¯­ï¼šJohn Gruberï¼‰ã€‚å®ƒå…è®¸äººä»¬â€œä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ï¼Œç„¶åè½¬æ¢æˆæœ‰æ•ˆçš„XHTMLï¼ˆæˆ–è€…HTMLï¼‰æ–‡æ¡£â€ã€‚è¿™ç§è¯­è¨€å¸æ”¶äº†å¾ˆå¤šåœ¨ç”µå­é‚®ä»¶ä¸­å·²æœ‰çš„çº¯æ–‡æœ¬æ ‡è®°çš„ç‰¹æ€§ã€‚</p>\n<h1 id=\"2-markdownçš„å†å²å‘å±•ï¼Ÿ\"><a href=\"#2-markdownçš„å†å²å‘å±•ï¼Ÿ\" class=\"headerlink\" title=\"2. markdownçš„å†å²å‘å±•ï¼Ÿ\"></a>2. markdownçš„å†å²å‘å±•ï¼Ÿ</h1><p>John Gruber åœ¨ 2004 å¹´åˆ›é€ äº† Markdown è¯­è¨€ï¼Œåœ¨è¯­æ³•ä¸Šæœ‰å¾ˆå¤§ä¸€éƒ¨åˆ†æ˜¯è·Ÿäºšä¼¦Â·æ–¯æ²ƒèŒ¨ï¼ˆAaron Swartzï¼‰å…±åŒåˆä½œçš„ã€‚è¿™ä¸ªè¯­è¨€çš„ç›®çš„æ˜¯å¸Œæœ›å¤§å®¶ä½¿ç”¨â€œæ˜“äºé˜…è¯»ã€æ˜“äºæ’°å†™çš„çº¯æ–‡å­—æ ¼å¼ï¼Œå¹¶é€‰æ‹©æ€§çš„è½¬æ¢æˆæœ‰æ•ˆçš„XHTMLï¼ˆæˆ–æ˜¯HTMLï¼‰â€ã€‚ å…¶ä¸­æœ€é‡è¦çš„è®¾è®¡æ˜¯å¯è¯»æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªè¯­è¨€åº”è¯¥è¦èƒ½ç›´æ¥åœ¨å­—é¢ä¸Šçš„è¢«é˜…è¯»ï¼Œè€Œä¸ç”¨è¢«ä¸€äº›æ ¼å¼åŒ–æŒ‡ä»¤æ ‡è®°ï¼ˆåƒæ˜¯RTFä¸HTMLï¼‰ã€‚ å› æ­¤ï¼Œå®ƒæ˜¯ç°è¡Œç”µå­é‚®ä»¶æ ‡è®°æ ¼å¼çš„æƒ¯ä¾‹ï¼Œè™½ç„¶å®ƒä¹Ÿå€Ÿé‰´äº†å¾ˆå¤šæ—©æœŸçš„æ ‡è®°è¯­è¨€ï¼Œå¦‚ï¼šSetextã€Texileã€reStructuredTextã€‚Gruberä¹Ÿç¼–å†™äº†çš„Perlè„šæœ¬ï¼šMarkdown.plï¼Œç”¨äºæŠŠmarkdownè¯­æ³•ç¼–å†™çš„å†…å®¹è½¬æ¢æˆæœ‰æ•ˆçš„ã€ç»“æ„è‰¯å¥½çš„XHTMLæˆ–HTMLå†…å®¹ï¼Œå¹¶å°†å·¦å°–æ‹¬å·&lt;å’Œ&amp;å·æ›¿æ¢æˆå®ƒä»¬å„è‡ªçš„å­—ç¬¦å®ä½“å¼•ç”¨ã€‚å®ƒå¯ä»¥ç”¨ä½œå•ç‹¬çš„è„šæœ¬ï¼ŒBlosxomå’ŒMovable Typeçš„æ’ä»¶åˆæˆ–è€…BBEditçš„æ–‡æœ¬è¿‡æ»¤å™¨ã€‚Markdownä¹Ÿå·²ç»è¢«å…¶ä»–äººç”¨Perlå’Œåˆ«çš„ç¼–ç¨‹è¯­è¨€é‡æ–°å®ç°ï¼Œå…¶ä¸­ä¸€ä¸ªPerlæ¨¡å—æ”¾åœ¨äº†CPAN(Text::Markdown)ä¸Šã€‚å®ƒåŸºäºä¸€ä¸ªBSDé£æ ¼çš„è®¸å¯è¯åˆ†å‘å¹¶å¯ä»¥ä½œä¸ºå‡ ä¸ªå†…å®¹ç®¡ç†ç³»ç»Ÿçš„æ’ä»¶ã€‚</p>\n<h1 id=\"3-markdownèƒ½ç”¨æ¥åšä»€ä¹ˆï¼Ÿ\"><a href=\"#3-markdownèƒ½ç”¨æ¥åšä»€ä¹ˆï¼Ÿ\" class=\"headerlink\" title=\"3. markdownèƒ½ç”¨æ¥åšä»€ä¹ˆï¼Ÿ\"></a>3. markdownèƒ½ç”¨æ¥åšä»€ä¹ˆï¼Ÿ</h1><p>ç”±äºMarkdownçš„è½»é‡åŒ–ã€æ˜“è¯»æ˜“å†™ç‰¹æ€§ï¼Œå¹¶ä¸”å¯¹äºå›¾ç‰‡ï¼Œå›¾è¡¨ã€æ•°å­¦å¼éƒ½æœ‰æ”¯æŒï¼Œå½“å‰è®¸å¤šç½‘ç«™éƒ½å¹¿æ³›ä½¿ç”¨ Markdown æ¥æ’°å†™å¸®åŠ©æ–‡æ¡£æˆ–æ˜¯ç”¨äºè®ºå›ä¸Šå‘è¡¨æ¶ˆæ¯ã€‚ä¾‹å¦‚ï¼šGitHubã€redditã€Diasporaã€Stack Exchangeã€OpenStreetMap ã€SourceForgeç­‰ã€‚ç”šè‡³Markdownèƒ½è¢«ä½¿ç”¨æ¥æ’°å†™ç”µå­ä¹¦ã€‚</p>\n<h1 id=\"4-markdownçš„ä¸€äº›è¯­æ³•å’Œå¹³æ—¶ä¹¦å†™çš„æ³¨æ„ç‚¹ï¼Ÿ\"><a href=\"#4-markdownçš„ä¸€äº›è¯­æ³•å’Œå¹³æ—¶ä¹¦å†™çš„æ³¨æ„ç‚¹ï¼Ÿ\" class=\"headerlink\" title=\"4. markdownçš„ä¸€äº›è¯­æ³•å’Œå¹³æ—¶ä¹¦å†™çš„æ³¨æ„ç‚¹ï¼Ÿ\"></a>4. markdownçš„ä¸€äº›è¯­æ³•å’Œå¹³æ—¶ä¹¦å†™çš„æ³¨æ„ç‚¹ï¼Ÿ</h1><h1 id=\"4-1-æ ‡é¢˜\"><a href=\"#4-1-æ ‡é¢˜\" class=\"headerlink\" title=\"4.1. æ ‡é¢˜\"></a>4.1. æ ‡é¢˜</h1><p>ä¹¦å†™æ ‡é¢˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨æ–‡æœ¬å‰é¢åŠ ä¸Šã€# ã€å³å¯åˆ›å»ºä¸€çº§æ ‡é¢˜ï¼Œå¦‚æœæƒ³åˆ›å»ºäºŒçº§ï¼Œä¸‰çº§ï¼Œæˆ–è€…æ›´å¤šåªéœ€è¦å¢åŠ ã€# ã€çš„ä¸ªæ•°å³å¯ã€‚ä¸‹é¢å±•ç¤ºä¸€ä¸‹æ•ˆæœï¼š</p>\n<pre><code># ä¸€çº§æ ‡é¢˜\n## äºŒçº§æ ‡é¢˜\n### ä¸‰çº§æ ‡é¢˜\n#### å››çº§æ ‡é¢˜\n##### äº”çº§æ ‡é¢˜\n###### å…­çº§æ ‡é¢˜\n</code></pre><p>æ•ˆæœå¦‚ä¸‹å›¾ï¼š<br><img src=\"https://img.mupaie.com/20190226100452277.png\" alt=\"\"></p>\n<h1 id=\"4-2-å¼•ç”¨\"><a href=\"#4-2-å¼•ç”¨\" class=\"headerlink\" title=\"4.2. å¼•ç”¨\"></a>4.2. å¼•ç”¨</h1><p>åœ¨éœ€è¦çš„æ•´ä¸ªæ®µè½ç¬¬ä¸€è¡Œæœ€å‰é¢åŠ ä¸Šã€&gt;ã€å³å¯ï¼š<br>    &gt;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯<br>    æ•ˆæœå¦‚ä¸‹å›¾ï¼š<br>    <img src=\"https://img.mupaie.com/20190226101026545.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>åŒºå—å¼•ç”¨è¿˜å¯ä»¥åµŒå¥—ä½¿ç”¨<br>    &gt;  åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯<br>    &gt;  &gt; åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯<br>    &gt;  &gt; &gt; åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯<br>    <img src=\"https://img.mupaie.com/20190226101213185.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>    ä¸ä»…å¯ä»¥åµŒå¥—ä½¿ç”¨ï¼Œè¿˜å¯ä»¥å†å¼•ç”¨ä¸­åŠ å…¥æ ‡é¢˜ï¼Œåˆ—è¡¨ç­‰å…ƒç´ ï¼š<br>    &gt;  ## åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯<br>    &gt;  &gt; 1. åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯<br>    &gt;  &gt; 2.  åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯<br>    æ•ˆæœå¦‚ä¸‹å›¾ï¼š<br>    <img src=\"https://img.mupaie.com/20190226101413977.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<h1 id=\"4-3-åˆ—è¡¨\"><a href=\"#4-3-åˆ—è¡¨\" class=\"headerlink\" title=\"4.3. åˆ—è¡¨\"></a>4.3. åˆ—è¡¨</h1><p>åˆ—è¡¨åœ¨httpä¸­æœ‰æ— åºå’Œæœ‰åºåˆ—è¡¨ï¼Œmarkdownä¹Ÿæœ‰å¦‚ä¸‹ï¼š<br> <strong>æ— åºåˆ—è¡¨</strong> :ä½¿ç”¨æ˜Ÿå· ã€åŠ å·æˆ–æ˜¯å‡å·æ¥ä½œä¸ºæ ‡è®°</p>\n<pre><code>- test\n- test\n- test\n</code></pre><p>æ•ˆæœå¦‚ä¸‹å›¾ï¼š<br><img src=\"https://img.mupaie.com/20190226102026437.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>æœ‰åºåˆ—è¡¨åˆ™æ˜¯åœ¨æ–‡æœ¬å‰é¢åŠ ä¸Šæ•°å­—å’Œå°æ•°ç‚¹</p>\n<pre><code>1. test\n2. test\n3. test\n</code></pre><p>æ•ˆæœå¦‚ä¸‹å›¾ï¼š<br><img src=\"https://img.mupaie.com/20190226102236789.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>åœ¨åˆ—è¡¨ä¸­å¦‚ä½•ä½¿ç”¨å¼•ç”¨ï¼Ÿ</p>\n<pre><code>*  åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯\n    &gt; åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯\n    &gt; åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯\n</code></pre><p>åœ¨åˆ—è¡¨æ ä¸‹ï¼Œå¼•ç”¨çš„æ–‡æœ¬éœ€è¦ç¼©è¿›<br>æ•ˆæœå¦‚ä¸‹å›¾ï¼š<br><img src=\"https://img.mupaie.com/20190226102633553.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>ä»£åŠåˆ—è¡¨ï¼šè¡¨ç¤ºåˆ—è¡¨æ•°æ®æ˜¯å¦è¢«å‹¾é€‰</p>\n<pre><code>- [ ] ä¸å‹¾é€‰\n- [x] å‹¾é€‰\n</code></pre><p>æ•ˆæœå¦‚ä¸‹å›¾ï¼š<br><img src=\"https://img.mupaie.com/20190226102826784.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<h1 id=\"4-4-ä»£ç å—\"><a href=\"#4-4-ä»£ç å—\" class=\"headerlink\" title=\"4.4. ä»£ç å—\"></a>4.4. ä»£ç å—</h1><p>åªè¦æŠŠä»£ç å—åŒ…è£¹åœ¨â€œ` ä¹‹é—´ï¼Œåœ¨å›´æ å¼ä»£ç å—ä¸­ï¼Œä½ å¯ä»¥æŒ‡å®šä¸€ä¸ªå¯é€‰çš„è¯­è¨€æ ‡è¯†ç¬¦ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥ä¸ºå®ƒå¯ç”¨è¯­æ³•ç€è‰²äº†ï¼š</p>\n<pre><code><figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">require</span> <span class=\"string\">'redcarpet'</span></span><br><span class=\"line\">markdown = Redcarpet.new(<span class=\"string\">\"Hello World!\"</span>)</span><br><span class=\"line\">puts markdown.to_html</span><br></pre></td></tr></table></figure>\n</code></pre><p>æ•ˆæœå¦‚ä¸‹å›¾ï¼š<br>    <img src=\"https://img.mupaie.com/20190226103542307.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<h1 id=\"4-5-å¼ºè°ƒ\"><a href=\"#4-5-å¼ºè°ƒ\" class=\"headerlink\" title=\"4.5. å¼ºè°ƒ\"></a>4.5. å¼ºè°ƒ</h1><p>åœ¨Markdownä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <em> å’Œ  _  æ¥è¡¨ç¤ºæ–œä½“å’ŒåŠ ç²—ã€‚<br>å•ä¸ª </em> å’Œ _ ä¿®é¥°ï¼Œè¡¨ç¤ºæ–œä½“ï¼ŒåŒä¸ª * å’Œ _ ä¿®é¥°è¡¨ç¤ºç²—ä½“</p>\n<pre><code>*Markdown*\n_Markdown_\n**Markdown**\n__Markdown__\n</code></pre><p>æ•ˆæœå¦‚ä¸‹ï¼š<br><img src=\"https://img.mupaie.com/20190226104023173.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<h1 id=\"4-6-é“¾æ¥\"><a href=\"#4-6-é“¾æ¥\" class=\"headerlink\" title=\"4.6. é“¾æ¥\"></a>4.6. é“¾æ¥</h1><pre><code>æ–‡å­—é“¾æ¥ [æ–‡å­—æè¿°](åœ°å€)\nå›¾ç‰‡é“¾æ¥ ![æ–‡å­—æè¿°](åœ°å€)\n</code></pre><p>æ•ˆæœå¦‚ä¸‹ï¼š<br><img src=\"https://img.mupaie.com/20190226104232855.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>è¿˜æœ‰ä¸€äº›è¡¨æ ¼ï¼Œä¸€äº›å·¥ç¨‹å›¾ï¼ˆæµç¨‹å›¾ï¼Œæ—¶åºå›¾ç­‰ï¼‰éƒ½å¯ä»¥ä½¿ç”¨markdownè¡¨ç°å‡ºæ¥ï¼Œæˆ‘è¿™é‡Œå°±ä¸ä¸€ä¸€ä»‹ç»äº†ï¼Œå…·ä½“å‚è€ƒ<a href=\"https://coding.net/help/doc/project/markdown.html#i-6\" target=\"_blank\" rel=\"noopener\">Markdown è¯­æ³•ä»‹ç»</a></p>\n<h1 id=\"4-7-æ¢è¡Œï¼š\"><a href=\"#4-7-æ¢è¡Œï¼š\" class=\"headerlink\" title=\"4.7. æ¢è¡Œï¼š\"></a>4.7. æ¢è¡Œï¼š</h1><p>&emsp;&emsp;1.ä½¿ç”¨ä¸¤ä¸ªä»¥ä¸Šçš„ç©ºæ ¼åŠ å›è½¦<br>&emsp;&emsp;2.ä½¿ç”¨httpæ ‡ç­¾ \\<br></p>\n<h1 id=\"4-8-é¦–è¡Œç¼©è¿›\"><a href=\"#4-8-é¦–è¡Œç¼©è¿›\" class=\"headerlink\" title=\"4.8. é¦–è¡Œç¼©è¿›\"></a>4.8. é¦–è¡Œç¼©è¿›</h1><pre><code>&amp;emsp;&amp;emsp;1. åŠè§’ç©ºæ ¼ â€œ\\&amp;ensp;â€\n&amp;emsp;&amp;emsp;2. å…¨è§’ç©ºæ ¼ â€œ\\&amp;emsp;â€\n&amp;emsp;&amp;emsp;3. ä¸æ¢è¡Œç©ºæ ¼ â€œ\\&amp;nbsp;â€\n</code></pre><h1 id=\"4-9-æ–‡æœ¬åŠ é¢œè‰²\"><a href=\"#4-9-æ–‡æœ¬åŠ é¢œè‰²\" class=\"headerlink\" title=\"4.9. æ–‡æœ¬åŠ é¢œè‰²\"></a>4.9. æ–‡æœ¬åŠ é¢œè‰²</h1><p>markdown å¯ä»¥é€šè¿‡åƒhtmlä¸€æ ·ï¼Œå¯ä»¥é€šè¿‡æ ‡ç­¾æ ·å¼è®©æ–‡æœ¬æœ‰ä¸€å®šçš„æ ¼å¼ã€‚</p>\n<pre><code>&lt;font color=&quot;red&quot;&gt;test&lt;/font&gt;\n</code></pre><p>æ•ˆæœå¦‚ä¸‹ï¼š<br><img src=\"https://img.mupaie.com/20190226111339130.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>å…·ä½“éœ€è¦å®ç°ä»€ä¹ˆæ ·å¼ï¼Œå‚è€ƒ<a href=\"http://www.runoob.com/css/css-text.html\" target=\"_blank\" rel=\"noopener\">cssæ–‡æ¡£</a></p>\n<h1 id=\"5-æ€»ç»“\"><a href=\"#5-æ€»ç»“\" class=\"headerlink\" title=\"5. æ€»ç»“\"></a>5. æ€»ç»“</h1><p>ä»Šå¤©ç®€å•ä»‹ç»äº†markdownï¼Œå¹¶é€šè¿‡å‡ ä¸ªä¾‹å­æ¥å±•ç¤ºå…·ä½“ç”¨æ³•ã€‚å…¶å®markdownè¿˜æœ‰å¾ˆå¤šå†…å®¹ï¼Œæ‰€ä»¥éœ€è¦å¤§å®¶åœ¨ä»¥åä½¿ç”¨ä¸­å¤šç§¯ç´¯å¤šå®Œå–„ï¼Œè¿™æ ·æ‰èƒ½æ›´å¥½çš„ä½¿ç”¨å’ŒæŒmarkdownã€‚</p>\n<p>å‚è€ƒæ–‡æ¡£ï¼š<br><a href=\"https://coding.net/help/doc/project/markdown.html#i-6\" target=\"_blank\" rel=\"noopener\">Markdown è¯­æ³•ä»‹ç»</a><br><a href=\"https://blog.csdn.net/u010177286/article/details/50358720\" target=\"_blank\" rel=\"noopener\">Markdownä½¿ç”¨æŠ€å·§æ€»ç»“â€”â€”å­—ä½“ï¼Œé¢œè‰²ï¼Œå­—å·ï¼ŒèƒŒæ™¯ï¼Œé¦–è¡Œç¼©è¿›ç­‰</a><br><a href=\"https://blog.csdn.net/bao19901210/article/details/54625703\" target=\"_blank\" rel=\"noopener\">å…¨è§’åŠè§’ &amp;&amp; 6ç§ç©ºç™½ç©ºæ ¼çš„åŒºåˆ«</a><br><a href=\"https://zh.wikipedia.org/wiki/Markdown\" target=\"_blank\" rel=\"noopener\">ç»´åŸºç™¾ç§‘ markdownä»‹ç»</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>ç”±äºæœ€è¿‘å†™åšå®¢éœ€è¦ï¼Œäº†è§£åˆ°ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€-markdownã€‚ä¸‹é¢æ¥è¯´ä¸€ä¸‹å…³äºä¸€äº›markdownçš„çŸ¥è¯†ï¼š</p>\n<h1 id=\"1-markdownæ˜¯ä»€ä¹ˆï¼Ÿ\"><a href=\"#1-markdownæ˜¯ä»€ä¹ˆï¼Ÿ\" class=\"headerlink\" title=\"1. markdownæ˜¯ä»€ä¹ˆï¼Ÿ\"></a>1. markdownæ˜¯ä»€ä¹ˆï¼Ÿ</h1><p>Markdownæ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œåˆ›å§‹äººä¸ºçº¦ç¿°Â·æ ¼é²ä¼¯ï¼ˆè‹±è¯­ï¼šJohn Gruberï¼‰ã€‚å®ƒå…è®¸äººä»¬â€œä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ï¼Œç„¶åè½¬æ¢æˆæœ‰æ•ˆçš„XHTMLï¼ˆæˆ–è€…HTMLï¼‰æ–‡æ¡£â€ã€‚è¿™ç§è¯­è¨€å¸æ”¶äº†å¾ˆå¤šåœ¨ç”µå­é‚®ä»¶ä¸­å·²æœ‰çš„çº¯æ–‡æœ¬æ ‡è®°çš„ç‰¹æ€§ã€‚</p>\n<h1 id=\"2-markdownçš„å†å²å‘å±•ï¼Ÿ\"><a href=\"#2-markdownçš„å†å²å‘å±•ï¼Ÿ\" class=\"headerlink\" title=\"2. markdownçš„å†å²å‘å±•ï¼Ÿ\"></a>2. markdownçš„å†å²å‘å±•ï¼Ÿ</h1><p>John Gruber åœ¨ 2004 å¹´åˆ›é€ äº† Markdown è¯­è¨€ï¼Œåœ¨è¯­æ³•ä¸Šæœ‰å¾ˆå¤§ä¸€éƒ¨åˆ†æ˜¯è·Ÿäºšä¼¦Â·æ–¯æ²ƒèŒ¨ï¼ˆAaron Swartzï¼‰å…±åŒåˆä½œçš„ã€‚è¿™ä¸ªè¯­è¨€çš„ç›®çš„æ˜¯å¸Œæœ›å¤§å®¶ä½¿ç”¨â€œæ˜“äºé˜…è¯»ã€æ˜“äºæ’°å†™çš„çº¯æ–‡å­—æ ¼å¼ï¼Œå¹¶é€‰æ‹©æ€§çš„è½¬æ¢æˆæœ‰æ•ˆçš„XHTMLï¼ˆæˆ–æ˜¯HTMLï¼‰â€ã€‚ å…¶ä¸­æœ€é‡è¦çš„è®¾è®¡æ˜¯å¯è¯»æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªè¯­è¨€åº”è¯¥è¦èƒ½ç›´æ¥åœ¨å­—é¢ä¸Šçš„è¢«é˜…è¯»ï¼Œè€Œä¸ç”¨è¢«ä¸€äº›æ ¼å¼åŒ–æŒ‡ä»¤æ ‡è®°ï¼ˆåƒæ˜¯RTFä¸HTMLï¼‰ã€‚ å› æ­¤ï¼Œå®ƒæ˜¯ç°è¡Œç”µå­é‚®ä»¶æ ‡è®°æ ¼å¼çš„æƒ¯ä¾‹ï¼Œè™½ç„¶å®ƒä¹Ÿå€Ÿé‰´äº†å¾ˆå¤šæ—©æœŸçš„æ ‡è®°è¯­è¨€ï¼Œå¦‚ï¼šSetextã€Texileã€reStructuredTextã€‚Gruberä¹Ÿç¼–å†™äº†çš„Perlè„šæœ¬ï¼šMarkdown.plï¼Œç”¨äºæŠŠmarkdownè¯­æ³•ç¼–å†™çš„å†…å®¹è½¬æ¢æˆæœ‰æ•ˆçš„ã€ç»“æ„è‰¯å¥½çš„XHTMLæˆ–HTMLå†…å®¹ï¼Œå¹¶å°†å·¦å°–æ‹¬å·&lt;å’Œ&amp;å·æ›¿æ¢æˆå®ƒä»¬å„è‡ªçš„å­—ç¬¦å®ä½“å¼•ç”¨ã€‚å®ƒå¯ä»¥ç”¨ä½œå•ç‹¬çš„è„šæœ¬ï¼ŒBlosxomå’ŒMovable Typeçš„æ’ä»¶åˆæˆ–è€…BBEditçš„æ–‡æœ¬è¿‡æ»¤å™¨ã€‚Markdownä¹Ÿå·²ç»è¢«å…¶ä»–äººç”¨Perlå’Œåˆ«çš„ç¼–ç¨‹è¯­è¨€é‡æ–°å®ç°ï¼Œå…¶ä¸­ä¸€ä¸ªPerlæ¨¡å—æ”¾åœ¨äº†CPAN(Text::Markdown)ä¸Šã€‚å®ƒåŸºäºä¸€ä¸ªBSDé£æ ¼çš„è®¸å¯è¯åˆ†å‘å¹¶å¯ä»¥ä½œä¸ºå‡ ä¸ªå†…å®¹ç®¡ç†ç³»ç»Ÿçš„æ’ä»¶ã€‚</p>\n<h1 id=\"3-markdownèƒ½ç”¨æ¥åšä»€ä¹ˆï¼Ÿ\"><a href=\"#3-markdownèƒ½ç”¨æ¥åšä»€ä¹ˆï¼Ÿ\" class=\"headerlink\" title=\"3. markdownèƒ½ç”¨æ¥åšä»€ä¹ˆï¼Ÿ\"></a>3. markdownèƒ½ç”¨æ¥åšä»€ä¹ˆï¼Ÿ</h1><p>ç”±äºMarkdownçš„è½»é‡åŒ–ã€æ˜“è¯»æ˜“å†™ç‰¹æ€§ï¼Œå¹¶ä¸”å¯¹äºå›¾ç‰‡ï¼Œå›¾è¡¨ã€æ•°å­¦å¼éƒ½æœ‰æ”¯æŒï¼Œå½“å‰è®¸å¤šç½‘ç«™éƒ½å¹¿æ³›ä½¿ç”¨ Markdown æ¥æ’°å†™å¸®åŠ©æ–‡æ¡£æˆ–æ˜¯ç”¨äºè®ºå›ä¸Šå‘è¡¨æ¶ˆæ¯ã€‚ä¾‹å¦‚ï¼šGitHubã€redditã€Diasporaã€Stack Exchangeã€OpenStreetMap ã€SourceForgeç­‰ã€‚ç”šè‡³Markdownèƒ½è¢«ä½¿ç”¨æ¥æ’°å†™ç”µå­ä¹¦ã€‚</p>\n<h1 id=\"4-markdownçš„ä¸€äº›è¯­æ³•å’Œå¹³æ—¶ä¹¦å†™çš„æ³¨æ„ç‚¹ï¼Ÿ\"><a href=\"#4-markdownçš„ä¸€äº›è¯­æ³•å’Œå¹³æ—¶ä¹¦å†™çš„æ³¨æ„ç‚¹ï¼Ÿ\" class=\"headerlink\" title=\"4. markdownçš„ä¸€äº›è¯­æ³•å’Œå¹³æ—¶ä¹¦å†™çš„æ³¨æ„ç‚¹ï¼Ÿ\"></a>4. markdownçš„ä¸€äº›è¯­æ³•å’Œå¹³æ—¶ä¹¦å†™çš„æ³¨æ„ç‚¹ï¼Ÿ</h1><h1 id=\"4-1-æ ‡é¢˜\"><a href=\"#4-1-æ ‡é¢˜\" class=\"headerlink\" title=\"4.1. æ ‡é¢˜\"></a>4.1. æ ‡é¢˜</h1><p>ä¹¦å†™æ ‡é¢˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨æ–‡æœ¬å‰é¢åŠ ä¸Šã€# ã€å³å¯åˆ›å»ºä¸€çº§æ ‡é¢˜ï¼Œå¦‚æœæƒ³åˆ›å»ºäºŒçº§ï¼Œä¸‰çº§ï¼Œæˆ–è€…æ›´å¤šåªéœ€è¦å¢åŠ ã€# ã€çš„ä¸ªæ•°å³å¯ã€‚ä¸‹é¢å±•ç¤ºä¸€ä¸‹æ•ˆæœï¼š</p>\n<pre><code># ä¸€çº§æ ‡é¢˜\n## äºŒçº§æ ‡é¢˜\n### ä¸‰çº§æ ‡é¢˜\n#### å››çº§æ ‡é¢˜\n##### äº”çº§æ ‡é¢˜\n###### å…­çº§æ ‡é¢˜\n</code></pre><p>æ•ˆæœå¦‚ä¸‹å›¾ï¼š<br><img src=\"https://img.mupaie.com/20190226100452277.png\" alt=\"\"></p>\n<h1 id=\"4-2-å¼•ç”¨\"><a href=\"#4-2-å¼•ç”¨\" class=\"headerlink\" title=\"4.2. å¼•ç”¨\"></a>4.2. å¼•ç”¨</h1><p>åœ¨éœ€è¦çš„æ•´ä¸ªæ®µè½ç¬¬ä¸€è¡Œæœ€å‰é¢åŠ ä¸Šã€&gt;ã€å³å¯ï¼š<br>    &gt;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯<br>    æ•ˆæœå¦‚ä¸‹å›¾ï¼š<br>    <img src=\"https://img.mupaie.com/20190226101026545.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>åŒºå—å¼•ç”¨è¿˜å¯ä»¥åµŒå¥—ä½¿ç”¨<br>    &gt;  åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯<br>    &gt;  &gt; åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯<br>    &gt;  &gt; &gt; åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯<br>    <img src=\"https://img.mupaie.com/20190226101213185.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>    ä¸ä»…å¯ä»¥åµŒå¥—ä½¿ç”¨ï¼Œè¿˜å¯ä»¥å†å¼•ç”¨ä¸­åŠ å…¥æ ‡é¢˜ï¼Œåˆ—è¡¨ç­‰å…ƒç´ ï¼š<br>    &gt;  ## åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯<br>    &gt;  &gt; 1. åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯<br>    &gt;  &gt; 2.  åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯<br>    æ•ˆæœå¦‚ä¸‹å›¾ï¼š<br>    <img src=\"https://img.mupaie.com/20190226101413977.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<h1 id=\"4-3-åˆ—è¡¨\"><a href=\"#4-3-åˆ—è¡¨\" class=\"headerlink\" title=\"4.3. åˆ—è¡¨\"></a>4.3. åˆ—è¡¨</h1><p>åˆ—è¡¨åœ¨httpä¸­æœ‰æ— åºå’Œæœ‰åºåˆ—è¡¨ï¼Œmarkdownä¹Ÿæœ‰å¦‚ä¸‹ï¼š<br> <strong>æ— åºåˆ—è¡¨</strong> :ä½¿ç”¨æ˜Ÿå· ã€åŠ å·æˆ–æ˜¯å‡å·æ¥ä½œä¸ºæ ‡è®°</p>\n<pre><code>- test\n- test\n- test\n</code></pre><p>æ•ˆæœå¦‚ä¸‹å›¾ï¼š<br><img src=\"https://img.mupaie.com/20190226102026437.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>æœ‰åºåˆ—è¡¨åˆ™æ˜¯åœ¨æ–‡æœ¬å‰é¢åŠ ä¸Šæ•°å­—å’Œå°æ•°ç‚¹</p>\n<pre><code>1. test\n2. test\n3. test\n</code></pre><p>æ•ˆæœå¦‚ä¸‹å›¾ï¼š<br><img src=\"https://img.mupaie.com/20190226102236789.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>åœ¨åˆ—è¡¨ä¸­å¦‚ä½•ä½¿ç”¨å¼•ç”¨ï¼Ÿ</p>\n<pre><code>*  åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯\n    &gt; åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯\n    &gt; åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯\n</code></pre><p>åœ¨åˆ—è¡¨æ ä¸‹ï¼Œå¼•ç”¨çš„æ–‡æœ¬éœ€è¦ç¼©è¿›<br>æ•ˆæœå¦‚ä¸‹å›¾ï¼š<br><img src=\"https://img.mupaie.com/20190226102633553.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>ä»£åŠåˆ—è¡¨ï¼šè¡¨ç¤ºåˆ—è¡¨æ•°æ®æ˜¯å¦è¢«å‹¾é€‰</p>\n<pre><code>- [ ] ä¸å‹¾é€‰\n- [x] å‹¾é€‰\n</code></pre><p>æ•ˆæœå¦‚ä¸‹å›¾ï¼š<br><img src=\"https://img.mupaie.com/20190226102826784.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<h1 id=\"4-4-ä»£ç å—\"><a href=\"#4-4-ä»£ç å—\" class=\"headerlink\" title=\"4.4. ä»£ç å—\"></a>4.4. ä»£ç å—</h1><p>åªè¦æŠŠä»£ç å—åŒ…è£¹åœ¨â€œ` ä¹‹é—´ï¼Œåœ¨å›´æ å¼ä»£ç å—ä¸­ï¼Œä½ å¯ä»¥æŒ‡å®šä¸€ä¸ªå¯é€‰çš„è¯­è¨€æ ‡è¯†ç¬¦ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥ä¸ºå®ƒå¯ç”¨è¯­æ³•ç€è‰²äº†ï¼š</p>\n<pre><code><figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">require</span> <span class=\"string\">'redcarpet'</span></span><br><span class=\"line\">markdown = Redcarpet.new(<span class=\"string\">\"Hello World!\"</span>)</span><br><span class=\"line\">puts markdown.to_html</span><br></pre></td></tr></table></figure>\n</code></pre><p>æ•ˆæœå¦‚ä¸‹å›¾ï¼š<br>    <img src=\"https://img.mupaie.com/20190226103542307.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<h1 id=\"4-5-å¼ºè°ƒ\"><a href=\"#4-5-å¼ºè°ƒ\" class=\"headerlink\" title=\"4.5. å¼ºè°ƒ\"></a>4.5. å¼ºè°ƒ</h1><p>åœ¨Markdownä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <em> å’Œ  _  æ¥è¡¨ç¤ºæ–œä½“å’ŒåŠ ç²—ã€‚<br>å•ä¸ª </em> å’Œ _ ä¿®é¥°ï¼Œè¡¨ç¤ºæ–œä½“ï¼ŒåŒä¸ª * å’Œ _ ä¿®é¥°è¡¨ç¤ºç²—ä½“</p>\n<pre><code>*Markdown*\n_Markdown_\n**Markdown**\n__Markdown__\n</code></pre><p>æ•ˆæœå¦‚ä¸‹ï¼š<br><img src=\"https://img.mupaie.com/20190226104023173.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></p>\n<h1 id=\"4-6-é“¾æ¥\"><a href=\"#4-6-é“¾æ¥\" class=\"headerlink\" title=\"4.6. é“¾æ¥\"></a>4.6. é“¾æ¥</h1><pre><code>æ–‡å­—é“¾æ¥ [æ–‡å­—æè¿°](åœ°å€)\nå›¾ç‰‡é“¾æ¥ ![æ–‡å­—æè¿°](åœ°å€)\n</code></pre><p>æ•ˆæœå¦‚ä¸‹ï¼š<br><img src=\"https://img.mupaie.com/20190226104232855.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>è¿˜æœ‰ä¸€äº›è¡¨æ ¼ï¼Œä¸€äº›å·¥ç¨‹å›¾ï¼ˆæµç¨‹å›¾ï¼Œæ—¶åºå›¾ç­‰ï¼‰éƒ½å¯ä»¥ä½¿ç”¨markdownè¡¨ç°å‡ºæ¥ï¼Œæˆ‘è¿™é‡Œå°±ä¸ä¸€ä¸€ä»‹ç»äº†ï¼Œå…·ä½“å‚è€ƒ<a href=\"https://coding.net/help/doc/project/markdown.html#i-6\" target=\"_blank\" rel=\"noopener\">Markdown è¯­æ³•ä»‹ç»</a></p>\n<h1 id=\"4-7-æ¢è¡Œï¼š\"><a href=\"#4-7-æ¢è¡Œï¼š\" class=\"headerlink\" title=\"4.7. æ¢è¡Œï¼š\"></a>4.7. æ¢è¡Œï¼š</h1><p>&emsp;&emsp;1.ä½¿ç”¨ä¸¤ä¸ªä»¥ä¸Šçš„ç©ºæ ¼åŠ å›è½¦<br>&emsp;&emsp;2.ä½¿ç”¨httpæ ‡ç­¾ \\<br></p>\n<h1 id=\"4-8-é¦–è¡Œç¼©è¿›\"><a href=\"#4-8-é¦–è¡Œç¼©è¿›\" class=\"headerlink\" title=\"4.8. é¦–è¡Œç¼©è¿›\"></a>4.8. é¦–è¡Œç¼©è¿›</h1><pre><code>&amp;emsp;&amp;emsp;1. åŠè§’ç©ºæ ¼ â€œ\\&amp;ensp;â€\n&amp;emsp;&amp;emsp;2. å…¨è§’ç©ºæ ¼ â€œ\\&amp;emsp;â€\n&amp;emsp;&amp;emsp;3. ä¸æ¢è¡Œç©ºæ ¼ â€œ\\&amp;nbsp;â€\n</code></pre><h1 id=\"4-9-æ–‡æœ¬åŠ é¢œè‰²\"><a href=\"#4-9-æ–‡æœ¬åŠ é¢œè‰²\" class=\"headerlink\" title=\"4.9. æ–‡æœ¬åŠ é¢œè‰²\"></a>4.9. æ–‡æœ¬åŠ é¢œè‰²</h1><p>markdown å¯ä»¥é€šè¿‡åƒhtmlä¸€æ ·ï¼Œå¯ä»¥é€šè¿‡æ ‡ç­¾æ ·å¼è®©æ–‡æœ¬æœ‰ä¸€å®šçš„æ ¼å¼ã€‚</p>\n<pre><code>&lt;font color=&quot;red&quot;&gt;test&lt;/font&gt;\n</code></pre><p>æ•ˆæœå¦‚ä¸‹ï¼š<br><img src=\"https://img.mupaie.com/20190226111339130.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>å…·ä½“éœ€è¦å®ç°ä»€ä¹ˆæ ·å¼ï¼Œå‚è€ƒ<a href=\"http://www.runoob.com/css/css-text.html\" target=\"_blank\" rel=\"noopener\">cssæ–‡æ¡£</a></p>\n<h1 id=\"5-æ€»ç»“\"><a href=\"#5-æ€»ç»“\" class=\"headerlink\" title=\"5. æ€»ç»“\"></a>5. æ€»ç»“</h1><p>ä»Šå¤©ç®€å•ä»‹ç»äº†markdownï¼Œå¹¶é€šè¿‡å‡ ä¸ªä¾‹å­æ¥å±•ç¤ºå…·ä½“ç”¨æ³•ã€‚å…¶å®markdownè¿˜æœ‰å¾ˆå¤šå†…å®¹ï¼Œæ‰€ä»¥éœ€è¦å¤§å®¶åœ¨ä»¥åä½¿ç”¨ä¸­å¤šç§¯ç´¯å¤šå®Œå–„ï¼Œè¿™æ ·æ‰èƒ½æ›´å¥½çš„ä½¿ç”¨å’ŒæŒmarkdownã€‚</p>\n<p>å‚è€ƒæ–‡æ¡£ï¼š<br><a href=\"https://coding.net/help/doc/project/markdown.html#i-6\" target=\"_blank\" rel=\"noopener\">Markdown è¯­æ³•ä»‹ç»</a><br><a href=\"https://blog.csdn.net/u010177286/article/details/50358720\" target=\"_blank\" rel=\"noopener\">Markdownä½¿ç”¨æŠ€å·§æ€»ç»“â€”â€”å­—ä½“ï¼Œé¢œè‰²ï¼Œå­—å·ï¼ŒèƒŒæ™¯ï¼Œé¦–è¡Œç¼©è¿›ç­‰</a><br><a href=\"https://blog.csdn.net/bao19901210/article/details/54625703\" target=\"_blank\" rel=\"noopener\">å…¨è§’åŠè§’ &amp;&amp; 6ç§ç©ºç™½ç©ºæ ¼çš„åŒºåˆ«</a><br><a href=\"https://zh.wikipedia.org/wiki/Markdown\" target=\"_blank\" rel=\"noopener\">ç»´åŸºç™¾ç§‘ markdownä»‹ç»</a></p>\n"},{"title":"get è¯·æ±‚ä¸­æ–‡ä¹±ç é—®é¢˜","date":"2019-02-22T01:49:52.000Z","_content":"å¯¹äºæµè§ˆå™¨å‘å‡ºçš„HTTPè¯·æ±‚ï¼š tomcat é»˜è®¤æ˜¯ISO-8859-1 è§£ç \n\nÂ Â  URIï¼šÂ xxxxx.action?key=\"+encodeURIComponent(â€œä¸­æ–‡â€)\n\nÂ Â  åœ¨æœåŠ¡å™¨è·å– åˆ°keyçš„å€¼æ˜¯tomcatä½¿ç”¨ ISO-8859-1ç¼–ç è¿›è¡Œè§£ç çš„å­—ç¬¦ï¼Œä¼šå‡ºç°ä¹±ç çš„é—®é¢˜ã€‚ç›®å‰æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥è§£å†³è¯¥é—®é¢˜ã€‚\n\nÂ Â Â  1ï¼šé€šè¿‡è½¬æˆç¼–ç ä¸ºISO-8859-1å­—èŠ‚æ•°ç»„ï¼Œç„¶åå†è½¬æˆUTF-8çš„å­—ç¬¦ä¸²\n\nÂ String value= new String(request.getParameter(\"key\").getBytes(\"ISO-8859-1\"), \"UTF-8\");Â \n\nÂ Â Â  2ï¼šåœ¨é¡µé¢ä¸Šè¿›è¡Œä¸¤æ¬¡ç¼–ç \n\nÂ Â Â Â Â Â Â  xxxxx.action?key=\"+encodeURIComponentï¼ˆencodeURIComponent(â€œä¸­æ–‡â€)ï¼‰\n\nåå°è·å–æ•°æ®ï¼šÂ String value= URLDecoder.decode(Â request.getParameter(\"key\"),\"UTF-8\")\n\nå®ç°åŸç†ï¼š\n\n.encodeURLå‡½æ•°ä¸»è¦æ˜¯æ¥å¯¹URIæ¥åšè½¬ç ï¼Œå®ƒé»˜è®¤æ˜¯é‡‡ç”¨çš„UTF-8çš„ç¼–ç .\n\n. UTF-8ç¼–ç çš„æ ¼å¼:ä¸€ä¸ªæ±‰å­—æ¥ä¸‰ä¸ªå­—èŠ‚æ„æˆï¼Œæ¯ä¸€ä¸ªå­—èŠ‚ä¼šè½¬æ¢æˆ16è¿›åˆ¶çš„ç¼–ç ï¼ŒåŒæ—¶æ·»åŠ ä¸Š%å·.\n\nå‡è®¾é¡µé¢ç«¯è¾“å…¥çš„ä¸­æ–‡æ˜¯ä¸€ä¸ªâ€œä¸­â€ï¼ŒæŒ‰ç…§ä¸‹é¢æ­¥éª¤è¿›è¡Œè§£ç \n\nÂ Â Â  1.ç¬¬ä¸€æ¬¡encodeURIï¼ŒæŒ‰ç…§utf-8æ–¹å¼è·å–å­—èŠ‚æ•°ç»„å˜æˆ[-28,-72-83]ï¼Œå¯¹å­—èŠ‚ç æ•°ç»„è¿›è¡Œéå†ï¼ŒæŠŠæ¯ä¸ªå­—èŠ‚è½¬åŒ–æˆå¯¹åº”çš„16è¿›åˆ¶æ•°ï¼Œè¿™æ ·å°±å˜æˆäº†[E4,B8,AD],æœ€åå˜æˆ[%E4,%B8,%AD] Â æ­¤æ—¶å·²ç»æ²¡æœ‰äº†å¤šå­—èŠ‚å­—ç¬¦ï¼Œå…¨éƒ¨æ˜¯å•å­—èŠ‚å­—ç¬¦ã€‚\n\nÂ Â Â  2ã€ç¬¬äºŒæ¬¡encodeURIï¼Œè¿›è¡Œç¼–ç ï¼Œä¼šæŠŠ%çœ‹æˆä¸€ä¸ªè½¬ä¹‰å­—ç¬¦ï¼Œå¹¶ä¸ç¼–ç %ä»¥åå­—ç¬¦ï¼Œä¼šæŠŠ%ç¼–ç æˆ%25.æŠŠæ•°ç»„æœ€åå˜æˆ[%25E4,%25B8,%25AD]ç„¶åå°±æŠŠå¤„ç†åçš„æ•°æ®[%25E4,%25B8,%25AD]å‘å¾€æœåŠ¡å™¨ç«¯ï¼Œ\n\nÂ Â Â  å½“åº”ç”¨æœåŠ¡å™¨è°ƒç”¨getParameteræ–¹æ³•ï¼ŒgetParameteræ–¹æ³•ä¼šå»å‘åº”ç”¨æœåŠ¡å™¨è¯·æ±‚å‚æ•°åº”ç”¨æœåŠ¡å™¨æœ€åˆè·å¾—çš„å°±æ˜¯å‘é€æ¥çš„[%25E4,%25B8,%25AD]ï¼Œåº”ç”¨æœåŠ¡å™¨ä¼šå¯¹è¿™ä¸ªæ•°æ®è¿›è¡ŒURLdecodeæ“ä½œï¼Œåº”ç”¨æœåŠ¡å™¨è¿›è¡Œè§£ç çš„è¿™ä¸€æ¬¡ï¼Œä¸ç®¡æ˜¯æŒ‰ç…§UTF-8ï¼Œè¿˜æ˜¯GBKï¼Œè¿˜æ˜¯ISO-8859ï¼Œ,éƒ½èƒ½å¾—åˆ°[%E4,%B8,%AD]ï¼Œå› ä¸ºéƒ½ä¼šæŠŠ%25è§£ææˆ%.å¹¶æŠŠè¿™ä¸ªå€¼è¿”å›ç»™getParameteræ–¹æ³•\n\nÂ Â Â  3ã€å†ç”¨UTF-8è§£ç ä¸€æ¬¡ï¼Œå°±å¾—åˆ°\"ä¸­\"äº†ã€‚\n\n","source":"_posts/get-è¯·æ±‚ä¸­æ–‡ä¹±ç é—®é¢˜.md","raw":"---\ntitle: get è¯·æ±‚ä¸­æ–‡ä¹±ç é—®é¢˜\ndate: 2019-02-22 09:49:52\ntags:\n- springMvc\n- å­—ç¬¦ç¼–ç \n---\nå¯¹äºæµè§ˆå™¨å‘å‡ºçš„HTTPè¯·æ±‚ï¼š tomcat é»˜è®¤æ˜¯ISO-8859-1 è§£ç \n\nÂ Â  URIï¼šÂ xxxxx.action?key=\"+encodeURIComponent(â€œä¸­æ–‡â€)\n\nÂ Â  åœ¨æœåŠ¡å™¨è·å– åˆ°keyçš„å€¼æ˜¯tomcatä½¿ç”¨ ISO-8859-1ç¼–ç è¿›è¡Œè§£ç çš„å­—ç¬¦ï¼Œä¼šå‡ºç°ä¹±ç çš„é—®é¢˜ã€‚ç›®å‰æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥è§£å†³è¯¥é—®é¢˜ã€‚\n\nÂ Â Â  1ï¼šé€šè¿‡è½¬æˆç¼–ç ä¸ºISO-8859-1å­—èŠ‚æ•°ç»„ï¼Œç„¶åå†è½¬æˆUTF-8çš„å­—ç¬¦ä¸²\n\nÂ String value= new String(request.getParameter(\"key\").getBytes(\"ISO-8859-1\"), \"UTF-8\");Â \n\nÂ Â Â  2ï¼šåœ¨é¡µé¢ä¸Šè¿›è¡Œä¸¤æ¬¡ç¼–ç \n\nÂ Â Â Â Â Â Â  xxxxx.action?key=\"+encodeURIComponentï¼ˆencodeURIComponent(â€œä¸­æ–‡â€)ï¼‰\n\nåå°è·å–æ•°æ®ï¼šÂ String value= URLDecoder.decode(Â request.getParameter(\"key\"),\"UTF-8\")\n\nå®ç°åŸç†ï¼š\n\n.encodeURLå‡½æ•°ä¸»è¦æ˜¯æ¥å¯¹URIæ¥åšè½¬ç ï¼Œå®ƒé»˜è®¤æ˜¯é‡‡ç”¨çš„UTF-8çš„ç¼–ç .\n\n. UTF-8ç¼–ç çš„æ ¼å¼:ä¸€ä¸ªæ±‰å­—æ¥ä¸‰ä¸ªå­—èŠ‚æ„æˆï¼Œæ¯ä¸€ä¸ªå­—èŠ‚ä¼šè½¬æ¢æˆ16è¿›åˆ¶çš„ç¼–ç ï¼ŒåŒæ—¶æ·»åŠ ä¸Š%å·.\n\nå‡è®¾é¡µé¢ç«¯è¾“å…¥çš„ä¸­æ–‡æ˜¯ä¸€ä¸ªâ€œä¸­â€ï¼ŒæŒ‰ç…§ä¸‹é¢æ­¥éª¤è¿›è¡Œè§£ç \n\nÂ Â Â  1.ç¬¬ä¸€æ¬¡encodeURIï¼ŒæŒ‰ç…§utf-8æ–¹å¼è·å–å­—èŠ‚æ•°ç»„å˜æˆ[-28,-72-83]ï¼Œå¯¹å­—èŠ‚ç æ•°ç»„è¿›è¡Œéå†ï¼ŒæŠŠæ¯ä¸ªå­—èŠ‚è½¬åŒ–æˆå¯¹åº”çš„16è¿›åˆ¶æ•°ï¼Œè¿™æ ·å°±å˜æˆäº†[E4,B8,AD],æœ€åå˜æˆ[%E4,%B8,%AD] Â æ­¤æ—¶å·²ç»æ²¡æœ‰äº†å¤šå­—èŠ‚å­—ç¬¦ï¼Œå…¨éƒ¨æ˜¯å•å­—èŠ‚å­—ç¬¦ã€‚\n\nÂ Â Â  2ã€ç¬¬äºŒæ¬¡encodeURIï¼Œè¿›è¡Œç¼–ç ï¼Œä¼šæŠŠ%çœ‹æˆä¸€ä¸ªè½¬ä¹‰å­—ç¬¦ï¼Œå¹¶ä¸ç¼–ç %ä»¥åå­—ç¬¦ï¼Œä¼šæŠŠ%ç¼–ç æˆ%25.æŠŠæ•°ç»„æœ€åå˜æˆ[%25E4,%25B8,%25AD]ç„¶åå°±æŠŠå¤„ç†åçš„æ•°æ®[%25E4,%25B8,%25AD]å‘å¾€æœåŠ¡å™¨ç«¯ï¼Œ\n\nÂ Â Â  å½“åº”ç”¨æœåŠ¡å™¨è°ƒç”¨getParameteræ–¹æ³•ï¼ŒgetParameteræ–¹æ³•ä¼šå»å‘åº”ç”¨æœåŠ¡å™¨è¯·æ±‚å‚æ•°åº”ç”¨æœåŠ¡å™¨æœ€åˆè·å¾—çš„å°±æ˜¯å‘é€æ¥çš„[%25E4,%25B8,%25AD]ï¼Œåº”ç”¨æœåŠ¡å™¨ä¼šå¯¹è¿™ä¸ªæ•°æ®è¿›è¡ŒURLdecodeæ“ä½œï¼Œåº”ç”¨æœåŠ¡å™¨è¿›è¡Œè§£ç çš„è¿™ä¸€æ¬¡ï¼Œä¸ç®¡æ˜¯æŒ‰ç…§UTF-8ï¼Œè¿˜æ˜¯GBKï¼Œè¿˜æ˜¯ISO-8859ï¼Œ,éƒ½èƒ½å¾—åˆ°[%E4,%B8,%AD]ï¼Œå› ä¸ºéƒ½ä¼šæŠŠ%25è§£ææˆ%.å¹¶æŠŠè¿™ä¸ªå€¼è¿”å›ç»™getParameteræ–¹æ³•\n\nÂ Â Â  3ã€å†ç”¨UTF-8è§£ç ä¸€æ¬¡ï¼Œå°±å¾—åˆ°\"ä¸­\"äº†ã€‚\n\n","slug":"get-è¯·æ±‚ä¸­æ–‡ä¹±ç é—®é¢˜","published":1,"updated":"2019-07-14T03:11:26.961Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkctub000g4osxogiqqu65","content":"<p>å¯¹äºæµè§ˆå™¨å‘å‡ºçš„HTTPè¯·æ±‚ï¼š tomcat é»˜è®¤æ˜¯ISO-8859-1 è§£ç </p>\n<p>   URIï¼š xxxxx.action?key=â€+encodeURIComponent(â€œä¸­æ–‡â€)</p>\n<p>   åœ¨æœåŠ¡å™¨è·å– åˆ°keyçš„å€¼æ˜¯tomcatä½¿ç”¨ ISO-8859-1ç¼–ç è¿›è¡Œè§£ç çš„å­—ç¬¦ï¼Œä¼šå‡ºç°ä¹±ç çš„é—®é¢˜ã€‚ç›®å‰æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥è§£å†³è¯¥é—®é¢˜ã€‚</p>\n<pre><code>1ï¼šé€šè¿‡è½¬æˆç¼–ç ä¸ºISO-8859-1å­—èŠ‚æ•°ç»„ï¼Œç„¶åå†è½¬æˆUTF-8çš„å­—ç¬¦ä¸²\n</code></pre><p> String value= new String(request.getParameter(â€œkeyâ€).getBytes(â€œISO-8859-1â€), â€œUTF-8â€); </p>\n<pre><code>2ï¼šåœ¨é¡µé¢ä¸Šè¿›è¡Œä¸¤æ¬¡ç¼–ç \n\n    xxxxx.action?key=&quot;+encodeURIComponentï¼ˆencodeURIComponent(â€œä¸­æ–‡â€)ï¼‰\n</code></pre><p>åå°è·å–æ•°æ®ï¼š String value= URLDecoder.decode( request.getParameter(â€œkeyâ€),â€UTF-8â€)</p>\n<p>å®ç°åŸç†ï¼š</p>\n<p>.encodeURLå‡½æ•°ä¸»è¦æ˜¯æ¥å¯¹URIæ¥åšè½¬ç ï¼Œå®ƒé»˜è®¤æ˜¯é‡‡ç”¨çš„UTF-8çš„ç¼–ç .</p>\n<p>. UTF-8ç¼–ç çš„æ ¼å¼:ä¸€ä¸ªæ±‰å­—æ¥ä¸‰ä¸ªå­—èŠ‚æ„æˆï¼Œæ¯ä¸€ä¸ªå­—èŠ‚ä¼šè½¬æ¢æˆ16è¿›åˆ¶çš„ç¼–ç ï¼ŒåŒæ—¶æ·»åŠ ä¸Š%å·.</p>\n<p>å‡è®¾é¡µé¢ç«¯è¾“å…¥çš„ä¸­æ–‡æ˜¯ä¸€ä¸ªâ€œä¸­â€ï¼ŒæŒ‰ç…§ä¸‹é¢æ­¥éª¤è¿›è¡Œè§£ç </p>\n<pre><code>1.ç¬¬ä¸€æ¬¡encodeURIï¼ŒæŒ‰ç…§utf-8æ–¹å¼è·å–å­—èŠ‚æ•°ç»„å˜æˆ[-28,-72-83]ï¼Œå¯¹å­—èŠ‚ç æ•°ç»„è¿›è¡Œéå†ï¼ŒæŠŠæ¯ä¸ªå­—èŠ‚è½¬åŒ–æˆå¯¹åº”çš„16è¿›åˆ¶æ•°ï¼Œè¿™æ ·å°±å˜æˆäº†[E4,B8,AD],æœ€åå˜æˆ[%E4,%B8,%AD]  æ­¤æ—¶å·²ç»æ²¡æœ‰äº†å¤šå­—èŠ‚å­—ç¬¦ï¼Œå…¨éƒ¨æ˜¯å•å­—èŠ‚å­—ç¬¦ã€‚\n\n2ã€ç¬¬äºŒæ¬¡encodeURIï¼Œè¿›è¡Œç¼–ç ï¼Œä¼šæŠŠ%çœ‹æˆä¸€ä¸ªè½¬ä¹‰å­—ç¬¦ï¼Œå¹¶ä¸ç¼–ç %ä»¥åå­—ç¬¦ï¼Œä¼šæŠŠ%ç¼–ç æˆ%25.æŠŠæ•°ç»„æœ€åå˜æˆ[%25E4,%25B8,%25AD]ç„¶åå°±æŠŠå¤„ç†åçš„æ•°æ®[%25E4,%25B8,%25AD]å‘å¾€æœåŠ¡å™¨ç«¯ï¼Œ\n\nå½“åº”ç”¨æœåŠ¡å™¨è°ƒç”¨getParameteræ–¹æ³•ï¼ŒgetParameteræ–¹æ³•ä¼šå»å‘åº”ç”¨æœåŠ¡å™¨è¯·æ±‚å‚æ•°åº”ç”¨æœåŠ¡å™¨æœ€åˆè·å¾—çš„å°±æ˜¯å‘é€æ¥çš„[%25E4,%25B8,%25AD]ï¼Œåº”ç”¨æœåŠ¡å™¨ä¼šå¯¹è¿™ä¸ªæ•°æ®è¿›è¡ŒURLdecodeæ“ä½œï¼Œåº”ç”¨æœåŠ¡å™¨è¿›è¡Œè§£ç çš„è¿™ä¸€æ¬¡ï¼Œä¸ç®¡æ˜¯æŒ‰ç…§UTF-8ï¼Œè¿˜æ˜¯GBKï¼Œè¿˜æ˜¯ISO-8859ï¼Œ,éƒ½èƒ½å¾—åˆ°[%E4,%B8,%AD]ï¼Œå› ä¸ºéƒ½ä¼šæŠŠ%25è§£ææˆ%.å¹¶æŠŠè¿™ä¸ªå€¼è¿”å›ç»™getParameteræ–¹æ³•\n\n3ã€å†ç”¨UTF-8è§£ç ä¸€æ¬¡ï¼Œå°±å¾—åˆ°&quot;ä¸­&quot;äº†ã€‚\n</code></pre>","site":{"data":{}},"excerpt":"","more":"<p>å¯¹äºæµè§ˆå™¨å‘å‡ºçš„HTTPè¯·æ±‚ï¼š tomcat é»˜è®¤æ˜¯ISO-8859-1 è§£ç </p>\n<p>   URIï¼š xxxxx.action?key=â€+encodeURIComponent(â€œä¸­æ–‡â€)</p>\n<p>   åœ¨æœåŠ¡å™¨è·å– åˆ°keyçš„å€¼æ˜¯tomcatä½¿ç”¨ ISO-8859-1ç¼–ç è¿›è¡Œè§£ç çš„å­—ç¬¦ï¼Œä¼šå‡ºç°ä¹±ç çš„é—®é¢˜ã€‚ç›®å‰æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥è§£å†³è¯¥é—®é¢˜ã€‚</p>\n<pre><code>1ï¼šé€šè¿‡è½¬æˆç¼–ç ä¸ºISO-8859-1å­—èŠ‚æ•°ç»„ï¼Œç„¶åå†è½¬æˆUTF-8çš„å­—ç¬¦ä¸²\n</code></pre><p> String value= new String(request.getParameter(â€œkeyâ€).getBytes(â€œISO-8859-1â€), â€œUTF-8â€); </p>\n<pre><code>2ï¼šåœ¨é¡µé¢ä¸Šè¿›è¡Œä¸¤æ¬¡ç¼–ç \n\n    xxxxx.action?key=&quot;+encodeURIComponentï¼ˆencodeURIComponent(â€œä¸­æ–‡â€)ï¼‰\n</code></pre><p>åå°è·å–æ•°æ®ï¼š String value= URLDecoder.decode( request.getParameter(â€œkeyâ€),â€UTF-8â€)</p>\n<p>å®ç°åŸç†ï¼š</p>\n<p>.encodeURLå‡½æ•°ä¸»è¦æ˜¯æ¥å¯¹URIæ¥åšè½¬ç ï¼Œå®ƒé»˜è®¤æ˜¯é‡‡ç”¨çš„UTF-8çš„ç¼–ç .</p>\n<p>. UTF-8ç¼–ç çš„æ ¼å¼:ä¸€ä¸ªæ±‰å­—æ¥ä¸‰ä¸ªå­—èŠ‚æ„æˆï¼Œæ¯ä¸€ä¸ªå­—èŠ‚ä¼šè½¬æ¢æˆ16è¿›åˆ¶çš„ç¼–ç ï¼ŒåŒæ—¶æ·»åŠ ä¸Š%å·.</p>\n<p>å‡è®¾é¡µé¢ç«¯è¾“å…¥çš„ä¸­æ–‡æ˜¯ä¸€ä¸ªâ€œä¸­â€ï¼ŒæŒ‰ç…§ä¸‹é¢æ­¥éª¤è¿›è¡Œè§£ç </p>\n<pre><code>1.ç¬¬ä¸€æ¬¡encodeURIï¼ŒæŒ‰ç…§utf-8æ–¹å¼è·å–å­—èŠ‚æ•°ç»„å˜æˆ[-28,-72-83]ï¼Œå¯¹å­—èŠ‚ç æ•°ç»„è¿›è¡Œéå†ï¼ŒæŠŠæ¯ä¸ªå­—èŠ‚è½¬åŒ–æˆå¯¹åº”çš„16è¿›åˆ¶æ•°ï¼Œè¿™æ ·å°±å˜æˆäº†[E4,B8,AD],æœ€åå˜æˆ[%E4,%B8,%AD]  æ­¤æ—¶å·²ç»æ²¡æœ‰äº†å¤šå­—èŠ‚å­—ç¬¦ï¼Œå…¨éƒ¨æ˜¯å•å­—èŠ‚å­—ç¬¦ã€‚\n\n2ã€ç¬¬äºŒæ¬¡encodeURIï¼Œè¿›è¡Œç¼–ç ï¼Œä¼šæŠŠ%çœ‹æˆä¸€ä¸ªè½¬ä¹‰å­—ç¬¦ï¼Œå¹¶ä¸ç¼–ç %ä»¥åå­—ç¬¦ï¼Œä¼šæŠŠ%ç¼–ç æˆ%25.æŠŠæ•°ç»„æœ€åå˜æˆ[%25E4,%25B8,%25AD]ç„¶åå°±æŠŠå¤„ç†åçš„æ•°æ®[%25E4,%25B8,%25AD]å‘å¾€æœåŠ¡å™¨ç«¯ï¼Œ\n\nå½“åº”ç”¨æœåŠ¡å™¨è°ƒç”¨getParameteræ–¹æ³•ï¼ŒgetParameteræ–¹æ³•ä¼šå»å‘åº”ç”¨æœåŠ¡å™¨è¯·æ±‚å‚æ•°åº”ç”¨æœåŠ¡å™¨æœ€åˆè·å¾—çš„å°±æ˜¯å‘é€æ¥çš„[%25E4,%25B8,%25AD]ï¼Œåº”ç”¨æœåŠ¡å™¨ä¼šå¯¹è¿™ä¸ªæ•°æ®è¿›è¡ŒURLdecodeæ“ä½œï¼Œåº”ç”¨æœåŠ¡å™¨è¿›è¡Œè§£ç çš„è¿™ä¸€æ¬¡ï¼Œä¸ç®¡æ˜¯æŒ‰ç…§UTF-8ï¼Œè¿˜æ˜¯GBKï¼Œè¿˜æ˜¯ISO-8859ï¼Œ,éƒ½èƒ½å¾—åˆ°[%E4,%B8,%AD]ï¼Œå› ä¸ºéƒ½ä¼šæŠŠ%25è§£ææˆ%.å¹¶æŠŠè¿™ä¸ªå€¼è¿”å›ç»™getParameteræ–¹æ³•\n\n3ã€å†ç”¨UTF-8è§£ç ä¸€æ¬¡ï¼Œå°±å¾—åˆ°&quot;ä¸­&quot;äº†ã€‚\n</code></pre>"},{"title":"jså®ç°ç²˜è´´æ¿åŠŸèƒ½","date":"2019-02-22T02:28:47.000Z","_content":"jså®ç°ç²˜è´´æ¿æ–¹å¼æœ‰document.exeCommadï¼Œwindow.clipboardDataçš„setDataæ–¹æ³•ï¼Œè¿˜æœ‰ä½¿ç”¨ZeroClipboardæ’ä»¶\n\n# 1. é€šè¿‡documentæä¾›çš„exeCommadæ–¹æ³•å®ç°ç²˜è´´æ¿åŠŸèƒ½Â \n    <!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n        <meta charset=\"UTF-8\">\n        <title>Title</title>\n    </head>\n    <body>\n    <input type=\"button\" onClick='copyUrls(this)' value=\"æ–¹å¼äºŒ\">\n    \n    <script language=\"javascript\">\n        function copyUrls(that) {\n            let textArea = document.createElement(\"textarea\")\n            textArea.style.position = 'fixed'\n            textArea.style.top = 0\n            textArea.style.left = 0\n            textArea.style.width = '2em'\n            textArea.style.height = '2em'\n            textArea.style.padding = 0\n            textArea.style.border = 'none'\n            textArea.style.outline = 'none'\n            textArea.style.boxShadow = 'none'\n            textArea.style.background = 'transparent'\n            textArea.value = that.value\n            document.body.appendChild(textArea)\n            textArea.select()\n            try {\n                document.execCommand('copy')\n            } catch (err) {\n                this.throwError('ä¸èƒ½ä½¿ç”¨è¿™ç§æ–¹æ³•å¤åˆ¶å†…å®¹'+err.toString())\n            }\n            document.body.removeChild(textArea)\n        }\n    </script>\n    </body>\n    </html>\n\nä¼˜ç‚¹ä¸éœ€è¦å¼•ç”¨å¤–éƒ¨æ’ä»¶\n\n* googleæµè§ˆå™¨ï¼ˆå…¼å®¹ï¼‰\n* IEæµè§ˆå™¨ï¼ˆå…¼å®¹ï¼‰\n* ç«ç‹ï¼ˆå…¼å®¹ï¼‰ ï¼\n\nexeCommad è¿˜æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œå¾…ç»­\n\n# 2. window.clipboardDataçš„setDataæ–¹æ³•\n\n* googleæµè§ˆå™¨ï¼ˆä¸å…¼å®¹ï¼‰\n* IEæµè§ˆå™¨ï¼ˆå…¼å®¹ï¼‰\n* ç«ç‹ï¼ˆä¸å…¼å®¹ï¼‰\n    <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\">\n            <title>Title</title>\n        </head>\n        <body>\n    \n        <input type=\"button\" onClick='copyUrl()' value=\"æ–¹å¼ä¸€\">\n        <script language=\"javascript\">\n            function copyUrl() {\n                var clipBoardContent=\"test\";\n                window.clipboardData.setData(\"Text\",clipBoardContent);\n                alert(\"å¤åˆ¶æˆåŠŸ!\");\n            }\n        </script>\n        </body>\n        </html>\n\n# 3. é€šè¿‡æ’ä»¶clipboardæ–¹å¼å®ç° https://github.com/zenorocha/clipboard.js\n\n    <!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n        <meta charset=\"UTF-8\">\n        <title>Title</title>\n        <script src=\"clipboard.min.js\"></script>\n    </head>\n    <body>\n    \n    <input type=\"button\" onClick='copyUrls3(this)' value=\"æ–¹å¼ä¸‰\" class=\"btn\">\n    \n    <script language=\"javascript\">\n        function copyUrls3(that) {\n            var clipboard = new ClipboardJS('.btn', {\n                text: function() {\n                    return that.value;\n                }\n            });\n    \n            clipboard.on('success', function(e) {\n                console.log(e);\n            });\n    \n            clipboard.on('error', function(e) {\n                console.log(e);\n            });\n        }\n    \n    </script>\n    </body>\n    </html>\n\n* googleæµè§ˆå™¨ï¼ˆä¸å…¼å®¹ï¼‰\n* IEæµè§ˆå™¨ï¼ˆå…¼å®¹ï¼‰\n* ç«ç‹ï¼ˆä¸å…¼å®¹ï¼‰\n\nåç»­åŠ ä¸Šå„ä¸ªç‰ˆæœ¬çš„ä¼˜ç¼ºç‚¹\n\n","source":"_posts/jså®ç°ç²˜è´´æ¿åŠŸèƒ½.md","raw":"---\ntitle: jså®ç°ç²˜è´´æ¿åŠŸèƒ½\ndate: 2019-02-22 10:28:47\ntags:\n- JavaScript\n- æµè§ˆå™¨å…¼å®¹æ€§\n---\njså®ç°ç²˜è´´æ¿æ–¹å¼æœ‰document.exeCommadï¼Œwindow.clipboardDataçš„setDataæ–¹æ³•ï¼Œè¿˜æœ‰ä½¿ç”¨ZeroClipboardæ’ä»¶\n\n# 1. é€šè¿‡documentæä¾›çš„exeCommadæ–¹æ³•å®ç°ç²˜è´´æ¿åŠŸèƒ½Â \n    <!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n        <meta charset=\"UTF-8\">\n        <title>Title</title>\n    </head>\n    <body>\n    <input type=\"button\" onClick='copyUrls(this)' value=\"æ–¹å¼äºŒ\">\n    \n    <script language=\"javascript\">\n        function copyUrls(that) {\n            let textArea = document.createElement(\"textarea\")\n            textArea.style.position = 'fixed'\n            textArea.style.top = 0\n            textArea.style.left = 0\n            textArea.style.width = '2em'\n            textArea.style.height = '2em'\n            textArea.style.padding = 0\n            textArea.style.border = 'none'\n            textArea.style.outline = 'none'\n            textArea.style.boxShadow = 'none'\n            textArea.style.background = 'transparent'\n            textArea.value = that.value\n            document.body.appendChild(textArea)\n            textArea.select()\n            try {\n                document.execCommand('copy')\n            } catch (err) {\n                this.throwError('ä¸èƒ½ä½¿ç”¨è¿™ç§æ–¹æ³•å¤åˆ¶å†…å®¹'+err.toString())\n            }\n            document.body.removeChild(textArea)\n        }\n    </script>\n    </body>\n    </html>\n\nä¼˜ç‚¹ä¸éœ€è¦å¼•ç”¨å¤–éƒ¨æ’ä»¶\n\n* googleæµè§ˆå™¨ï¼ˆå…¼å®¹ï¼‰\n* IEæµè§ˆå™¨ï¼ˆå…¼å®¹ï¼‰\n* ç«ç‹ï¼ˆå…¼å®¹ï¼‰ ï¼\n\nexeCommad è¿˜æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œå¾…ç»­\n\n# 2. window.clipboardDataçš„setDataæ–¹æ³•\n\n* googleæµè§ˆå™¨ï¼ˆä¸å…¼å®¹ï¼‰\n* IEæµè§ˆå™¨ï¼ˆå…¼å®¹ï¼‰\n* ç«ç‹ï¼ˆä¸å…¼å®¹ï¼‰\n    <!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\">\n            <title>Title</title>\n        </head>\n        <body>\n    \n        <input type=\"button\" onClick='copyUrl()' value=\"æ–¹å¼ä¸€\">\n        <script language=\"javascript\">\n            function copyUrl() {\n                var clipBoardContent=\"test\";\n                window.clipboardData.setData(\"Text\",clipBoardContent);\n                alert(\"å¤åˆ¶æˆåŠŸ!\");\n            }\n        </script>\n        </body>\n        </html>\n\n# 3. é€šè¿‡æ’ä»¶clipboardæ–¹å¼å®ç° https://github.com/zenorocha/clipboard.js\n\n    <!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n        <meta charset=\"UTF-8\">\n        <title>Title</title>\n        <script src=\"clipboard.min.js\"></script>\n    </head>\n    <body>\n    \n    <input type=\"button\" onClick='copyUrls3(this)' value=\"æ–¹å¼ä¸‰\" class=\"btn\">\n    \n    <script language=\"javascript\">\n        function copyUrls3(that) {\n            var clipboard = new ClipboardJS('.btn', {\n                text: function() {\n                    return that.value;\n                }\n            });\n    \n            clipboard.on('success', function(e) {\n                console.log(e);\n            });\n    \n            clipboard.on('error', function(e) {\n                console.log(e);\n            });\n        }\n    \n    </script>\n    </body>\n    </html>\n\n* googleæµè§ˆå™¨ï¼ˆä¸å…¼å®¹ï¼‰\n* IEæµè§ˆå™¨ï¼ˆå…¼å®¹ï¼‰\n* ç«ç‹ï¼ˆä¸å…¼å®¹ï¼‰\n\nåç»­åŠ ä¸Šå„ä¸ªç‰ˆæœ¬çš„ä¼˜ç¼ºç‚¹\n\n","slug":"jså®ç°ç²˜è´´æ¿åŠŸèƒ½","published":1,"updated":"2019-07-14T03:11:26.962Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkctuc000h4osx0jq5j09i","content":"<p>jså®ç°ç²˜è´´æ¿æ–¹å¼æœ‰document.exeCommadï¼Œwindow.clipboardDataçš„setDataæ–¹æ³•ï¼Œè¿˜æœ‰ä½¿ç”¨ZeroClipboardæ’ä»¶</p>\n<h1 id=\"1-é€šè¿‡documentæä¾›çš„exeCommadæ–¹æ³•å®ç°ç²˜è´´æ¿åŠŸèƒ½\"><a href=\"#1-é€šè¿‡documentæä¾›çš„exeCommadæ–¹æ³•å®ç°ç²˜è´´æ¿åŠŸèƒ½\" class=\"headerlink\" title=\"1. é€šè¿‡documentæä¾›çš„exeCommadæ–¹æ³•å®ç°ç²˜è´´æ¿åŠŸèƒ½\"></a>1. é€šè¿‡documentæä¾›çš„exeCommadæ–¹æ³•å®ç°ç²˜è´´æ¿åŠŸèƒ½</h1><pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;input type=&quot;button&quot; onClick=&apos;copyUrls(this)&apos; value=&quot;æ–¹å¼äºŒ&quot;&gt;\n\n&lt;script language=&quot;javascript&quot;&gt;\n    function copyUrls(that) {\n        let textArea = document.createElement(&quot;textarea&quot;)\n        textArea.style.position = &apos;fixed&apos;\n        textArea.style.top = 0\n        textArea.style.left = 0\n        textArea.style.width = &apos;2em&apos;\n        textArea.style.height = &apos;2em&apos;\n        textArea.style.padding = 0\n        textArea.style.border = &apos;none&apos;\n        textArea.style.outline = &apos;none&apos;\n        textArea.style.boxShadow = &apos;none&apos;\n        textArea.style.background = &apos;transparent&apos;\n        textArea.value = that.value\n        document.body.appendChild(textArea)\n        textArea.select()\n        try {\n            document.execCommand(&apos;copy&apos;)\n        } catch (err) {\n            this.throwError(&apos;ä¸èƒ½ä½¿ç”¨è¿™ç§æ–¹æ³•å¤åˆ¶å†…å®¹&apos;+err.toString())\n        }\n        document.body.removeChild(textArea)\n    }\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre><p>ä¼˜ç‚¹ä¸éœ€è¦å¼•ç”¨å¤–éƒ¨æ’ä»¶</p>\n<ul>\n<li>googleæµè§ˆå™¨ï¼ˆå…¼å®¹ï¼‰</li>\n<li>IEæµè§ˆå™¨ï¼ˆå…¼å®¹ï¼‰</li>\n<li>ç«ç‹ï¼ˆå…¼å®¹ï¼‰ ï¼</li>\n</ul>\n<p>exeCommad è¿˜æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œå¾…ç»­</p>\n<h1 id=\"2-window-clipboardDataçš„setDataæ–¹æ³•\"><a href=\"#2-window-clipboardDataçš„setDataæ–¹æ³•\" class=\"headerlink\" title=\"2. window.clipboardDataçš„setDataæ–¹æ³•\"></a>2. window.clipboardDataçš„setDataæ–¹æ³•</h1><ul>\n<li>googleæµè§ˆå™¨ï¼ˆä¸å…¼å®¹ï¼‰</li>\n<li>IEæµè§ˆå™¨ï¼ˆå…¼å®¹ï¼‰</li>\n<li><p>ç«ç‹ï¼ˆä¸å…¼å®¹ï¼‰<br>  &lt;!DOCTYPE html&gt;</p>\n<pre><code>&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;input type=&quot;button&quot; onClick=&apos;copyUrl()&apos; value=&quot;æ–¹å¼ä¸€&quot;&gt;\n&lt;script language=&quot;javascript&quot;&gt;\n    function copyUrl() {\n        var clipBoardContent=&quot;test&quot;;\n        window.clipboardData.setData(&quot;Text&quot;,clipBoardContent);\n        alert(&quot;å¤åˆ¶æˆåŠŸ!&quot;);\n    }\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre></li>\n</ul>\n<h1 id=\"3-é€šè¿‡æ’ä»¶clipboardæ–¹å¼å®ç°-https-github-com-zenorocha-clipboard-js\"><a href=\"#3-é€šè¿‡æ’ä»¶clipboardæ–¹å¼å®ç°-https-github-com-zenorocha-clipboard-js\" class=\"headerlink\" title=\"3. é€šè¿‡æ’ä»¶clipboardæ–¹å¼å®ç° https://github.com/zenorocha/clipboard.js\"></a>3. é€šè¿‡æ’ä»¶clipboardæ–¹å¼å®ç° <a href=\"https://github.com/zenorocha/clipboard.js\" target=\"_blank\" rel=\"noopener\">https://github.com/zenorocha/clipboard.js</a></h1><pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n    &lt;script src=&quot;clipboard.min.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;input type=&quot;button&quot; onClick=&apos;copyUrls3(this)&apos; value=&quot;æ–¹å¼ä¸‰&quot; class=&quot;btn&quot;&gt;\n\n&lt;script language=&quot;javascript&quot;&gt;\n    function copyUrls3(that) {\n        var clipboard = new ClipboardJS(&apos;.btn&apos;, {\n            text: function() {\n                return that.value;\n            }\n        });\n\n        clipboard.on(&apos;success&apos;, function(e) {\n            console.log(e);\n        });\n\n        clipboard.on(&apos;error&apos;, function(e) {\n            console.log(e);\n        });\n    }\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre><ul>\n<li>googleæµè§ˆå™¨ï¼ˆä¸å…¼å®¹ï¼‰</li>\n<li>IEæµè§ˆå™¨ï¼ˆå…¼å®¹ï¼‰</li>\n<li>ç«ç‹ï¼ˆä¸å…¼å®¹ï¼‰</li>\n</ul>\n<p>åç»­åŠ ä¸Šå„ä¸ªç‰ˆæœ¬çš„ä¼˜ç¼ºç‚¹</p>\n","site":{"data":{}},"excerpt":"","more":"<p>jså®ç°ç²˜è´´æ¿æ–¹å¼æœ‰document.exeCommadï¼Œwindow.clipboardDataçš„setDataæ–¹æ³•ï¼Œè¿˜æœ‰ä½¿ç”¨ZeroClipboardæ’ä»¶</p>\n<h1 id=\"1-é€šè¿‡documentæä¾›çš„exeCommadæ–¹æ³•å®ç°ç²˜è´´æ¿åŠŸèƒ½\"><a href=\"#1-é€šè¿‡documentæä¾›çš„exeCommadæ–¹æ³•å®ç°ç²˜è´´æ¿åŠŸèƒ½\" class=\"headerlink\" title=\"1. é€šè¿‡documentæä¾›çš„exeCommadæ–¹æ³•å®ç°ç²˜è´´æ¿åŠŸèƒ½\"></a>1. é€šè¿‡documentæä¾›çš„exeCommadæ–¹æ³•å®ç°ç²˜è´´æ¿åŠŸèƒ½</h1><pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;input type=&quot;button&quot; onClick=&apos;copyUrls(this)&apos; value=&quot;æ–¹å¼äºŒ&quot;&gt;\n\n&lt;script language=&quot;javascript&quot;&gt;\n    function copyUrls(that) {\n        let textArea = document.createElement(&quot;textarea&quot;)\n        textArea.style.position = &apos;fixed&apos;\n        textArea.style.top = 0\n        textArea.style.left = 0\n        textArea.style.width = &apos;2em&apos;\n        textArea.style.height = &apos;2em&apos;\n        textArea.style.padding = 0\n        textArea.style.border = &apos;none&apos;\n        textArea.style.outline = &apos;none&apos;\n        textArea.style.boxShadow = &apos;none&apos;\n        textArea.style.background = &apos;transparent&apos;\n        textArea.value = that.value\n        document.body.appendChild(textArea)\n        textArea.select()\n        try {\n            document.execCommand(&apos;copy&apos;)\n        } catch (err) {\n            this.throwError(&apos;ä¸èƒ½ä½¿ç”¨è¿™ç§æ–¹æ³•å¤åˆ¶å†…å®¹&apos;+err.toString())\n        }\n        document.body.removeChild(textArea)\n    }\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre><p>ä¼˜ç‚¹ä¸éœ€è¦å¼•ç”¨å¤–éƒ¨æ’ä»¶</p>\n<ul>\n<li>googleæµè§ˆå™¨ï¼ˆå…¼å®¹ï¼‰</li>\n<li>IEæµè§ˆå™¨ï¼ˆå…¼å®¹ï¼‰</li>\n<li>ç«ç‹ï¼ˆå…¼å®¹ï¼‰ ï¼</li>\n</ul>\n<p>exeCommad è¿˜æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œå¾…ç»­</p>\n<h1 id=\"2-window-clipboardDataçš„setDataæ–¹æ³•\"><a href=\"#2-window-clipboardDataçš„setDataæ–¹æ³•\" class=\"headerlink\" title=\"2. window.clipboardDataçš„setDataæ–¹æ³•\"></a>2. window.clipboardDataçš„setDataæ–¹æ³•</h1><ul>\n<li>googleæµè§ˆå™¨ï¼ˆä¸å…¼å®¹ï¼‰</li>\n<li>IEæµè§ˆå™¨ï¼ˆå…¼å®¹ï¼‰</li>\n<li><p>ç«ç‹ï¼ˆä¸å…¼å®¹ï¼‰<br>  &lt;!DOCTYPE html&gt;</p>\n<pre><code>&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;input type=&quot;button&quot; onClick=&apos;copyUrl()&apos; value=&quot;æ–¹å¼ä¸€&quot;&gt;\n&lt;script language=&quot;javascript&quot;&gt;\n    function copyUrl() {\n        var clipBoardContent=&quot;test&quot;;\n        window.clipboardData.setData(&quot;Text&quot;,clipBoardContent);\n        alert(&quot;å¤åˆ¶æˆåŠŸ!&quot;);\n    }\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre></li>\n</ul>\n<h1 id=\"3-é€šè¿‡æ’ä»¶clipboardæ–¹å¼å®ç°-https-github-com-zenorocha-clipboard-js\"><a href=\"#3-é€šè¿‡æ’ä»¶clipboardæ–¹å¼å®ç°-https-github-com-zenorocha-clipboard-js\" class=\"headerlink\" title=\"3. é€šè¿‡æ’ä»¶clipboardæ–¹å¼å®ç° https://github.com/zenorocha/clipboard.js\"></a>3. é€šè¿‡æ’ä»¶clipboardæ–¹å¼å®ç° <a href=\"https://github.com/zenorocha/clipboard.js\" target=\"_blank\" rel=\"noopener\">https://github.com/zenorocha/clipboard.js</a></h1><pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n    &lt;script src=&quot;clipboard.min.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;input type=&quot;button&quot; onClick=&apos;copyUrls3(this)&apos; value=&quot;æ–¹å¼ä¸‰&quot; class=&quot;btn&quot;&gt;\n\n&lt;script language=&quot;javascript&quot;&gt;\n    function copyUrls3(that) {\n        var clipboard = new ClipboardJS(&apos;.btn&apos;, {\n            text: function() {\n                return that.value;\n            }\n        });\n\n        clipboard.on(&apos;success&apos;, function(e) {\n            console.log(e);\n        });\n\n        clipboard.on(&apos;error&apos;, function(e) {\n            console.log(e);\n        });\n    }\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre><ul>\n<li>googleæµè§ˆå™¨ï¼ˆä¸å…¼å®¹ï¼‰</li>\n<li>IEæµè§ˆå™¨ï¼ˆå…¼å®¹ï¼‰</li>\n<li>ç«ç‹ï¼ˆä¸å…¼å®¹ï¼‰</li>\n</ul>\n<p>åç»­åŠ ä¸Šå„ä¸ªç‰ˆæœ¬çš„ä¼˜ç¼ºç‚¹</p>\n"},{"title":"java åå°„ç¬”è®°","date":"2019-02-20T10:39:41.000Z","_content":"\n\n# 1. ä»€ä¹ˆå«åå°„ï¼Ÿ\n\nåå°„æœºåˆ¶ï¼Œåœ¨Javaç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­åŠ¨æ€è·å–ç±»ä¿¡æ¯ï¼ˆå˜é‡ï¼Œæ–¹æ³•ç­‰ï¼‰ï¼Œä»¥åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡æ–¹æ³•çš„åŠŸèƒ½ï¼Œé‡ç‚¹æ˜¯åœ¨**ç¨‹åºè¿è¡Œä¸­**\n\nå®˜æ–¹å¯¹åå°„çš„è§£é‡Šï¼š\n\né€šè¿‡åå°„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿è¡Œæ—¶è·å¾—ç¨‹åºæˆ–ç¨‹åºé›†ä¸­æ¯ä¸€ä¸ªç±»å‹çš„æˆå‘˜å’Œæˆå‘˜çš„ä¿¡æ¯ã€‚ç¨‹åºä¸­ä¸€èˆ¬çš„å¯¹è±¡çš„ç±»å‹éƒ½æ˜¯åœ¨ç¼–è¯‘æœŸå°±ç¡®å®šä¸‹æ¥çš„ï¼Œè€Œ Java åå°„æœºåˆ¶å¯ä»¥åŠ¨æ€åœ°åˆ›å»ºå¯¹è±¡å¹¶è°ƒç”¨å…¶å±æ€§ï¼Œè¿™æ ·çš„å¯¹è±¡çš„ç±»å‹åœ¨ç¼–è¯‘æœŸæ˜¯æœªçŸ¥çš„ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æœºåˆ¶ç›´æ¥åˆ›å»ºå¯¹è±¡ï¼Œå³ä½¿è¿™ä¸ªå¯¹è±¡çš„ç±»å‹åœ¨ç¼–è¯‘æœŸæ˜¯æœªçŸ¥çš„ã€‚\n\n# 2. åå°„æœºåˆ¶çš„ç”¨é€”\n\n* låœ¨è¿è¡Œæ—¶åˆ†æç±»çš„èƒ½åŠ›ã€‚\n\n* låœ¨è¿è¡Œæ—¶æŸ¥çœ‹å¯¹è±¡ã€‚\n\n* lå®ç°é€šç”¨çš„æ•°ç»„æ“ä½œä»£ç ã€‚\n\n* låˆ©ç”¨ Method å¯¹è±¡ï¼Œ è¿™ä¸ªå¯¹è±¡å¾ˆåƒä¸­çš„å‡½æ•°æŒ‡é’ˆã€‚\n\nå¾ˆå¤šæ¡†æ¶ä¸­ä½¿ç”¨äº†åå°„æœºåˆ¶ï¼Œæœ€ç»å¸¸ç”¨çš„Spring IOC åˆ›å»ºbeançš„è¿‡ç¨‹å°±æ˜¯é€šè¿‡åå°„å®ç°çš„ã€‚\n\n# 3. åå°„çš„è¿ç”¨\n\nJavaåå°„ä¸»è¦æ˜¯è·å–ä¸€ä¸ªClass å¯¹è±¡ï¼ˆåœ¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼ŒJava è¿è¡Œæ—¶ç³»ç»Ÿå§‹ç»ˆä¸ºæ‰€æœ‰çš„å¯¹è±¡ç»´æŠ¤ä¸€ä¸ªè¢«ç§°ä¸ºè¿è¡Œæ—¶çš„ç±»å‹æ ‡è¯†ï¼‰è·å–Class æœ‰ä¸‰ç§æ–¹å¼\n\n1ï¼šä½¿ç”¨Classçš„ç±»æ–¹æ³• forName\n\nClass.forName(\"ç±»è·¯å¾„\")\n\nå¹³æ—¶æˆ‘ä»¬åœ¨åŠ è½½jdbcä¸­ä½¿ç”¨Class.forName(driver)ï¼ŒåŠ è½½æ•°æ®åº“é©±åŠ¨\n\n2ï¼šç›´æ¥å¯¹è±¡çš„class\n\nClass cl = String.class;\n\n3ï¼šè°ƒç”¨å¯¹è±¡çš„getClass()æ–¹æ³•\n\nString s = \"uuu\";  \nClass cl = s.getClass()\n\nè·å–åˆ°Classå¯¹è±¡åï¼Œæˆ‘ä»¬å°±å¯ä»¥è·å–æ–¹æ³•ä¿¡æ¯ï¼Œæˆå‘˜å˜é‡\n\nè·å–æˆå‘˜å˜é‡ï¼š\n\n* getFiledï¼šè®¿é—®å…¬æœ‰çš„æˆå‘˜å˜é‡ï¼ŒåŒ…æ‹¬çˆ¶ç±»çš„å…¬æœ‰æˆå‘˜å˜é‡\n\n* getDeclaredFieldï¼šæ‰€æœ‰å·²å£°æ˜çš„æˆå‘˜å˜é‡ï¼Œä½†ä¸èƒ½å¾—åˆ°å…¶çˆ¶ç±»çš„æˆå‘˜å˜é‡\n\nè·å–æ–¹æ³•é›†ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹æ³•ï¼š\n\n* getDeclaredMethods æ–¹æ³•è¿”å›ç±»æˆ–æ¥å£å£°æ˜çš„æ‰€æœ‰æ–¹æ³•ï¼ŒåŒ…æ‹¬å…¬å…±ã€ä¿æŠ¤ã€é»˜è®¤ï¼ˆåŒ…ï¼‰è®¿é—®å’Œç§æœ‰æ–¹æ³•ï¼Œä½†ä¸åŒ…æ‹¬ç»§æ‰¿çš„æ–¹æ³•ã€‚\n\n* getMethods æ–¹æ³•è¿”å›æŸä¸ªç±»çš„æ‰€æœ‰å…¬ç”¨ï¼ˆpublicï¼‰æ–¹æ³•ï¼ŒåŒ…æ‹¬å…¶ç»§æ‰¿ç±»çš„å…¬ç”¨æ–¹æ³•ã€‚\n\n* getMethod æ–¹æ³•è¿”å›ä¸€ä¸ªç‰¹å®šçš„æ–¹æ³•ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ–¹æ³•åç§°ï¼Œåé¢çš„å‚æ•°ä¸ºæ–¹æ³•çš„å‚æ•°å¯¹åº”Classçš„å¯¹è±¡ã€‚\n\nåˆ›å»ºå®ä¾‹\n\n* ä½¿ç”¨ Class çš„ newInstance æ–¹æ³•ï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•ä¼šæŠ›å‡ºä¸¤ä¸ªå¼‚å¸¸IllegalAccessExceptionï¼ˆéæ³•è®¿é—®å¼‚å¸¸ï¼‰ å’Œ InstantiationExceptionï¼ˆå®ä¾‹åŒ–å¼‚å¸¸ï¼‰\n\n* å…ˆä½¿ç”¨Classå¯¹è±¡è·å–æŒ‡å®šçš„Constructorå¯¹è±¡, å†è°ƒç”¨Constructorå¯¹è±¡çš„newInstance()æ–¹æ³•æ¥åˆ›å»ºè¯¥Classå¯¹è±¡å¯¹åº”ç±»çš„å®ä¾‹(é€šè¿‡è¿™ç§æ–¹å¼å¯ä»¥é€‰æ‹©æŒ‡å®šçš„æ„é€ å™¨æ¥åˆ›å»ºå®ä¾‹).\n\næ–¹æ³•è°ƒç”¨\n\né€šè¿‡ Method çš„invokeï¼ˆï¼‰æ–¹æ³•å®ç°æ–¹æ³•è°ƒç”¨ã€‚\n\n```\nClass cl = null;\n\ntry {\n\n    cl = Class.forName(\"cn.assist.easydao.util.Student\");\n\n    Object o = cl.newInstance();\n\n    Method setAge = cl.getDeclaredMethod(\"setAge\", Integer.class);\n\n    Method getAge = cl.getDeclaredMethod(\"getAge\");\n\n    setAge.invoke(o,3);\n\n    System.out.println(getAge.invoke(o));\n\n\n\n} catch (ClassNotFoundException e) {\n\n    e.printStackTrace();\n\n} catch (IllegalAccessException e) {\n\n    e.printStackTrace();\n\n} catch (InstantiationException e) {\n\n    e.printStackTrace();\n\n} catch (NoSuchMethodException e) {\n\n    e.printStackTrace();\n\n} catch (InvocationTargetException e) {\n\n    e.printStackTrace();\n\n}\n```\n\nå®ç°é€šç”¨çš„æ•°ç»„æ“ä½œ\n\n// åˆ›å»ºæ•°ç»„\n\nObject array = Array.newInstance(String.class,4);\n\n// è®¾å€¼\n\nArray.set(array,0,\"test\");\n\n# 4. æ€»ç»“\n\nJavaåå°„ä¼šæ¶ˆè€—å¤§é‡èµ„æºï¼Ÿ\n\n* ç”±äºåå°„åˆ›å»ºå¯¹è±¡æ˜¯é—´æ¥åˆ›å»ºï¼Œéœ€è¦åšä¸€äº›æ­¥éª¤æ“ä½œï¼Œä¼šå¯¼è‡´æ‰§è¡Œæ—¶é—´é•¿ï¼Œæ¶ˆè€—å¤§é‡èµ„æºçš„ã€‚\n\nå¦‚ä½•æé«˜åå°„æ•ˆç‡ï¼Ÿ\n\n* ä½¿ç”¨ç¼“å­˜æœºåˆ¶ï¼Œé¿å…é‡å¤åˆ›å»ºå¯¹è±¡\n\n* è·å–æ–¹æ³•å°½é‡ä½¿ç”¨getMethod(methodName)ï¼Œä¸å»ºè®®ä½¿ç”¨getMethods()åå†éå†ç­›é€‰\n\n* ä½¿ç”¨ç°æˆçš„åå°„æ¡†æ¶\n\n* ä½¿ç”¨reflectasmæ¡†æ¶ï¼Œè¯¥æ¡†æ¶é€šè¿‡å­—èŠ‚ç ï¼Œè®¿é—®ç±»ä¿¡æ¯\n\nåå°„å¯ä»¥åœ¨è¿è¡Œæ—¶æ“ä½œï¼Œå¯èƒ½å¯¼è‡´ç³»ç»Ÿå˜çš„ä¸å®‰å…¨\n\nå‚è€ƒæ–‡æ¡£ï¼š\n\n[æ·±å…¥è§£æJavaåå°„ï¼ˆ1ï¼‰ - åŸºç¡€](https://www.sczyh30.com/posts/Java/java-reflection-1/)\n\nJava æ ¸å¿ƒæŠ€æœ¯ å·ä¸€\n","source":"_posts/java-åå°„ç¬”è®°.md","raw":"---\ntitle: java åå°„ç¬”è®°\ndate: 2019-02-20 18:39:41\ntags:\n- JAVA\n- åå°„æœºåˆ¶\n---\n\n\n# 1. ä»€ä¹ˆå«åå°„ï¼Ÿ\n\nåå°„æœºåˆ¶ï¼Œåœ¨Javaç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­åŠ¨æ€è·å–ç±»ä¿¡æ¯ï¼ˆå˜é‡ï¼Œæ–¹æ³•ç­‰ï¼‰ï¼Œä»¥åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡æ–¹æ³•çš„åŠŸèƒ½ï¼Œé‡ç‚¹æ˜¯åœ¨**ç¨‹åºè¿è¡Œä¸­**\n\nå®˜æ–¹å¯¹åå°„çš„è§£é‡Šï¼š\n\né€šè¿‡åå°„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿è¡Œæ—¶è·å¾—ç¨‹åºæˆ–ç¨‹åºé›†ä¸­æ¯ä¸€ä¸ªç±»å‹çš„æˆå‘˜å’Œæˆå‘˜çš„ä¿¡æ¯ã€‚ç¨‹åºä¸­ä¸€èˆ¬çš„å¯¹è±¡çš„ç±»å‹éƒ½æ˜¯åœ¨ç¼–è¯‘æœŸå°±ç¡®å®šä¸‹æ¥çš„ï¼Œè€Œ Java åå°„æœºåˆ¶å¯ä»¥åŠ¨æ€åœ°åˆ›å»ºå¯¹è±¡å¹¶è°ƒç”¨å…¶å±æ€§ï¼Œè¿™æ ·çš„å¯¹è±¡çš„ç±»å‹åœ¨ç¼–è¯‘æœŸæ˜¯æœªçŸ¥çš„ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æœºåˆ¶ç›´æ¥åˆ›å»ºå¯¹è±¡ï¼Œå³ä½¿è¿™ä¸ªå¯¹è±¡çš„ç±»å‹åœ¨ç¼–è¯‘æœŸæ˜¯æœªçŸ¥çš„ã€‚\n\n# 2. åå°„æœºåˆ¶çš„ç”¨é€”\n\n* låœ¨è¿è¡Œæ—¶åˆ†æç±»çš„èƒ½åŠ›ã€‚\n\n* låœ¨è¿è¡Œæ—¶æŸ¥çœ‹å¯¹è±¡ã€‚\n\n* lå®ç°é€šç”¨çš„æ•°ç»„æ“ä½œä»£ç ã€‚\n\n* låˆ©ç”¨ Method å¯¹è±¡ï¼Œ è¿™ä¸ªå¯¹è±¡å¾ˆåƒä¸­çš„å‡½æ•°æŒ‡é’ˆã€‚\n\nå¾ˆå¤šæ¡†æ¶ä¸­ä½¿ç”¨äº†åå°„æœºåˆ¶ï¼Œæœ€ç»å¸¸ç”¨çš„Spring IOC åˆ›å»ºbeançš„è¿‡ç¨‹å°±æ˜¯é€šè¿‡åå°„å®ç°çš„ã€‚\n\n# 3. åå°„çš„è¿ç”¨\n\nJavaåå°„ä¸»è¦æ˜¯è·å–ä¸€ä¸ªClass å¯¹è±¡ï¼ˆåœ¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼ŒJava è¿è¡Œæ—¶ç³»ç»Ÿå§‹ç»ˆä¸ºæ‰€æœ‰çš„å¯¹è±¡ç»´æŠ¤ä¸€ä¸ªè¢«ç§°ä¸ºè¿è¡Œæ—¶çš„ç±»å‹æ ‡è¯†ï¼‰è·å–Class æœ‰ä¸‰ç§æ–¹å¼\n\n1ï¼šä½¿ç”¨Classçš„ç±»æ–¹æ³• forName\n\nClass.forName(\"ç±»è·¯å¾„\")\n\nå¹³æ—¶æˆ‘ä»¬åœ¨åŠ è½½jdbcä¸­ä½¿ç”¨Class.forName(driver)ï¼ŒåŠ è½½æ•°æ®åº“é©±åŠ¨\n\n2ï¼šç›´æ¥å¯¹è±¡çš„class\n\nClass cl = String.class;\n\n3ï¼šè°ƒç”¨å¯¹è±¡çš„getClass()æ–¹æ³•\n\nString s = \"uuu\";  \nClass cl = s.getClass()\n\nè·å–åˆ°Classå¯¹è±¡åï¼Œæˆ‘ä»¬å°±å¯ä»¥è·å–æ–¹æ³•ä¿¡æ¯ï¼Œæˆå‘˜å˜é‡\n\nè·å–æˆå‘˜å˜é‡ï¼š\n\n* getFiledï¼šè®¿é—®å…¬æœ‰çš„æˆå‘˜å˜é‡ï¼ŒåŒ…æ‹¬çˆ¶ç±»çš„å…¬æœ‰æˆå‘˜å˜é‡\n\n* getDeclaredFieldï¼šæ‰€æœ‰å·²å£°æ˜çš„æˆå‘˜å˜é‡ï¼Œä½†ä¸èƒ½å¾—åˆ°å…¶çˆ¶ç±»çš„æˆå‘˜å˜é‡\n\nè·å–æ–¹æ³•é›†ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹æ³•ï¼š\n\n* getDeclaredMethods æ–¹æ³•è¿”å›ç±»æˆ–æ¥å£å£°æ˜çš„æ‰€æœ‰æ–¹æ³•ï¼ŒåŒ…æ‹¬å…¬å…±ã€ä¿æŠ¤ã€é»˜è®¤ï¼ˆåŒ…ï¼‰è®¿é—®å’Œç§æœ‰æ–¹æ³•ï¼Œä½†ä¸åŒ…æ‹¬ç»§æ‰¿çš„æ–¹æ³•ã€‚\n\n* getMethods æ–¹æ³•è¿”å›æŸä¸ªç±»çš„æ‰€æœ‰å…¬ç”¨ï¼ˆpublicï¼‰æ–¹æ³•ï¼ŒåŒ…æ‹¬å…¶ç»§æ‰¿ç±»çš„å…¬ç”¨æ–¹æ³•ã€‚\n\n* getMethod æ–¹æ³•è¿”å›ä¸€ä¸ªç‰¹å®šçš„æ–¹æ³•ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ–¹æ³•åç§°ï¼Œåé¢çš„å‚æ•°ä¸ºæ–¹æ³•çš„å‚æ•°å¯¹åº”Classçš„å¯¹è±¡ã€‚\n\nåˆ›å»ºå®ä¾‹\n\n* ä½¿ç”¨ Class çš„ newInstance æ–¹æ³•ï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•ä¼šæŠ›å‡ºä¸¤ä¸ªå¼‚å¸¸IllegalAccessExceptionï¼ˆéæ³•è®¿é—®å¼‚å¸¸ï¼‰ å’Œ InstantiationExceptionï¼ˆå®ä¾‹åŒ–å¼‚å¸¸ï¼‰\n\n* å…ˆä½¿ç”¨Classå¯¹è±¡è·å–æŒ‡å®šçš„Constructorå¯¹è±¡, å†è°ƒç”¨Constructorå¯¹è±¡çš„newInstance()æ–¹æ³•æ¥åˆ›å»ºè¯¥Classå¯¹è±¡å¯¹åº”ç±»çš„å®ä¾‹(é€šè¿‡è¿™ç§æ–¹å¼å¯ä»¥é€‰æ‹©æŒ‡å®šçš„æ„é€ å™¨æ¥åˆ›å»ºå®ä¾‹).\n\næ–¹æ³•è°ƒç”¨\n\né€šè¿‡ Method çš„invokeï¼ˆï¼‰æ–¹æ³•å®ç°æ–¹æ³•è°ƒç”¨ã€‚\n\n```\nClass cl = null;\n\ntry {\n\n    cl = Class.forName(\"cn.assist.easydao.util.Student\");\n\n    Object o = cl.newInstance();\n\n    Method setAge = cl.getDeclaredMethod(\"setAge\", Integer.class);\n\n    Method getAge = cl.getDeclaredMethod(\"getAge\");\n\n    setAge.invoke(o,3);\n\n    System.out.println(getAge.invoke(o));\n\n\n\n} catch (ClassNotFoundException e) {\n\n    e.printStackTrace();\n\n} catch (IllegalAccessException e) {\n\n    e.printStackTrace();\n\n} catch (InstantiationException e) {\n\n    e.printStackTrace();\n\n} catch (NoSuchMethodException e) {\n\n    e.printStackTrace();\n\n} catch (InvocationTargetException e) {\n\n    e.printStackTrace();\n\n}\n```\n\nå®ç°é€šç”¨çš„æ•°ç»„æ“ä½œ\n\n// åˆ›å»ºæ•°ç»„\n\nObject array = Array.newInstance(String.class,4);\n\n// è®¾å€¼\n\nArray.set(array,0,\"test\");\n\n# 4. æ€»ç»“\n\nJavaåå°„ä¼šæ¶ˆè€—å¤§é‡èµ„æºï¼Ÿ\n\n* ç”±äºåå°„åˆ›å»ºå¯¹è±¡æ˜¯é—´æ¥åˆ›å»ºï¼Œéœ€è¦åšä¸€äº›æ­¥éª¤æ“ä½œï¼Œä¼šå¯¼è‡´æ‰§è¡Œæ—¶é—´é•¿ï¼Œæ¶ˆè€—å¤§é‡èµ„æºçš„ã€‚\n\nå¦‚ä½•æé«˜åå°„æ•ˆç‡ï¼Ÿ\n\n* ä½¿ç”¨ç¼“å­˜æœºåˆ¶ï¼Œé¿å…é‡å¤åˆ›å»ºå¯¹è±¡\n\n* è·å–æ–¹æ³•å°½é‡ä½¿ç”¨getMethod(methodName)ï¼Œä¸å»ºè®®ä½¿ç”¨getMethods()åå†éå†ç­›é€‰\n\n* ä½¿ç”¨ç°æˆçš„åå°„æ¡†æ¶\n\n* ä½¿ç”¨reflectasmæ¡†æ¶ï¼Œè¯¥æ¡†æ¶é€šè¿‡å­—èŠ‚ç ï¼Œè®¿é—®ç±»ä¿¡æ¯\n\nåå°„å¯ä»¥åœ¨è¿è¡Œæ—¶æ“ä½œï¼Œå¯èƒ½å¯¼è‡´ç³»ç»Ÿå˜çš„ä¸å®‰å…¨\n\nå‚è€ƒæ–‡æ¡£ï¼š\n\n[æ·±å…¥è§£æJavaåå°„ï¼ˆ1ï¼‰ - åŸºç¡€](https://www.sczyh30.com/posts/Java/java-reflection-1/)\n\nJava æ ¸å¿ƒæŠ€æœ¯ å·ä¸€\n","slug":"java-åå°„ç¬”è®°","published":1,"updated":"2019-07-14T03:11:26.962Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkctuf000j4osxx6otzbl8","content":"<h1 id=\"1-ä»€ä¹ˆå«åå°„ï¼Ÿ\"><a href=\"#1-ä»€ä¹ˆå«åå°„ï¼Ÿ\" class=\"headerlink\" title=\"1. ä»€ä¹ˆå«åå°„ï¼Ÿ\"></a>1. ä»€ä¹ˆå«åå°„ï¼Ÿ</h1><p>åå°„æœºåˆ¶ï¼Œåœ¨Javaç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­åŠ¨æ€è·å–ç±»ä¿¡æ¯ï¼ˆå˜é‡ï¼Œæ–¹æ³•ç­‰ï¼‰ï¼Œä»¥åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡æ–¹æ³•çš„åŠŸèƒ½ï¼Œé‡ç‚¹æ˜¯åœ¨<strong>ç¨‹åºè¿è¡Œä¸­</strong></p>\n<p>å®˜æ–¹å¯¹åå°„çš„è§£é‡Šï¼š</p>\n<p>é€šè¿‡åå°„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿è¡Œæ—¶è·å¾—ç¨‹åºæˆ–ç¨‹åºé›†ä¸­æ¯ä¸€ä¸ªç±»å‹çš„æˆå‘˜å’Œæˆå‘˜çš„ä¿¡æ¯ã€‚ç¨‹åºä¸­ä¸€èˆ¬çš„å¯¹è±¡çš„ç±»å‹éƒ½æ˜¯åœ¨ç¼–è¯‘æœŸå°±ç¡®å®šä¸‹æ¥çš„ï¼Œè€Œ Java åå°„æœºåˆ¶å¯ä»¥åŠ¨æ€åœ°åˆ›å»ºå¯¹è±¡å¹¶è°ƒç”¨å…¶å±æ€§ï¼Œè¿™æ ·çš„å¯¹è±¡çš„ç±»å‹åœ¨ç¼–è¯‘æœŸæ˜¯æœªçŸ¥çš„ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æœºåˆ¶ç›´æ¥åˆ›å»ºå¯¹è±¡ï¼Œå³ä½¿è¿™ä¸ªå¯¹è±¡çš„ç±»å‹åœ¨ç¼–è¯‘æœŸæ˜¯æœªçŸ¥çš„ã€‚</p>\n<h1 id=\"2-åå°„æœºåˆ¶çš„ç”¨é€”\"><a href=\"#2-åå°„æœºåˆ¶çš„ç”¨é€”\" class=\"headerlink\" title=\"2. åå°„æœºåˆ¶çš„ç”¨é€”\"></a>2. åå°„æœºåˆ¶çš„ç”¨é€”</h1><ul>\n<li><p>låœ¨è¿è¡Œæ—¶åˆ†æç±»çš„èƒ½åŠ›ã€‚</p>\n</li>\n<li><p>låœ¨è¿è¡Œæ—¶æŸ¥çœ‹å¯¹è±¡ã€‚</p>\n</li>\n<li><p>lå®ç°é€šç”¨çš„æ•°ç»„æ“ä½œä»£ç ã€‚</p>\n</li>\n<li><p>låˆ©ç”¨ Method å¯¹è±¡ï¼Œ è¿™ä¸ªå¯¹è±¡å¾ˆåƒä¸­çš„å‡½æ•°æŒ‡é’ˆã€‚</p>\n</li>\n</ul>\n<p>å¾ˆå¤šæ¡†æ¶ä¸­ä½¿ç”¨äº†åå°„æœºåˆ¶ï¼Œæœ€ç»å¸¸ç”¨çš„Spring IOC åˆ›å»ºbeançš„è¿‡ç¨‹å°±æ˜¯é€šè¿‡åå°„å®ç°çš„ã€‚</p>\n<h1 id=\"3-åå°„çš„è¿ç”¨\"><a href=\"#3-åå°„çš„è¿ç”¨\" class=\"headerlink\" title=\"3. åå°„çš„è¿ç”¨\"></a>3. åå°„çš„è¿ç”¨</h1><p>Javaåå°„ä¸»è¦æ˜¯è·å–ä¸€ä¸ªClass å¯¹è±¡ï¼ˆåœ¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼ŒJava è¿è¡Œæ—¶ç³»ç»Ÿå§‹ç»ˆä¸ºæ‰€æœ‰çš„å¯¹è±¡ç»´æŠ¤ä¸€ä¸ªè¢«ç§°ä¸ºè¿è¡Œæ—¶çš„ç±»å‹æ ‡è¯†ï¼‰è·å–Class æœ‰ä¸‰ç§æ–¹å¼</p>\n<p>1ï¼šä½¿ç”¨Classçš„ç±»æ–¹æ³• forName</p>\n<p>Class.forName(â€œç±»è·¯å¾„â€)</p>\n<p>å¹³æ—¶æˆ‘ä»¬åœ¨åŠ è½½jdbcä¸­ä½¿ç”¨Class.forName(driver)ï¼ŒåŠ è½½æ•°æ®åº“é©±åŠ¨</p>\n<p>2ï¼šç›´æ¥å¯¹è±¡çš„class</p>\n<p>Class cl = String.class;</p>\n<p>3ï¼šè°ƒç”¨å¯¹è±¡çš„getClass()æ–¹æ³•</p>\n<p>String s = â€œuuuâ€;<br>Class cl = s.getClass()</p>\n<p>è·å–åˆ°Classå¯¹è±¡åï¼Œæˆ‘ä»¬å°±å¯ä»¥è·å–æ–¹æ³•ä¿¡æ¯ï¼Œæˆå‘˜å˜é‡</p>\n<p>è·å–æˆå‘˜å˜é‡ï¼š</p>\n<ul>\n<li><p>getFiledï¼šè®¿é—®å…¬æœ‰çš„æˆå‘˜å˜é‡ï¼ŒåŒ…æ‹¬çˆ¶ç±»çš„å…¬æœ‰æˆå‘˜å˜é‡</p>\n</li>\n<li><p>getDeclaredFieldï¼šæ‰€æœ‰å·²å£°æ˜çš„æˆå‘˜å˜é‡ï¼Œä½†ä¸èƒ½å¾—åˆ°å…¶çˆ¶ç±»çš„æˆå‘˜å˜é‡</p>\n</li>\n</ul>\n<p>è·å–æ–¹æ³•é›†ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹æ³•ï¼š</p>\n<ul>\n<li><p>getDeclaredMethods æ–¹æ³•è¿”å›ç±»æˆ–æ¥å£å£°æ˜çš„æ‰€æœ‰æ–¹æ³•ï¼ŒåŒ…æ‹¬å…¬å…±ã€ä¿æŠ¤ã€é»˜è®¤ï¼ˆåŒ…ï¼‰è®¿é—®å’Œç§æœ‰æ–¹æ³•ï¼Œä½†ä¸åŒ…æ‹¬ç»§æ‰¿çš„æ–¹æ³•ã€‚</p>\n</li>\n<li><p>getMethods æ–¹æ³•è¿”å›æŸä¸ªç±»çš„æ‰€æœ‰å…¬ç”¨ï¼ˆpublicï¼‰æ–¹æ³•ï¼ŒåŒ…æ‹¬å…¶ç»§æ‰¿ç±»çš„å…¬ç”¨æ–¹æ³•ã€‚</p>\n</li>\n<li><p>getMethod æ–¹æ³•è¿”å›ä¸€ä¸ªç‰¹å®šçš„æ–¹æ³•ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ–¹æ³•åç§°ï¼Œåé¢çš„å‚æ•°ä¸ºæ–¹æ³•çš„å‚æ•°å¯¹åº”Classçš„å¯¹è±¡ã€‚</p>\n</li>\n</ul>\n<p>åˆ›å»ºå®ä¾‹</p>\n<ul>\n<li><p>ä½¿ç”¨ Class çš„ newInstance æ–¹æ³•ï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•ä¼šæŠ›å‡ºä¸¤ä¸ªå¼‚å¸¸IllegalAccessExceptionï¼ˆéæ³•è®¿é—®å¼‚å¸¸ï¼‰ å’Œ InstantiationExceptionï¼ˆå®ä¾‹åŒ–å¼‚å¸¸ï¼‰</p>\n</li>\n<li><p>å…ˆä½¿ç”¨Classå¯¹è±¡è·å–æŒ‡å®šçš„Constructorå¯¹è±¡, å†è°ƒç”¨Constructorå¯¹è±¡çš„newInstance()æ–¹æ³•æ¥åˆ›å»ºè¯¥Classå¯¹è±¡å¯¹åº”ç±»çš„å®ä¾‹(é€šè¿‡è¿™ç§æ–¹å¼å¯ä»¥é€‰æ‹©æŒ‡å®šçš„æ„é€ å™¨æ¥åˆ›å»ºå®ä¾‹).</p>\n</li>\n</ul>\n<p>æ–¹æ³•è°ƒç”¨</p>\n<p>é€šè¿‡ Method çš„invokeï¼ˆï¼‰æ–¹æ³•å®ç°æ–¹æ³•è°ƒç”¨ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Class cl = null;</span><br><span class=\"line\"></span><br><span class=\"line\">try &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    cl = Class.forName(&quot;cn.assist.easydao.util.Student&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">    Object o = cl.newInstance();</span><br><span class=\"line\"></span><br><span class=\"line\">    Method setAge = cl.getDeclaredMethod(&quot;setAge&quot;, Integer.class);</span><br><span class=\"line\"></span><br><span class=\"line\">    Method getAge = cl.getDeclaredMethod(&quot;getAge&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">    setAge.invoke(o,3);</span><br><span class=\"line\"></span><br><span class=\"line\">    System.out.println(getAge.invoke(o));</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#125; catch (ClassNotFoundException e) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    e.printStackTrace();</span><br><span class=\"line\"></span><br><span class=\"line\">&#125; catch (IllegalAccessException e) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    e.printStackTrace();</span><br><span class=\"line\"></span><br><span class=\"line\">&#125; catch (InstantiationException e) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    e.printStackTrace();</span><br><span class=\"line\"></span><br><span class=\"line\">&#125; catch (NoSuchMethodException e) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    e.printStackTrace();</span><br><span class=\"line\"></span><br><span class=\"line\">&#125; catch (InvocationTargetException e) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    e.printStackTrace();</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å®ç°é€šç”¨çš„æ•°ç»„æ“ä½œ</p>\n<p>// åˆ›å»ºæ•°ç»„</p>\n<p>Object array = Array.newInstance(String.class,4);</p>\n<p>// è®¾å€¼</p>\n<p>Array.set(array,0,â€testâ€);</p>\n<h1 id=\"4-æ€»ç»“\"><a href=\"#4-æ€»ç»“\" class=\"headerlink\" title=\"4. æ€»ç»“\"></a>4. æ€»ç»“</h1><p>Javaåå°„ä¼šæ¶ˆè€—å¤§é‡èµ„æºï¼Ÿ</p>\n<ul>\n<li>ç”±äºåå°„åˆ›å»ºå¯¹è±¡æ˜¯é—´æ¥åˆ›å»ºï¼Œéœ€è¦åšä¸€äº›æ­¥éª¤æ“ä½œï¼Œä¼šå¯¼è‡´æ‰§è¡Œæ—¶é—´é•¿ï¼Œæ¶ˆè€—å¤§é‡èµ„æºçš„ã€‚</li>\n</ul>\n<p>å¦‚ä½•æé«˜åå°„æ•ˆç‡ï¼Ÿ</p>\n<ul>\n<li><p>ä½¿ç”¨ç¼“å­˜æœºåˆ¶ï¼Œé¿å…é‡å¤åˆ›å»ºå¯¹è±¡</p>\n</li>\n<li><p>è·å–æ–¹æ³•å°½é‡ä½¿ç”¨getMethod(methodName)ï¼Œä¸å»ºè®®ä½¿ç”¨getMethods()åå†éå†ç­›é€‰</p>\n</li>\n<li><p>ä½¿ç”¨ç°æˆçš„åå°„æ¡†æ¶</p>\n</li>\n<li><p>ä½¿ç”¨reflectasmæ¡†æ¶ï¼Œè¯¥æ¡†æ¶é€šè¿‡å­—èŠ‚ç ï¼Œè®¿é—®ç±»ä¿¡æ¯</p>\n</li>\n</ul>\n<p>åå°„å¯ä»¥åœ¨è¿è¡Œæ—¶æ“ä½œï¼Œå¯èƒ½å¯¼è‡´ç³»ç»Ÿå˜çš„ä¸å®‰å…¨</p>\n<p>å‚è€ƒæ–‡æ¡£ï¼š</p>\n<p><a href=\"https://www.sczyh30.com/posts/Java/java-reflection-1/\" target=\"_blank\" rel=\"noopener\">æ·±å…¥è§£æJavaåå°„ï¼ˆ1ï¼‰ - åŸºç¡€</a></p>\n<p>Java æ ¸å¿ƒæŠ€æœ¯ å·ä¸€</p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"1-ä»€ä¹ˆå«åå°„ï¼Ÿ\"><a href=\"#1-ä»€ä¹ˆå«åå°„ï¼Ÿ\" class=\"headerlink\" title=\"1. ä»€ä¹ˆå«åå°„ï¼Ÿ\"></a>1. ä»€ä¹ˆå«åå°„ï¼Ÿ</h1><p>åå°„æœºåˆ¶ï¼Œåœ¨Javaç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­åŠ¨æ€è·å–ç±»ä¿¡æ¯ï¼ˆå˜é‡ï¼Œæ–¹æ³•ç­‰ï¼‰ï¼Œä»¥åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡æ–¹æ³•çš„åŠŸèƒ½ï¼Œé‡ç‚¹æ˜¯åœ¨<strong>ç¨‹åºè¿è¡Œä¸­</strong></p>\n<p>å®˜æ–¹å¯¹åå°„çš„è§£é‡Šï¼š</p>\n<p>é€šè¿‡åå°„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿è¡Œæ—¶è·å¾—ç¨‹åºæˆ–ç¨‹åºé›†ä¸­æ¯ä¸€ä¸ªç±»å‹çš„æˆå‘˜å’Œæˆå‘˜çš„ä¿¡æ¯ã€‚ç¨‹åºä¸­ä¸€èˆ¬çš„å¯¹è±¡çš„ç±»å‹éƒ½æ˜¯åœ¨ç¼–è¯‘æœŸå°±ç¡®å®šä¸‹æ¥çš„ï¼Œè€Œ Java åå°„æœºåˆ¶å¯ä»¥åŠ¨æ€åœ°åˆ›å»ºå¯¹è±¡å¹¶è°ƒç”¨å…¶å±æ€§ï¼Œè¿™æ ·çš„å¯¹è±¡çš„ç±»å‹åœ¨ç¼–è¯‘æœŸæ˜¯æœªçŸ¥çš„ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æœºåˆ¶ç›´æ¥åˆ›å»ºå¯¹è±¡ï¼Œå³ä½¿è¿™ä¸ªå¯¹è±¡çš„ç±»å‹åœ¨ç¼–è¯‘æœŸæ˜¯æœªçŸ¥çš„ã€‚</p>\n<h1 id=\"2-åå°„æœºåˆ¶çš„ç”¨é€”\"><a href=\"#2-åå°„æœºåˆ¶çš„ç”¨é€”\" class=\"headerlink\" title=\"2. åå°„æœºåˆ¶çš„ç”¨é€”\"></a>2. åå°„æœºåˆ¶çš„ç”¨é€”</h1><ul>\n<li><p>låœ¨è¿è¡Œæ—¶åˆ†æç±»çš„èƒ½åŠ›ã€‚</p>\n</li>\n<li><p>låœ¨è¿è¡Œæ—¶æŸ¥çœ‹å¯¹è±¡ã€‚</p>\n</li>\n<li><p>lå®ç°é€šç”¨çš„æ•°ç»„æ“ä½œä»£ç ã€‚</p>\n</li>\n<li><p>låˆ©ç”¨ Method å¯¹è±¡ï¼Œ è¿™ä¸ªå¯¹è±¡å¾ˆåƒä¸­çš„å‡½æ•°æŒ‡é’ˆã€‚</p>\n</li>\n</ul>\n<p>å¾ˆå¤šæ¡†æ¶ä¸­ä½¿ç”¨äº†åå°„æœºåˆ¶ï¼Œæœ€ç»å¸¸ç”¨çš„Spring IOC åˆ›å»ºbeançš„è¿‡ç¨‹å°±æ˜¯é€šè¿‡åå°„å®ç°çš„ã€‚</p>\n<h1 id=\"3-åå°„çš„è¿ç”¨\"><a href=\"#3-åå°„çš„è¿ç”¨\" class=\"headerlink\" title=\"3. åå°„çš„è¿ç”¨\"></a>3. åå°„çš„è¿ç”¨</h1><p>Javaåå°„ä¸»è¦æ˜¯è·å–ä¸€ä¸ªClass å¯¹è±¡ï¼ˆåœ¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼ŒJava è¿è¡Œæ—¶ç³»ç»Ÿå§‹ç»ˆä¸ºæ‰€æœ‰çš„å¯¹è±¡ç»´æŠ¤ä¸€ä¸ªè¢«ç§°ä¸ºè¿è¡Œæ—¶çš„ç±»å‹æ ‡è¯†ï¼‰è·å–Class æœ‰ä¸‰ç§æ–¹å¼</p>\n<p>1ï¼šä½¿ç”¨Classçš„ç±»æ–¹æ³• forName</p>\n<p>Class.forName(â€œç±»è·¯å¾„â€)</p>\n<p>å¹³æ—¶æˆ‘ä»¬åœ¨åŠ è½½jdbcä¸­ä½¿ç”¨Class.forName(driver)ï¼ŒåŠ è½½æ•°æ®åº“é©±åŠ¨</p>\n<p>2ï¼šç›´æ¥å¯¹è±¡çš„class</p>\n<p>Class cl = String.class;</p>\n<p>3ï¼šè°ƒç”¨å¯¹è±¡çš„getClass()æ–¹æ³•</p>\n<p>String s = â€œuuuâ€;<br>Class cl = s.getClass()</p>\n<p>è·å–åˆ°Classå¯¹è±¡åï¼Œæˆ‘ä»¬å°±å¯ä»¥è·å–æ–¹æ³•ä¿¡æ¯ï¼Œæˆå‘˜å˜é‡</p>\n<p>è·å–æˆå‘˜å˜é‡ï¼š</p>\n<ul>\n<li><p>getFiledï¼šè®¿é—®å…¬æœ‰çš„æˆå‘˜å˜é‡ï¼ŒåŒ…æ‹¬çˆ¶ç±»çš„å…¬æœ‰æˆå‘˜å˜é‡</p>\n</li>\n<li><p>getDeclaredFieldï¼šæ‰€æœ‰å·²å£°æ˜çš„æˆå‘˜å˜é‡ï¼Œä½†ä¸èƒ½å¾—åˆ°å…¶çˆ¶ç±»çš„æˆå‘˜å˜é‡</p>\n</li>\n</ul>\n<p>è·å–æ–¹æ³•é›†ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹æ³•ï¼š</p>\n<ul>\n<li><p>getDeclaredMethods æ–¹æ³•è¿”å›ç±»æˆ–æ¥å£å£°æ˜çš„æ‰€æœ‰æ–¹æ³•ï¼ŒåŒ…æ‹¬å…¬å…±ã€ä¿æŠ¤ã€é»˜è®¤ï¼ˆåŒ…ï¼‰è®¿é—®å’Œç§æœ‰æ–¹æ³•ï¼Œä½†ä¸åŒ…æ‹¬ç»§æ‰¿çš„æ–¹æ³•ã€‚</p>\n</li>\n<li><p>getMethods æ–¹æ³•è¿”å›æŸä¸ªç±»çš„æ‰€æœ‰å…¬ç”¨ï¼ˆpublicï¼‰æ–¹æ³•ï¼ŒåŒ…æ‹¬å…¶ç»§æ‰¿ç±»çš„å…¬ç”¨æ–¹æ³•ã€‚</p>\n</li>\n<li><p>getMethod æ–¹æ³•è¿”å›ä¸€ä¸ªç‰¹å®šçš„æ–¹æ³•ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ–¹æ³•åç§°ï¼Œåé¢çš„å‚æ•°ä¸ºæ–¹æ³•çš„å‚æ•°å¯¹åº”Classçš„å¯¹è±¡ã€‚</p>\n</li>\n</ul>\n<p>åˆ›å»ºå®ä¾‹</p>\n<ul>\n<li><p>ä½¿ç”¨ Class çš„ newInstance æ–¹æ³•ï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•ä¼šæŠ›å‡ºä¸¤ä¸ªå¼‚å¸¸IllegalAccessExceptionï¼ˆéæ³•è®¿é—®å¼‚å¸¸ï¼‰ å’Œ InstantiationExceptionï¼ˆå®ä¾‹åŒ–å¼‚å¸¸ï¼‰</p>\n</li>\n<li><p>å…ˆä½¿ç”¨Classå¯¹è±¡è·å–æŒ‡å®šçš„Constructorå¯¹è±¡, å†è°ƒç”¨Constructorå¯¹è±¡çš„newInstance()æ–¹æ³•æ¥åˆ›å»ºè¯¥Classå¯¹è±¡å¯¹åº”ç±»çš„å®ä¾‹(é€šè¿‡è¿™ç§æ–¹å¼å¯ä»¥é€‰æ‹©æŒ‡å®šçš„æ„é€ å™¨æ¥åˆ›å»ºå®ä¾‹).</p>\n</li>\n</ul>\n<p>æ–¹æ³•è°ƒç”¨</p>\n<p>é€šè¿‡ Method çš„invokeï¼ˆï¼‰æ–¹æ³•å®ç°æ–¹æ³•è°ƒç”¨ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Class cl = null;</span><br><span class=\"line\"></span><br><span class=\"line\">try &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    cl = Class.forName(&quot;cn.assist.easydao.util.Student&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">    Object o = cl.newInstance();</span><br><span class=\"line\"></span><br><span class=\"line\">    Method setAge = cl.getDeclaredMethod(&quot;setAge&quot;, Integer.class);</span><br><span class=\"line\"></span><br><span class=\"line\">    Method getAge = cl.getDeclaredMethod(&quot;getAge&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">    setAge.invoke(o,3);</span><br><span class=\"line\"></span><br><span class=\"line\">    System.out.println(getAge.invoke(o));</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#125; catch (ClassNotFoundException e) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    e.printStackTrace();</span><br><span class=\"line\"></span><br><span class=\"line\">&#125; catch (IllegalAccessException e) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    e.printStackTrace();</span><br><span class=\"line\"></span><br><span class=\"line\">&#125; catch (InstantiationException e) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    e.printStackTrace();</span><br><span class=\"line\"></span><br><span class=\"line\">&#125; catch (NoSuchMethodException e) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    e.printStackTrace();</span><br><span class=\"line\"></span><br><span class=\"line\">&#125; catch (InvocationTargetException e) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    e.printStackTrace();</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å®ç°é€šç”¨çš„æ•°ç»„æ“ä½œ</p>\n<p>// åˆ›å»ºæ•°ç»„</p>\n<p>Object array = Array.newInstance(String.class,4);</p>\n<p>// è®¾å€¼</p>\n<p>Array.set(array,0,â€testâ€);</p>\n<h1 id=\"4-æ€»ç»“\"><a href=\"#4-æ€»ç»“\" class=\"headerlink\" title=\"4. æ€»ç»“\"></a>4. æ€»ç»“</h1><p>Javaåå°„ä¼šæ¶ˆè€—å¤§é‡èµ„æºï¼Ÿ</p>\n<ul>\n<li>ç”±äºåå°„åˆ›å»ºå¯¹è±¡æ˜¯é—´æ¥åˆ›å»ºï¼Œéœ€è¦åšä¸€äº›æ­¥éª¤æ“ä½œï¼Œä¼šå¯¼è‡´æ‰§è¡Œæ—¶é—´é•¿ï¼Œæ¶ˆè€—å¤§é‡èµ„æºçš„ã€‚</li>\n</ul>\n<p>å¦‚ä½•æé«˜åå°„æ•ˆç‡ï¼Ÿ</p>\n<ul>\n<li><p>ä½¿ç”¨ç¼“å­˜æœºåˆ¶ï¼Œé¿å…é‡å¤åˆ›å»ºå¯¹è±¡</p>\n</li>\n<li><p>è·å–æ–¹æ³•å°½é‡ä½¿ç”¨getMethod(methodName)ï¼Œä¸å»ºè®®ä½¿ç”¨getMethods()åå†éå†ç­›é€‰</p>\n</li>\n<li><p>ä½¿ç”¨ç°æˆçš„åå°„æ¡†æ¶</p>\n</li>\n<li><p>ä½¿ç”¨reflectasmæ¡†æ¶ï¼Œè¯¥æ¡†æ¶é€šè¿‡å­—èŠ‚ç ï¼Œè®¿é—®ç±»ä¿¡æ¯</p>\n</li>\n</ul>\n<p>åå°„å¯ä»¥åœ¨è¿è¡Œæ—¶æ“ä½œï¼Œå¯èƒ½å¯¼è‡´ç³»ç»Ÿå˜çš„ä¸å®‰å…¨</p>\n<p>å‚è€ƒæ–‡æ¡£ï¼š</p>\n<p><a href=\"https://www.sczyh30.com/posts/Java/java-reflection-1/\" target=\"_blank\" rel=\"noopener\">æ·±å…¥è§£æJavaåå°„ï¼ˆ1ï¼‰ - åŸºç¡€</a></p>\n<p>Java æ ¸å¿ƒæŠ€æœ¯ å·ä¸€</p>\n"},{"title":"gitLab æ­å»º","date":"2019-02-22T02:42:28.000Z","_content":"ä»Šå¤©æˆ‘ä»¬è¯´ä¸€ä¸‹æ€ä¹ˆåœ¨Linuxæ­å»ºgitLabï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š\n\næ‰“å¼€è¯¥åœ°å€ [https://about.gitlab.com/installation/](https://about.gitlab.com/installation/#centos-7) è¿™ä¸ªæ˜¯å®˜æ–¹æä¾›å®‰è£…æ–‡æ¡£ï¼Œå…·ä½“æˆ‘ä»¬æ¥æ“ä½œä¸€ä¸‹\n\n1ï¼šæ ¹æ®æ“ä½œç³»ç»Ÿç‰ˆæœ¬å¯»æ‰¾å¯¹åº”çš„æ–‡æ¡£\n\n2ï¼šå®‰è£…å’Œé…ç½®ç›¸åº”çš„ä¾èµ–\n\nOn CentOS 7 (and RedHat/Oracle/Scientific Linux 7), ä»¥ä¸‹å‘½ä»¤å¯ä»¥ä½¿httpå’Œsshå…è®¸åœ¨é˜²ç«å¢™ä¸‹èƒ½è¢«è®¿é—®\n>\n> ```\n> sudo yum install -y curl policycoreutils-python openssh-server\n> sudo systemctl enable sshd\n> sudo systemctl start sshd\n> sudo firewall-cmd --permanent --add-service=http\n> sudo systemctl reload firewalld\n> ```\n\næ¥ä¸‹æ¥ï¼Œå®‰è£… Postfix ç”¨äºå‘é€é‚®ä»¶ã€‚å¦‚æœä½ æƒ³ç”¨å…¶ä»–çš„æ–¹å¼å‘é€é‚®ä»¶ï¼Œè¯·è·³è¿‡è¯¥æ­¥éª¤å¹¶åœ¨gitLab å®‰è£…ä¹‹åï¼Œé…ç½®å…¶ä»–çš„é‚®ä»¶æœåŠ¡å™¨ã€‚\n>\n> ```\n> sudo yum install postfix\n> sudo systemctl enable postfix\n> sudo systemctl start postfix\n> ```\n\n3ï¼šæ·»åŠ GitLabè½¯ä»¶åŒ…å­˜å‚¨åº“å¹¶å®‰è£…è½¯ä»¶åŒ…\n\næ·»åŠ GitLabè½¯ä»¶åŒ…å­˜å‚¨åº“\n>\n> ```\n> curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash\n> ```\n\næ¥ä¸‹æ¥ï¼Œå®‰è£…gitLabã€‚å®‰è£…è¿‡ç¨‹æ˜¯è‡ªåŠ¨çš„ï¼Œå®‰è£…æˆåŠŸåé€šè¿‡URL è®¿é—®ï¼Œå¦‚æœä½ éœ€è¦é…ç½®httpsï¼Œè¯·å‚è€ƒ https://docs.gitlab.com/omnibus/settings/nginx.html#enable-https\n>\n> ```\n> sudo EXTERNAL_URL=\"http://gitlab.example.com\" yum install -y gitlab-ee\n> ```\n\n```\nEXTERNAL_URL å¡«å†™ä½ è¦è®¿é—®çš„åœ°å€ï¼Œå› ä¸ºç°åœ¨åœ¨æµ‹è¯•ç¯å¢ƒæˆ‘ä»¬ç”¨ipä»£æ›¿ï¼ˆ192.168.1.6ï¼‰\n```\n\nå®Œæˆä»¥ä¸Šæ­¥éª¤ï¼ŒgitLabç®—æ˜¯æ­å»ºå®Œæˆäº†ã€‚\n\nGitLabå¸¸ç”¨å‘½ä»¤\n>\n> ```none\n> sudo gitlab-ctl start    # å¯åŠ¨æ‰€æœ‰ gitlab ç»„ä»¶ï¼›\n> sudo gitlab-ctl stop        # åœæ­¢æ‰€æœ‰ gitlab ç»„ä»¶ï¼›\n> sudo gitlab-ctl restart        # é‡å¯æ‰€æœ‰ gitlab ç»„ä»¶ï¼›\n> sudo gitlab-ctl status        # æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼›\n> sudo gitlab-ctl reconfigure        # å¯åŠ¨æœåŠ¡ï¼›\n> sudo vim /etc/gitlab/gitlab.rb        # ä¿®æ”¹é»˜è®¤çš„é…ç½®æ–‡ä»¶ï¼›\n> gitlab-rake gitlab:check SANITIZE=true --trace    # æ£€æŸ¥gitlabï¼›\n> sudo gitlab-ctl tail        # æŸ¥çœ‹æ—¥å¿—ï¼›\n> ```\n\ngitlabå¦‚ä½•ä½¿ç”¨ï¼Œç™»å½•gitLabå,æ…¢æ…¢ç©å§ï¼ç©å¤šäº†å°±ä¼šäº†\n\ngitLabä¸€äº›å°é—®é¢˜\n\n1:å¤åˆ¶é¡¹ç›®çš„urlåœ°å€ï¼Œå‘ç°portä¸¢å¤±\n\nè§£å†³ï¼šæ‰“å¼€ /var/opt/gitlab/gitlab-rails/etc ç›®å½•\n\nä¿®æ”¹ gitlab.yml æ–‡ä»¶ï¼Œå°†ç«¯å£æ”¹æˆä½ æƒ³è¦çš„ç«¯å£å· ! !\n![gitLab-æ­å»º](gitLab-æ­å»º/1550803434.jpg)","source":"_posts/gitLab-æ­å»º.md","raw":"---\ntitle: gitLab æ­å»º\ndate: 2019-02-22 10:42:28\ntags:\n- github\n- linux\n- CentOS\n---\nä»Šå¤©æˆ‘ä»¬è¯´ä¸€ä¸‹æ€ä¹ˆåœ¨Linuxæ­å»ºgitLabï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š\n\næ‰“å¼€è¯¥åœ°å€ [https://about.gitlab.com/installation/](https://about.gitlab.com/installation/#centos-7) è¿™ä¸ªæ˜¯å®˜æ–¹æä¾›å®‰è£…æ–‡æ¡£ï¼Œå…·ä½“æˆ‘ä»¬æ¥æ“ä½œä¸€ä¸‹\n\n1ï¼šæ ¹æ®æ“ä½œç³»ç»Ÿç‰ˆæœ¬å¯»æ‰¾å¯¹åº”çš„æ–‡æ¡£\n\n2ï¼šå®‰è£…å’Œé…ç½®ç›¸åº”çš„ä¾èµ–\n\nOn CentOS 7 (and RedHat/Oracle/Scientific Linux 7), ä»¥ä¸‹å‘½ä»¤å¯ä»¥ä½¿httpå’Œsshå…è®¸åœ¨é˜²ç«å¢™ä¸‹èƒ½è¢«è®¿é—®\n>\n> ```\n> sudo yum install -y curl policycoreutils-python openssh-server\n> sudo systemctl enable sshd\n> sudo systemctl start sshd\n> sudo firewall-cmd --permanent --add-service=http\n> sudo systemctl reload firewalld\n> ```\n\næ¥ä¸‹æ¥ï¼Œå®‰è£… Postfix ç”¨äºå‘é€é‚®ä»¶ã€‚å¦‚æœä½ æƒ³ç”¨å…¶ä»–çš„æ–¹å¼å‘é€é‚®ä»¶ï¼Œè¯·è·³è¿‡è¯¥æ­¥éª¤å¹¶åœ¨gitLab å®‰è£…ä¹‹åï¼Œé…ç½®å…¶ä»–çš„é‚®ä»¶æœåŠ¡å™¨ã€‚\n>\n> ```\n> sudo yum install postfix\n> sudo systemctl enable postfix\n> sudo systemctl start postfix\n> ```\n\n3ï¼šæ·»åŠ GitLabè½¯ä»¶åŒ…å­˜å‚¨åº“å¹¶å®‰è£…è½¯ä»¶åŒ…\n\næ·»åŠ GitLabè½¯ä»¶åŒ…å­˜å‚¨åº“\n>\n> ```\n> curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash\n> ```\n\næ¥ä¸‹æ¥ï¼Œå®‰è£…gitLabã€‚å®‰è£…è¿‡ç¨‹æ˜¯è‡ªåŠ¨çš„ï¼Œå®‰è£…æˆåŠŸåé€šè¿‡URL è®¿é—®ï¼Œå¦‚æœä½ éœ€è¦é…ç½®httpsï¼Œè¯·å‚è€ƒ https://docs.gitlab.com/omnibus/settings/nginx.html#enable-https\n>\n> ```\n> sudo EXTERNAL_URL=\"http://gitlab.example.com\" yum install -y gitlab-ee\n> ```\n\n```\nEXTERNAL_URL å¡«å†™ä½ è¦è®¿é—®çš„åœ°å€ï¼Œå› ä¸ºç°åœ¨åœ¨æµ‹è¯•ç¯å¢ƒæˆ‘ä»¬ç”¨ipä»£æ›¿ï¼ˆ192.168.1.6ï¼‰\n```\n\nå®Œæˆä»¥ä¸Šæ­¥éª¤ï¼ŒgitLabç®—æ˜¯æ­å»ºå®Œæˆäº†ã€‚\n\nGitLabå¸¸ç”¨å‘½ä»¤\n>\n> ```none\n> sudo gitlab-ctl start    # å¯åŠ¨æ‰€æœ‰ gitlab ç»„ä»¶ï¼›\n> sudo gitlab-ctl stop        # åœæ­¢æ‰€æœ‰ gitlab ç»„ä»¶ï¼›\n> sudo gitlab-ctl restart        # é‡å¯æ‰€æœ‰ gitlab ç»„ä»¶ï¼›\n> sudo gitlab-ctl status        # æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼›\n> sudo gitlab-ctl reconfigure        # å¯åŠ¨æœåŠ¡ï¼›\n> sudo vim /etc/gitlab/gitlab.rb        # ä¿®æ”¹é»˜è®¤çš„é…ç½®æ–‡ä»¶ï¼›\n> gitlab-rake gitlab:check SANITIZE=true --trace    # æ£€æŸ¥gitlabï¼›\n> sudo gitlab-ctl tail        # æŸ¥çœ‹æ—¥å¿—ï¼›\n> ```\n\ngitlabå¦‚ä½•ä½¿ç”¨ï¼Œç™»å½•gitLabå,æ…¢æ…¢ç©å§ï¼ç©å¤šäº†å°±ä¼šäº†\n\ngitLabä¸€äº›å°é—®é¢˜\n\n1:å¤åˆ¶é¡¹ç›®çš„urlåœ°å€ï¼Œå‘ç°portä¸¢å¤±\n\nè§£å†³ï¼šæ‰“å¼€ /var/opt/gitlab/gitlab-rails/etc ç›®å½•\n\nä¿®æ”¹ gitlab.yml æ–‡ä»¶ï¼Œå°†ç«¯å£æ”¹æˆä½ æƒ³è¦çš„ç«¯å£å· ! !\n![gitLab-æ­å»º](gitLab-æ­å»º/1550803434.jpg)","slug":"gitLab-æ­å»º","published":1,"updated":"2019-07-14T03:11:26.961Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkctug000l4osx1ethd54x","content":"<p>ä»Šå¤©æˆ‘ä»¬è¯´ä¸€ä¸‹æ€ä¹ˆåœ¨Linuxæ­å»ºgitLabï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>\n<p>æ‰“å¼€è¯¥åœ°å€ <a href=\"https://about.gitlab.com/installation/#centos-7\" target=\"_blank\" rel=\"noopener\">https://about.gitlab.com/installation/</a> è¿™ä¸ªæ˜¯å®˜æ–¹æä¾›å®‰è£…æ–‡æ¡£ï¼Œå…·ä½“æˆ‘ä»¬æ¥æ“ä½œä¸€ä¸‹</p>\n<p>1ï¼šæ ¹æ®æ“ä½œç³»ç»Ÿç‰ˆæœ¬å¯»æ‰¾å¯¹åº”çš„æ–‡æ¡£</p>\n<p>2ï¼šå®‰è£…å’Œé…ç½®ç›¸åº”çš„ä¾èµ–</p>\n<p>On CentOS 7 (and RedHat/Oracle/Scientific Linux 7), ä»¥ä¸‹å‘½ä»¤å¯ä»¥ä½¿httpå’Œsshå…è®¸åœ¨é˜²ç«å¢™ä¸‹èƒ½è¢«è®¿é—®</p>\n<blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; sudo yum install -y curl policycoreutils-python openssh-server</span><br><span class=\"line\">&gt; sudo systemctl enable sshd</span><br><span class=\"line\">&gt; sudo systemctl start sshd</span><br><span class=\"line\">&gt; sudo firewall-cmd --permanent --add-service=http</span><br><span class=\"line\">&gt; sudo systemctl reload firewalld</span><br><span class=\"line\">&gt;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<p>æ¥ä¸‹æ¥ï¼Œå®‰è£… Postfix ç”¨äºå‘é€é‚®ä»¶ã€‚å¦‚æœä½ æƒ³ç”¨å…¶ä»–çš„æ–¹å¼å‘é€é‚®ä»¶ï¼Œè¯·è·³è¿‡è¯¥æ­¥éª¤å¹¶åœ¨gitLab å®‰è£…ä¹‹åï¼Œé…ç½®å…¶ä»–çš„é‚®ä»¶æœåŠ¡å™¨ã€‚</p>\n<blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; sudo yum install postfix</span><br><span class=\"line\">&gt; sudo systemctl enable postfix</span><br><span class=\"line\">&gt; sudo systemctl start postfix</span><br><span class=\"line\">&gt;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<p>3ï¼šæ·»åŠ GitLabè½¯ä»¶åŒ…å­˜å‚¨åº“å¹¶å®‰è£…è½¯ä»¶åŒ…</p>\n<p>æ·»åŠ GitLabè½¯ä»¶åŒ…å­˜å‚¨åº“</p>\n<blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash</span><br><span class=\"line\">&gt;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<p>æ¥ä¸‹æ¥ï¼Œå®‰è£…gitLabã€‚å®‰è£…è¿‡ç¨‹æ˜¯è‡ªåŠ¨çš„ï¼Œå®‰è£…æˆåŠŸåé€šè¿‡URL è®¿é—®ï¼Œå¦‚æœä½ éœ€è¦é…ç½®httpsï¼Œè¯·å‚è€ƒ <a href=\"https://docs.gitlab.com/omnibus/settings/nginx.html#enable-https\" target=\"_blank\" rel=\"noopener\">https://docs.gitlab.com/omnibus/settings/nginx.html#enable-https</a></p>\n<blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; sudo EXTERNAL_URL=&quot;http://gitlab.example.com&quot; yum install -y gitlab-ee</span><br><span class=\"line\">&gt;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">EXTERNAL_URL å¡«å†™ä½ è¦è®¿é—®çš„åœ°å€ï¼Œå› ä¸ºç°åœ¨åœ¨æµ‹è¯•ç¯å¢ƒæˆ‘ä»¬ç”¨ipä»£æ›¿ï¼ˆ192.168.1.6ï¼‰</span><br></pre></td></tr></table></figure>\n<p>å®Œæˆä»¥ä¸Šæ­¥éª¤ï¼ŒgitLabç®—æ˜¯æ­å»ºå®Œæˆäº†ã€‚</p>\n<p>GitLabå¸¸ç”¨å‘½ä»¤</p>\n<blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; sudo gitlab-ctl start    # å¯åŠ¨æ‰€æœ‰ gitlab ç»„ä»¶ï¼›</span><br><span class=\"line\">&gt; sudo gitlab-ctl stop        # åœæ­¢æ‰€æœ‰ gitlab ç»„ä»¶ï¼›</span><br><span class=\"line\">&gt; sudo gitlab-ctl restart        # é‡å¯æ‰€æœ‰ gitlab ç»„ä»¶ï¼›</span><br><span class=\"line\">&gt; sudo gitlab-ctl status        # æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼›</span><br><span class=\"line\">&gt; sudo gitlab-ctl reconfigure        # å¯åŠ¨æœåŠ¡ï¼›</span><br><span class=\"line\">&gt; sudo vim /etc/gitlab/gitlab.rb        # ä¿®æ”¹é»˜è®¤çš„é…ç½®æ–‡ä»¶ï¼›</span><br><span class=\"line\">&gt; gitlab-rake gitlab:check SANITIZE=true --trace    # æ£€æŸ¥gitlabï¼›</span><br><span class=\"line\">&gt; sudo gitlab-ctl tail        # æŸ¥çœ‹æ—¥å¿—ï¼›</span><br><span class=\"line\">&gt;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<p>gitlabå¦‚ä½•ä½¿ç”¨ï¼Œç™»å½•gitLabå,æ…¢æ…¢ç©å§ï¼ç©å¤šäº†å°±ä¼šäº†</p>\n<p>gitLabä¸€äº›å°é—®é¢˜</p>\n<p>1:å¤åˆ¶é¡¹ç›®çš„urlåœ°å€ï¼Œå‘ç°portä¸¢å¤±</p>\n<p>è§£å†³ï¼šæ‰“å¼€ /var/opt/gitlab/gitlab-rails/etc ç›®å½•</p>\n<p>ä¿®æ”¹ gitlab.yml æ–‡ä»¶ï¼Œå°†ç«¯å£æ”¹æˆä½ æƒ³è¦çš„ç«¯å£å· ! !<br><img src=\"/2019/02/22/gitLab-æ­å»º/1550803434.jpg\" alt=\"gitLab-æ­å»º\"></p>\n","site":{"data":{}},"excerpt":"","more":"<p>ä»Šå¤©æˆ‘ä»¬è¯´ä¸€ä¸‹æ€ä¹ˆåœ¨Linuxæ­å»ºgitLabï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>\n<p>æ‰“å¼€è¯¥åœ°å€ <a href=\"https://about.gitlab.com/installation/#centos-7\" target=\"_blank\" rel=\"noopener\">https://about.gitlab.com/installation/</a> è¿™ä¸ªæ˜¯å®˜æ–¹æä¾›å®‰è£…æ–‡æ¡£ï¼Œå…·ä½“æˆ‘ä»¬æ¥æ“ä½œä¸€ä¸‹</p>\n<p>1ï¼šæ ¹æ®æ“ä½œç³»ç»Ÿç‰ˆæœ¬å¯»æ‰¾å¯¹åº”çš„æ–‡æ¡£</p>\n<p>2ï¼šå®‰è£…å’Œé…ç½®ç›¸åº”çš„ä¾èµ–</p>\n<p>On CentOS 7 (and RedHat/Oracle/Scientific Linux 7), ä»¥ä¸‹å‘½ä»¤å¯ä»¥ä½¿httpå’Œsshå…è®¸åœ¨é˜²ç«å¢™ä¸‹èƒ½è¢«è®¿é—®</p>\n<blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; sudo yum install -y curl policycoreutils-python openssh-server</span><br><span class=\"line\">&gt; sudo systemctl enable sshd</span><br><span class=\"line\">&gt; sudo systemctl start sshd</span><br><span class=\"line\">&gt; sudo firewall-cmd --permanent --add-service=http</span><br><span class=\"line\">&gt; sudo systemctl reload firewalld</span><br><span class=\"line\">&gt;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<p>æ¥ä¸‹æ¥ï¼Œå®‰è£… Postfix ç”¨äºå‘é€é‚®ä»¶ã€‚å¦‚æœä½ æƒ³ç”¨å…¶ä»–çš„æ–¹å¼å‘é€é‚®ä»¶ï¼Œè¯·è·³è¿‡è¯¥æ­¥éª¤å¹¶åœ¨gitLab å®‰è£…ä¹‹åï¼Œé…ç½®å…¶ä»–çš„é‚®ä»¶æœåŠ¡å™¨ã€‚</p>\n<blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; sudo yum install postfix</span><br><span class=\"line\">&gt; sudo systemctl enable postfix</span><br><span class=\"line\">&gt; sudo systemctl start postfix</span><br><span class=\"line\">&gt;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<p>3ï¼šæ·»åŠ GitLabè½¯ä»¶åŒ…å­˜å‚¨åº“å¹¶å®‰è£…è½¯ä»¶åŒ…</p>\n<p>æ·»åŠ GitLabè½¯ä»¶åŒ…å­˜å‚¨åº“</p>\n<blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash</span><br><span class=\"line\">&gt;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<p>æ¥ä¸‹æ¥ï¼Œå®‰è£…gitLabã€‚å®‰è£…è¿‡ç¨‹æ˜¯è‡ªåŠ¨çš„ï¼Œå®‰è£…æˆåŠŸåé€šè¿‡URL è®¿é—®ï¼Œå¦‚æœä½ éœ€è¦é…ç½®httpsï¼Œè¯·å‚è€ƒ <a href=\"https://docs.gitlab.com/omnibus/settings/nginx.html#enable-https\" target=\"_blank\" rel=\"noopener\">https://docs.gitlab.com/omnibus/settings/nginx.html#enable-https</a></p>\n<blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; sudo EXTERNAL_URL=&quot;http://gitlab.example.com&quot; yum install -y gitlab-ee</span><br><span class=\"line\">&gt;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">EXTERNAL_URL å¡«å†™ä½ è¦è®¿é—®çš„åœ°å€ï¼Œå› ä¸ºç°åœ¨åœ¨æµ‹è¯•ç¯å¢ƒæˆ‘ä»¬ç”¨ipä»£æ›¿ï¼ˆ192.168.1.6ï¼‰</span><br></pre></td></tr></table></figure>\n<p>å®Œæˆä»¥ä¸Šæ­¥éª¤ï¼ŒgitLabç®—æ˜¯æ­å»ºå®Œæˆäº†ã€‚</p>\n<p>GitLabå¸¸ç”¨å‘½ä»¤</p>\n<blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; sudo gitlab-ctl start    # å¯åŠ¨æ‰€æœ‰ gitlab ç»„ä»¶ï¼›</span><br><span class=\"line\">&gt; sudo gitlab-ctl stop        # åœæ­¢æ‰€æœ‰ gitlab ç»„ä»¶ï¼›</span><br><span class=\"line\">&gt; sudo gitlab-ctl restart        # é‡å¯æ‰€æœ‰ gitlab ç»„ä»¶ï¼›</span><br><span class=\"line\">&gt; sudo gitlab-ctl status        # æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼›</span><br><span class=\"line\">&gt; sudo gitlab-ctl reconfigure        # å¯åŠ¨æœåŠ¡ï¼›</span><br><span class=\"line\">&gt; sudo vim /etc/gitlab/gitlab.rb        # ä¿®æ”¹é»˜è®¤çš„é…ç½®æ–‡ä»¶ï¼›</span><br><span class=\"line\">&gt; gitlab-rake gitlab:check SANITIZE=true --trace    # æ£€æŸ¥gitlabï¼›</span><br><span class=\"line\">&gt; sudo gitlab-ctl tail        # æŸ¥çœ‹æ—¥å¿—ï¼›</span><br><span class=\"line\">&gt;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<p>gitlabå¦‚ä½•ä½¿ç”¨ï¼Œç™»å½•gitLabå,æ…¢æ…¢ç©å§ï¼ç©å¤šäº†å°±ä¼šäº†</p>\n<p>gitLabä¸€äº›å°é—®é¢˜</p>\n<p>1:å¤åˆ¶é¡¹ç›®çš„urlåœ°å€ï¼Œå‘ç°portä¸¢å¤±</p>\n<p>è§£å†³ï¼šæ‰“å¼€ /var/opt/gitlab/gitlab-rails/etc ç›®å½•</p>\n<p>ä¿®æ”¹ gitlab.yml æ–‡ä»¶ï¼Œå°†ç«¯å£æ”¹æˆä½ æƒ³è¦çš„ç«¯å£å· ! !<br><img src=\"/2019/02/22/gitLab-æ­å»º/1550803434.jpg\" alt=\"gitLab-æ­å»º\"></p>\n"},{"layout":"w","title":"shiro ç¬”è®°ï¼ˆä¸€ï¼‰","date":"2019-03-15T01:42:32.000Z","_content":"","source":"_posts/shiro-ç¬”è®°ï¼ˆä¸€ï¼‰.md","raw":"---\nlayout: w\ntitle: shiro ç¬”è®°ï¼ˆä¸€ï¼‰\ndate: 2019-03-15 09:42:32\ntags:\n---\n","slug":"shiro-ç¬”è®°ï¼ˆä¸€ï¼‰","published":1,"updated":"2019-07-14T03:11:26.977Z","comments":1,"photos":[],"link":"","_id":"ck8mkctui000o4osx60q88j4u","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"spring boot å¦‚ä½•åˆ›å»ºå’Œä½¿ç”¨freemakerè‡ªå®šä¹‰æ ‡ç­¾","date":"2019-02-19T10:06:11.000Z","_content":"\nç”±äºspring boot ç®€åŒ–äº†é…ç½®æ–‡ä»¶çš„ï¼Œæ‰€ä»¥ä¹‹å‰åœ¨é…ç½®æ–‡ä»¶ä¸­å®ç°è‡ªå®šä¹‰freemakeræ ‡ç­¾ï¼Œç»Ÿä¸€é€šè¿‡Javaç±»å®ç°ã€‚\n\nä¹‹å‰spring MVC çš„å®ç°æ­¥éª¤ï¼š\n\n    <!-- =========================freemarker VIEWå®šä¹‰ ========================= -->\n    <bean id=\"freeMarkerConfig\" class=\"org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer\">\n       <property name=\"templateLoaderPaths\" value=\"/WEB-INF/view2.0/\"/>\n       <property name=\"freemarkerVariables\">\n          <map>\n             <!-- shiro freemarkeræ ‡ç­¾  ä½¿ç”¨è‡ªå®šä¹‰æ ‡ç­¾-->\n             <entry key=\"shiro\">\n                <bean class=\"com.yuelinghui.shiro.freemarker.ShiroTags\"/>\n             </entry>\n          </map>\n       </property>\n    </bean>\n    é‚£ä¹ˆspring boot ä¸­å¦‚ä½•å®ç°ï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š\n    \n    åˆ›å»º FreemarkerConfig ï¼Œ\n    @Component\n    public class FreemarkerConfig {\n    \n      @Autowired\n      private Configuration configuration;\n    \n      @PostConstruct\n      public void setSharedVariable() {\n    // åˆ›å»ºè‡ªå®šä¹‰æ ‡ç­¾å¯¹è±¡\n        configuration.setSharedVariable(\"shiro\", new ShiroTags());\n      }\n    \n    }\n    é€šè¿‡ä¸Šè¿°æ–¹æ³•å¯ä»¥å®ç°å¼•å…¥freemaker è‡ªå®šä¹‰æ ‡ç­¾\n","source":"_posts/spring-boot-å¦‚ä½•åˆ›å»ºå’Œä½¿ç”¨freemakerè‡ªå®šä¹‰æ ‡ç­¾.md","raw":"---\ntitle: spring boot å¦‚ä½•åˆ›å»ºå’Œä½¿ç”¨freemakerè‡ªå®šä¹‰æ ‡ç­¾\ndate: 2019-02-19 18:06:11\ntags:\n---\n\nç”±äºspring boot ç®€åŒ–äº†é…ç½®æ–‡ä»¶çš„ï¼Œæ‰€ä»¥ä¹‹å‰åœ¨é…ç½®æ–‡ä»¶ä¸­å®ç°è‡ªå®šä¹‰freemakeræ ‡ç­¾ï¼Œç»Ÿä¸€é€šè¿‡Javaç±»å®ç°ã€‚\n\nä¹‹å‰spring MVC çš„å®ç°æ­¥éª¤ï¼š\n\n    <!-- =========================freemarker VIEWå®šä¹‰ ========================= -->\n    <bean id=\"freeMarkerConfig\" class=\"org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer\">\n       <property name=\"templateLoaderPaths\" value=\"/WEB-INF/view2.0/\"/>\n       <property name=\"freemarkerVariables\">\n          <map>\n             <!-- shiro freemarkeræ ‡ç­¾  ä½¿ç”¨è‡ªå®šä¹‰æ ‡ç­¾-->\n             <entry key=\"shiro\">\n                <bean class=\"com.yuelinghui.shiro.freemarker.ShiroTags\"/>\n             </entry>\n          </map>\n       </property>\n    </bean>\n    é‚£ä¹ˆspring boot ä¸­å¦‚ä½•å®ç°ï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š\n    \n    åˆ›å»º FreemarkerConfig ï¼Œ\n    @Component\n    public class FreemarkerConfig {\n    \n      @Autowired\n      private Configuration configuration;\n    \n      @PostConstruct\n      public void setSharedVariable() {\n    // åˆ›å»ºè‡ªå®šä¹‰æ ‡ç­¾å¯¹è±¡\n        configuration.setSharedVariable(\"shiro\", new ShiroTags());\n      }\n    \n    }\n    é€šè¿‡ä¸Šè¿°æ–¹æ³•å¯ä»¥å®ç°å¼•å…¥freemaker è‡ªå®šä¹‰æ ‡ç­¾\n","slug":"spring-boot-å¦‚ä½•åˆ›å»ºå’Œä½¿ç”¨freemakerè‡ªå®šä¹‰æ ‡ç­¾","published":1,"updated":"2019-07-14T03:11:26.977Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkctuj000q4osxf8lzjl60","content":"<p>ç”±äºspring boot ç®€åŒ–äº†é…ç½®æ–‡ä»¶çš„ï¼Œæ‰€ä»¥ä¹‹å‰åœ¨é…ç½®æ–‡ä»¶ä¸­å®ç°è‡ªå®šä¹‰freemakeræ ‡ç­¾ï¼Œç»Ÿä¸€é€šè¿‡Javaç±»å®ç°ã€‚</p>\n<p>ä¹‹å‰spring MVC çš„å®ç°æ­¥éª¤ï¼š</p>\n<pre><code>&lt;!-- =========================freemarker VIEWå®šä¹‰ ========================= --&gt;\n&lt;bean id=&quot;freeMarkerConfig&quot; class=&quot;org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer&quot;&gt;\n   &lt;property name=&quot;templateLoaderPaths&quot; value=&quot;/WEB-INF/view2.0/&quot;/&gt;\n   &lt;property name=&quot;freemarkerVariables&quot;&gt;\n      &lt;map&gt;\n         &lt;!-- shiro freemarkeræ ‡ç­¾  ä½¿ç”¨è‡ªå®šä¹‰æ ‡ç­¾--&gt;\n         &lt;entry key=&quot;shiro&quot;&gt;\n            &lt;bean class=&quot;com.yuelinghui.shiro.freemarker.ShiroTags&quot;/&gt;\n         &lt;/entry&gt;\n      &lt;/map&gt;\n   &lt;/property&gt;\n&lt;/bean&gt;\né‚£ä¹ˆspring boot ä¸­å¦‚ä½•å®ç°ï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š\n\nåˆ›å»º FreemarkerConfig ï¼Œ\n@Component\npublic class FreemarkerConfig {\n\n  @Autowired\n  private Configuration configuration;\n\n  @PostConstruct\n  public void setSharedVariable() {\n// åˆ›å»ºè‡ªå®šä¹‰æ ‡ç­¾å¯¹è±¡\n    configuration.setSharedVariable(&quot;shiro&quot;, new ShiroTags());\n  }\n\n}\né€šè¿‡ä¸Šè¿°æ–¹æ³•å¯ä»¥å®ç°å¼•å…¥freemaker è‡ªå®šä¹‰æ ‡ç­¾\n</code></pre>","site":{"data":{}},"excerpt":"","more":"<p>ç”±äºspring boot ç®€åŒ–äº†é…ç½®æ–‡ä»¶çš„ï¼Œæ‰€ä»¥ä¹‹å‰åœ¨é…ç½®æ–‡ä»¶ä¸­å®ç°è‡ªå®šä¹‰freemakeræ ‡ç­¾ï¼Œç»Ÿä¸€é€šè¿‡Javaç±»å®ç°ã€‚</p>\n<p>ä¹‹å‰spring MVC çš„å®ç°æ­¥éª¤ï¼š</p>\n<pre><code>&lt;!-- =========================freemarker VIEWå®šä¹‰ ========================= --&gt;\n&lt;bean id=&quot;freeMarkerConfig&quot; class=&quot;org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer&quot;&gt;\n   &lt;property name=&quot;templateLoaderPaths&quot; value=&quot;/WEB-INF/view2.0/&quot;/&gt;\n   &lt;property name=&quot;freemarkerVariables&quot;&gt;\n      &lt;map&gt;\n         &lt;!-- shiro freemarkeræ ‡ç­¾  ä½¿ç”¨è‡ªå®šä¹‰æ ‡ç­¾--&gt;\n         &lt;entry key=&quot;shiro&quot;&gt;\n            &lt;bean class=&quot;com.yuelinghui.shiro.freemarker.ShiroTags&quot;/&gt;\n         &lt;/entry&gt;\n      &lt;/map&gt;\n   &lt;/property&gt;\n&lt;/bean&gt;\né‚£ä¹ˆspring boot ä¸­å¦‚ä½•å®ç°ï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š\n\nåˆ›å»º FreemarkerConfig ï¼Œ\n@Component\npublic class FreemarkerConfig {\n\n  @Autowired\n  private Configuration configuration;\n\n  @PostConstruct\n  public void setSharedVariable() {\n// åˆ›å»ºè‡ªå®šä¹‰æ ‡ç­¾å¯¹è±¡\n    configuration.setSharedVariable(&quot;shiro&quot;, new ShiroTags());\n  }\n\n}\né€šè¿‡ä¸Šè¿°æ–¹æ³•å¯ä»¥å®ç°å¼•å…¥freemaker è‡ªå®šä¹‰æ ‡ç­¾\n</code></pre>"},{"title":"spring boot å­¦ä¹ ç¬”è®°","date":"2019-02-18T09:06:43.000Z","_content":"1ï¼šSpring Boot å®šåˆ¶URLåŒ¹é…è§„åˆ™çš„æ–¹æ³•\n\næ˜¨å¤©ä½¿ç”¨spring boot åšäº†ä¸€ä¸ªåå°ç®¡ç†ç³»ç»Ÿï¼Œå†æ–¹æ³•è¯·æ±‚æ—¶ç”±äºå¸¦äº†åç¼€å¯¼è‡´ä¸èƒ½æ‰¾åˆ°å¯¹åº”çš„controllerã€‚åŸå› æ˜¯spring boot è·¯ç”±è§„åˆ™è®¾ç½®äº†çœŸåŒ¹é…ï¼Œæ¯”å¦‚ è¯·æ±‚ä½ å‘èµ·è¯·æ±‚ /index ï¼Œå®ƒåªèƒ½åŒ¹é… /home è·¯å¾„çš„ å¸¦åç¼€çš„ä¸€å¾‹ä¸åŒ¹é…ã€‚é‚£ä¹ˆå¦‚æœæƒ³è¾¾åˆ°åŒ¹é…éœ€æ±‚ä»¥ä¸‹æ­¥éª¤ï¼š\n\n1ï¼šå¯åŠ¨ç±» extends WebMvcConfigurationSupport\n\n2ï¼šé‡å†™configurePathMatchæ–¹æ³•\n\n    @SpringBootApplication\n    public class DreamAdminApplication extends WebMvcConfigurationSupport {\n    \n    /**\n     * 1ã€ extends WebMvcConfigurationSupport\n     * 2ã€é‡å†™ä¸‹é¢æ–¹æ³•;\n     * setUseSuffixPatternMatch : è®¾ç½®æ˜¯å¦æ˜¯åç¼€æ¨¡å¼åŒ¹é…ï¼Œå¦‚â€œ/index â€æ˜¯å¦åŒ¹é…/index.*ï¼Œé»˜è®¤çœŸå³åŒ¹é…ï¼›\n     * setUseTrailingSlashMatch : è®¾ç½®æ˜¯å¦è‡ªåŠ¨åç¼€è·¯å¾„æ¨¡å¼åŒ¹é…ï¼Œå¦‚â€œ/index â€æ˜¯å¦åŒ¹é…â€œ/index /â€ï¼Œé»˜è®¤çœŸå³åŒ¹é…ï¼›\n     */\n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n        configurer.setUseSuffixPatternMatch(true);\n    }\n    \n    \n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(\"/static/**\").addResourceLocations(\"classpath:/static/\");\n        super.addResourceHandlers(registry);\n    }\n    \n    public static void main(String[] args) {\n        SpringApplication.run(DreamAdminApplication.class, args);\n    }\n    }\n2ï¼šSpring Boot è‡ªå®šä¹‰é™æ€èµ„æºæ˜ å°„ç›®å½•\n\nç”±äºç»§æ‰¿äº†WebMvcConfigurationSupportè¿™ä¸ªç±»ï¼Œå¯¼è‡´é™æ€æ–‡ä»¶å‡ºç°404çš„é—®é¢˜ï¼Œæ‰€ä»¥éœ€è¦æˆ‘ä»¬è‡ªå®šä¹‰é™æ€èµ„æºæ˜ å°„ç›®å½•çš„ï¼Œå…·ä½“å®ç°åªéœ€è¦é‡å†™ï¼ˆWebMvcConfigurationSupport ï¼‰çš„addResourceHandlersæ–¹æ³•å³å¯ã€‚\n\nregistry.addResourceHandler(â€œ/static/**â€).addResourceLocations(â€œclasspath:/static/â€œ);\n\nå…³äº WebMvcConfigurationSupport æä¾›çš„æ–¹æ³•ï¼Œåç»­å†ä¸€ä¸€è®²è§£ã€‚","source":"_posts/spring boot å­¦ä¹ ç¬”è®°.md","raw":"---\ntitle: spring boot å­¦ä¹ ç¬”è®°\ndate: 2019-02-18 17:06:43\n---\n1ï¼šSpring Boot å®šåˆ¶URLåŒ¹é…è§„åˆ™çš„æ–¹æ³•\n\næ˜¨å¤©ä½¿ç”¨spring boot åšäº†ä¸€ä¸ªåå°ç®¡ç†ç³»ç»Ÿï¼Œå†æ–¹æ³•è¯·æ±‚æ—¶ç”±äºå¸¦äº†åç¼€å¯¼è‡´ä¸èƒ½æ‰¾åˆ°å¯¹åº”çš„controllerã€‚åŸå› æ˜¯spring boot è·¯ç”±è§„åˆ™è®¾ç½®äº†çœŸåŒ¹é…ï¼Œæ¯”å¦‚ è¯·æ±‚ä½ å‘èµ·è¯·æ±‚ /index ï¼Œå®ƒåªèƒ½åŒ¹é… /home è·¯å¾„çš„ å¸¦åç¼€çš„ä¸€å¾‹ä¸åŒ¹é…ã€‚é‚£ä¹ˆå¦‚æœæƒ³è¾¾åˆ°åŒ¹é…éœ€æ±‚ä»¥ä¸‹æ­¥éª¤ï¼š\n\n1ï¼šå¯åŠ¨ç±» extends WebMvcConfigurationSupport\n\n2ï¼šé‡å†™configurePathMatchæ–¹æ³•\n\n    @SpringBootApplication\n    public class DreamAdminApplication extends WebMvcConfigurationSupport {\n    \n    /**\n     * 1ã€ extends WebMvcConfigurationSupport\n     * 2ã€é‡å†™ä¸‹é¢æ–¹æ³•;\n     * setUseSuffixPatternMatch : è®¾ç½®æ˜¯å¦æ˜¯åç¼€æ¨¡å¼åŒ¹é…ï¼Œå¦‚â€œ/index â€æ˜¯å¦åŒ¹é…/index.*ï¼Œé»˜è®¤çœŸå³åŒ¹é…ï¼›\n     * setUseTrailingSlashMatch : è®¾ç½®æ˜¯å¦è‡ªåŠ¨åç¼€è·¯å¾„æ¨¡å¼åŒ¹é…ï¼Œå¦‚â€œ/index â€æ˜¯å¦åŒ¹é…â€œ/index /â€ï¼Œé»˜è®¤çœŸå³åŒ¹é…ï¼›\n     */\n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n        configurer.setUseSuffixPatternMatch(true);\n    }\n    \n    \n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(\"/static/**\").addResourceLocations(\"classpath:/static/\");\n        super.addResourceHandlers(registry);\n    }\n    \n    public static void main(String[] args) {\n        SpringApplication.run(DreamAdminApplication.class, args);\n    }\n    }\n2ï¼šSpring Boot è‡ªå®šä¹‰é™æ€èµ„æºæ˜ å°„ç›®å½•\n\nç”±äºç»§æ‰¿äº†WebMvcConfigurationSupportè¿™ä¸ªç±»ï¼Œå¯¼è‡´é™æ€æ–‡ä»¶å‡ºç°404çš„é—®é¢˜ï¼Œæ‰€ä»¥éœ€è¦æˆ‘ä»¬è‡ªå®šä¹‰é™æ€èµ„æºæ˜ å°„ç›®å½•çš„ï¼Œå…·ä½“å®ç°åªéœ€è¦é‡å†™ï¼ˆWebMvcConfigurationSupport ï¼‰çš„addResourceHandlersæ–¹æ³•å³å¯ã€‚\n\nregistry.addResourceHandler(â€œ/static/**â€).addResourceLocations(â€œclasspath:/static/â€œ);\n\nå…³äº WebMvcConfigurationSupport æä¾›çš„æ–¹æ³•ï¼Œåç»­å†ä¸€ä¸€è®²è§£ã€‚","slug":"spring boot å­¦ä¹ ç¬”è®°","published":1,"updated":"2019-07-14T03:11:26.977Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkctul000s4osx4ynvlet1","content":"<p>1ï¼šSpring Boot å®šåˆ¶URLåŒ¹é…è§„åˆ™çš„æ–¹æ³•</p>\n<p>æ˜¨å¤©ä½¿ç”¨spring boot åšäº†ä¸€ä¸ªåå°ç®¡ç†ç³»ç»Ÿï¼Œå†æ–¹æ³•è¯·æ±‚æ—¶ç”±äºå¸¦äº†åç¼€å¯¼è‡´ä¸èƒ½æ‰¾åˆ°å¯¹åº”çš„controllerã€‚åŸå› æ˜¯spring boot è·¯ç”±è§„åˆ™è®¾ç½®äº†çœŸåŒ¹é…ï¼Œæ¯”å¦‚ è¯·æ±‚ä½ å‘èµ·è¯·æ±‚ /index ï¼Œå®ƒåªèƒ½åŒ¹é… /home è·¯å¾„çš„ å¸¦åç¼€çš„ä¸€å¾‹ä¸åŒ¹é…ã€‚é‚£ä¹ˆå¦‚æœæƒ³è¾¾åˆ°åŒ¹é…éœ€æ±‚ä»¥ä¸‹æ­¥éª¤ï¼š</p>\n<p>1ï¼šå¯åŠ¨ç±» extends WebMvcConfigurationSupport</p>\n<p>2ï¼šé‡å†™configurePathMatchæ–¹æ³•</p>\n<pre><code>@SpringBootApplication\npublic class DreamAdminApplication extends WebMvcConfigurationSupport {\n\n/**\n * 1ã€ extends WebMvcConfigurationSupport\n * 2ã€é‡å†™ä¸‹é¢æ–¹æ³•;\n * setUseSuffixPatternMatch : è®¾ç½®æ˜¯å¦æ˜¯åç¼€æ¨¡å¼åŒ¹é…ï¼Œå¦‚â€œ/index â€æ˜¯å¦åŒ¹é…/index.*ï¼Œé»˜è®¤çœŸå³åŒ¹é…ï¼›\n * setUseTrailingSlashMatch : è®¾ç½®æ˜¯å¦è‡ªåŠ¨åç¼€è·¯å¾„æ¨¡å¼åŒ¹é…ï¼Œå¦‚â€œ/index â€æ˜¯å¦åŒ¹é…â€œ/index /â€ï¼Œé»˜è®¤çœŸå³åŒ¹é…ï¼›\n */\n@Override\npublic void configurePathMatch(PathMatchConfigurer configurer) {\n    configurer.setUseSuffixPatternMatch(true);\n}\n\n\n@Override\npublic void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry.addResourceHandler(&quot;/static/**&quot;).addResourceLocations(&quot;classpath:/static/&quot;);\n    super.addResourceHandlers(registry);\n}\n\npublic static void main(String[] args) {\n    SpringApplication.run(DreamAdminApplication.class, args);\n}\n}\n</code></pre><p>2ï¼šSpring Boot è‡ªå®šä¹‰é™æ€èµ„æºæ˜ å°„ç›®å½•</p>\n<p>ç”±äºç»§æ‰¿äº†WebMvcConfigurationSupportè¿™ä¸ªç±»ï¼Œå¯¼è‡´é™æ€æ–‡ä»¶å‡ºç°404çš„é—®é¢˜ï¼Œæ‰€ä»¥éœ€è¦æˆ‘ä»¬è‡ªå®šä¹‰é™æ€èµ„æºæ˜ å°„ç›®å½•çš„ï¼Œå…·ä½“å®ç°åªéœ€è¦é‡å†™ï¼ˆWebMvcConfigurationSupport ï¼‰çš„addResourceHandlersæ–¹æ³•å³å¯ã€‚</p>\n<p>registry.addResourceHandler(â€œ/static/**â€).addResourceLocations(â€œclasspath:/static/â€œ);</p>\n<p>å…³äº WebMvcConfigurationSupport æä¾›çš„æ–¹æ³•ï¼Œåç»­å†ä¸€ä¸€è®²è§£ã€‚</p>\n","site":{"data":{}},"excerpt":"","more":"<p>1ï¼šSpring Boot å®šåˆ¶URLåŒ¹é…è§„åˆ™çš„æ–¹æ³•</p>\n<p>æ˜¨å¤©ä½¿ç”¨spring boot åšäº†ä¸€ä¸ªåå°ç®¡ç†ç³»ç»Ÿï¼Œå†æ–¹æ³•è¯·æ±‚æ—¶ç”±äºå¸¦äº†åç¼€å¯¼è‡´ä¸èƒ½æ‰¾åˆ°å¯¹åº”çš„controllerã€‚åŸå› æ˜¯spring boot è·¯ç”±è§„åˆ™è®¾ç½®äº†çœŸåŒ¹é…ï¼Œæ¯”å¦‚ è¯·æ±‚ä½ å‘èµ·è¯·æ±‚ /index ï¼Œå®ƒåªèƒ½åŒ¹é… /home è·¯å¾„çš„ å¸¦åç¼€çš„ä¸€å¾‹ä¸åŒ¹é…ã€‚é‚£ä¹ˆå¦‚æœæƒ³è¾¾åˆ°åŒ¹é…éœ€æ±‚ä»¥ä¸‹æ­¥éª¤ï¼š</p>\n<p>1ï¼šå¯åŠ¨ç±» extends WebMvcConfigurationSupport</p>\n<p>2ï¼šé‡å†™configurePathMatchæ–¹æ³•</p>\n<pre><code>@SpringBootApplication\npublic class DreamAdminApplication extends WebMvcConfigurationSupport {\n\n/**\n * 1ã€ extends WebMvcConfigurationSupport\n * 2ã€é‡å†™ä¸‹é¢æ–¹æ³•;\n * setUseSuffixPatternMatch : è®¾ç½®æ˜¯å¦æ˜¯åç¼€æ¨¡å¼åŒ¹é…ï¼Œå¦‚â€œ/index â€æ˜¯å¦åŒ¹é…/index.*ï¼Œé»˜è®¤çœŸå³åŒ¹é…ï¼›\n * setUseTrailingSlashMatch : è®¾ç½®æ˜¯å¦è‡ªåŠ¨åç¼€è·¯å¾„æ¨¡å¼åŒ¹é…ï¼Œå¦‚â€œ/index â€æ˜¯å¦åŒ¹é…â€œ/index /â€ï¼Œé»˜è®¤çœŸå³åŒ¹é…ï¼›\n */\n@Override\npublic void configurePathMatch(PathMatchConfigurer configurer) {\n    configurer.setUseSuffixPatternMatch(true);\n}\n\n\n@Override\npublic void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry.addResourceHandler(&quot;/static/**&quot;).addResourceLocations(&quot;classpath:/static/&quot;);\n    super.addResourceHandlers(registry);\n}\n\npublic static void main(String[] args) {\n    SpringApplication.run(DreamAdminApplication.class, args);\n}\n}\n</code></pre><p>2ï¼šSpring Boot è‡ªå®šä¹‰é™æ€èµ„æºæ˜ å°„ç›®å½•</p>\n<p>ç”±äºç»§æ‰¿äº†WebMvcConfigurationSupportè¿™ä¸ªç±»ï¼Œå¯¼è‡´é™æ€æ–‡ä»¶å‡ºç°404çš„é—®é¢˜ï¼Œæ‰€ä»¥éœ€è¦æˆ‘ä»¬è‡ªå®šä¹‰é™æ€èµ„æºæ˜ å°„ç›®å½•çš„ï¼Œå…·ä½“å®ç°åªéœ€è¦é‡å†™ï¼ˆWebMvcConfigurationSupport ï¼‰çš„addResourceHandlersæ–¹æ³•å³å¯ã€‚</p>\n<p>registry.addResourceHandler(â€œ/static/**â€).addResourceLocations(â€œclasspath:/static/â€œ);</p>\n<p>å…³äº WebMvcConfigurationSupport æä¾›çš„æ–¹æ³•ï¼Œåç»­å†ä¸€ä¸€è®²è§£ã€‚</p>\n"},{"title":"äº†è§£Javaä¸­çš„ä»£ç†","date":"2019-03-15T01:46:49.000Z","_content":"# 1. ä»€ä¹ˆæ˜¯ä»£ç†ï¼Ÿ\nä»£ç†èƒ½ä»£æ›¿æˆ‘ä»¬å»åšå¾ˆå¤šäº‹æƒ…ï¼Œå°±ä¸¾ä¸€ä¸ªä¹°ç¥¨çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¦‚æœå»ç«è½¦ç«™ä¹°ç¥¨ï¼Œéœ€è¦æ­è½¦å»ç«è½¦ç«™ï¼Œç„¶åæ’é˜Ÿä¹°ç¥¨ï¼Œä¹°åˆ°ç¥¨å›å®¶è¿™ä¸€ç³»åˆ—çš„æ“ä½œéƒ½éœ€è¦è‡ªå·±å»å®Œæˆï¼Œä¸‡ä¸€ç¢°åˆ°æ¯ç¥¨çš„æƒ…å†µè¿˜éœ€è¦æ˜å¤©ç»§ç»­è·‘ä¸€è¶Ÿã€‚è¿™æ—¶ä½ æ˜¯ä¸æ˜¯æƒ³æœ‰ä¸€ä¸ªäººå¸®ä½ å»åšï¼Œåšæˆä¹‹åä½ ç»™ä»–ä¸€ç‚¹æŠ¥é…¬ï¼Œé‚£ä¹ˆä½ æ˜¯ä¸æ˜¯ä¸ç”¨å»ç«è½¦ç«™ä¹°ç¥¨äº†ï¼Œå¯ä»¥åšä¸€äº›è‡ªå·±çš„äº‹äº†ã€‚ä»£æ›¿ä½ å»ä¹°ç¥¨çš„è¿‡ç¨‹å…¶å®å°±æ˜¯ä»£ç†çš„è¿‡ç¨‹ã€‚\n# 2. ä»£ç†çš„å®ç°ï¼Ÿ\nåœ¨æ²¡æœ‰ä½¿ç”¨ä»£ç†ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±å»å®ç°å¾ˆå¤šåŠŸèƒ½ï¼Œç°åœ¨æˆ‘é€šè¿‡å·¥äººå·¥ä½œå’Œæ‰“å¡ä¸¤ä¸ªåŠŸèƒ½è¿›è¡Œè¯´æ˜\n* å·¥äººæ¥å£ æœ‰ä¸€ä¸ªé»˜è®¤æ–¹æ³•æ‰“å¡å’Œä¸€ä¸ªå·¥ä½œçš„æ–¹æ³•\n```\npublic interface Worker {\n\tpublic void work();\n    default void punch() {\n        System.out.println(\"ä¸Šä¸‹ç­æ‰“å¡ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚\");\n    }\n}\n```\n* å·¥äººA å®ç°ç±» ï¼Œå®ç°æ¥å£çš„å·¥ä½œæ–¹æ³•ï¼Œå¹¶åœ¨ä¸Šä¸‹ç­å‰æ‰“å¡\n```\n/**\n * ç¬¬ä¸€ä¸ªå·¥äºº\n * @author xla\n */\npublic class WorkFirst implements Worker {\n\n    @Override\n    public void work() {\n        punch();\n        System.out.println(\"doing First work\");\n        punch();\n    }\n\n}\n```\n* å·¥äººB å®ç°ç±»ï¼Œå®ç°æ¥å£çš„å·¥ä½œæ–¹æ³•ï¼Œå¹¶åœ¨ä¸Šä¸‹ç­å‰æ‰“å¡\n```\n/**\n * ç¬¬äºŒä¸ªå·¥äºº\n * @author xla\n */\npublic class WorkSecond implements Worker {\n\n    /**\n     * ä»–ä»¬åœ¨å·¥ä½œå‰åéœ€è¦æ‰“å¡\n     */\n    @Override\n    public void work() {\n        punch();\n        System.out.println(\"do second job\");\n        punch();\n    }\n}\n```\nä¸Šè¿°ä»£ç åœ¨æ²¡æœ‰ä½¿ç”¨ä»£ç†å‰æ˜¯è¿™ä¹ˆå®ç°çš„ï¼Œä½†æ˜¯ä½ æœ‰æ²¡æœ‰å‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œä¸Šè¿°å·¥äººåœ¨å·¥ä½œå‰åéƒ½è°ƒç”¨äº†punchæ–¹æ³•ï¼Œæ˜¾å¾—æœ‰äº›é‡å¤ã€‚é‚£æˆ‘ä»¬é€šè¿‡ä»€ä¹ˆå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿä»£ç†ï¼Ÿï¼Ÿ\n\nç›®å‰æˆ‘ä»¬ä½¿ç”¨çš„Java ä»£ç†æœ‰ä¸¤ç§ï¼Œé™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¾‹å­æ¥å®ç°ï¼š\n* é™æ€ä»£ç†\næˆ‘ä»¬åˆ›å»ºä¸€ä¸ªä»£ç†ç±» WorkProxy\n```\npublic class WorkProxy implements Worker {\n    private Worker worker;\n\n    public WorkProxy(Worker worker) {\n        this.worker = worker;\n    }\n\n    @Override\n    public void work() {\n          punch();\n          worker.work();\n          punch();\n    }\n}\n```\nå·¥äººA ä¸­çš„work æ–¹æ³•å°±ä¸éœ€è¦å†å‰åè°ƒç”¨æ‰“å¡åŠŸèƒ½ï¼Œåªéœ€è¦å°†è‡ªå·±çš„å¯¹è±¡äº¤ç»™ä»£ç†ç±»è®©ä»£ç†ç±»å»å®ç°æ‰“å¡åŠŸèƒ½ä»£ç å¦‚ä¸‹ï¼š\n```\npublic static void main(String[] args) {\n        Worker worker = new WorkFirst();\n        WorkProxy workProxy = new WorkProxy(worker);\n        workProxy.work();\n }\n```\nç»“æœå¦‚ä¸‹ï¼š\n```\nä¸Šä¸‹ç­æ‰“å¡ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚\ndoing First work\nä¸Šä¸‹ç­æ‰“å¡ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚\n```\n* åŠ¨æ€ä»£ç†\n\nåŠ¨æ€ä»£ç†ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯ä»£ç†ç±»æ˜¯åœ¨è¿è¡Œè¿‡ç¨‹ä¸­åŠ¨æ€åˆ›å»ºçš„ï¼Œå®ç°åŠ¨æ€çš„è¿‡ç¨‹æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªä¸­ä»‹ç±»ï¼Œå®ç°InvocationHandler æ¥å£ä½œä¸ºè°ƒç”¨å¤„ç†å™¨â€æ‹¦æˆªâ€œå¯¹ä»£ç†ç±»æ–¹æ³•çš„è°ƒç”¨ã€‚ä¸­ä»‹ç±»å®ç°å¦‚ä¸‹ï¼š\n```\npublic class WorkDynamicProxy implements InvocationHandler {\n    private Worker worker;\n\n    public  WorkDynamicProxy(Worker worker) {\n        this.worker = worker;\n    }\n    @Override\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n        worker.punch();\n        Object result = method.invoke(worker, args);\n        worker.punch();\n        return result;\n    }\n}\n```\næ¥ä¸‹æ¥æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹ï¼š\n```\npublic static void main(String[] args) {\n        WorkDynamicProxy workDynamicProxy = new WorkDynamicProxy(new WorkSecond());\n        //è·å–ä»£ç†ç±»å®ä¾‹worker\n        Worker worker = (Worker)(Proxy.newProxyInstance(Worker.class.getClassLoader(), new Class[] {Worker.class}, workDynamicProxy));\n        //é€šè¿‡ä»£ç†ç±»å¯¹è±¡è°ƒç”¨ä»£ç†ç±»æ–¹æ³•ï¼Œå®é™…ä¸Šä¼šè½¬åˆ°invokeæ–¹æ³•è°ƒç”¨\n        worker.work();\n    }\n```\næ‰“å°ç»“æœå¦‚ä¸‹ï¼š\n```\nä¸Šä¸‹ç­æ‰“å¡ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚\ndo second job\nä¸Šä¸‹ç­æ‰“å¡ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚\n```\nç°åœ¨æˆ‘ä»¬éœ€è¦è€ƒè™‘ä¸€å‡ ä¸ªé—®é¢˜ï¼ŸåŠ¨æ€ä»£ç†çš„è¿‡ç¨‹ï¼Ÿä¸ºå•¥åŠ¨æ€ä»£ç†éœ€è¦ä½¿ç”¨æ¥å£ï¼Ÿç°åœ¨æˆ‘ä»¬æ¥è§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜ï¼š\n* åŠ¨æ€ä»£ç†çš„è¿‡ç¨‹ï¼Ÿ\nä»ä¸Šè¿°ä»£ç ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œé€šè¿‡newProxyInstanceæ–¹æ³•è·å–ä¸€ä¸ªä»£ç†ç±»çš„ï¼Œè°ƒç”¨ä»£ç†ç±»çš„æ–¹æ³•éƒ½ä¼šæ‰§è¡Œinvoke(Object proxy, Method method, Object[] args)æ–¹æ³•ï¼Œè§£é‡Šä¸‰ä¸ªå‚æ•°\nproxy å§”æ‰˜ç±»\nmethod ä»£ç†ç±»çš„æ–¹æ³•\nargs è°ƒç”¨ä»£ç†ç±»çš„æ–¹æ³•å‚å…¥çš„å‚æ•°\n* ä¸ºå•¥åŠ¨æ€ä»£ç†éœ€è¦ä½¿ç”¨æ¥å£ï¼Ÿ\næˆ‘ä»¬å†æ¬¡æŸ¥çœ‹æºç newProxyInstanceæ–¹æ³•çš„å®ç°ï¼š\n```\npublic static Object newProxyInstance(ClassLoader loader,\n                                          Class<?>[] interfaces,\n                                          InvocationHandler h)\n        throws IllegalArgumentException\n    {\n        Objects.requireNonNull(h);\n\n        final Class<?>[] intfs = interfaces.clone();\n        final SecurityManager sm = System.getSecurityManager();\n        if (sm != null) {\n            checkProxyAccess(Reflection.getCallerClass(), loader, intfs);\n        }\n\n        /*\n         * Look up or generate the designated proxy class.\n         */\n        Class<?> cl = getProxyClass0(loader, intfs);\n\n        /*\n         * Invoke its constructor with the designated invocation handler.\n         */\n        try {\n            if (sm != null) {\n                checkNewProxyPermission(Reflection.getCallerClass(), cl);\n            }\n\n            final Constructor<?> cons = cl.getConstructor(constructorParams);\n            final InvocationHandler ih = h;\n            if (!Modifier.isPublic(cl.getModifiers())) {\n                AccessController.doPrivileged(new PrivilegedAction<Void>() {\n                    public Void run() {\n                        cons.setAccessible(true);\n                        return null;\n                    }\n                });\n            }\n            return cons.newInstance(new Object[]{h});\n        }\n        ....\n    }\n```\nä»æºç ä¸Šï¼Œé¦–å…ˆè¿›è¡Œä¸€ç³»åˆ—çš„åˆ¤æ–­é€»è¾‘ï¼Œç„¶ååˆ°äº†\nClass<?> cl = getProxyClass0(loader, intfs);\nè·å–ä»£ç†ç±»çš„Class å¯¹è±¡ï¼Œæ¥ä¸‹æ¥æ‰§è¡Œ\n final Constructor<?> cons = cl.getConstructor(constructorParams);\n è·å–Classçš„æ„é€ å¯¹è±¡ï¼Œé€šè¿‡cons.newInstance(new Object[]{h}); è¿”å›ä¸€ä¸ªä»£ç†ç±»å®ä¾‹å¯¹è±¡ï¼Œå…·ä½“å‚è€ƒ [Javaåå°„](http://www.xulian.net.cn/2019/02/20/java-%E5%8F%8D%E5%B0%84%E7%AC%94%E8%AE%B0/) ã€‚\n ç›®å‰æˆ‘ä»¬åªçŸ¥é“ä»£ç†ç±»å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼Œä½†æ˜¯ä¸ºå•¥åªèƒ½ä¼ å…¥æ¥å£è¿˜æ˜¯å¾—ä¸åˆ°è§£å†³ï¼Œé‚£æˆ‘ä»¬åªèƒ½ç»§ç»­æŸ¥çœ‹getProxyClass0æºç ï¼š\n å…·ä½“å®ç°æ­¥éª¤ï¼š\n 1. éªŒè¯ï¼Œé€šè¿‡ç±»åŠ è½½å¯¹è±¡å’Œæ¥å£åˆ—è¡¨è·å–ä»£ç†ç±»çš„Classå¯¹è±¡ï¼Œå¦‚æœç¼“å­˜ä¸­å­˜åœ¨åˆ™è¿”å›ï¼Œæ²¡æœ‰å°±é€šè¿‡ä»£ç†ç±»å·¥å‚åˆ›å»ºä»£ç†ç±»\n 2. åˆ›å»ºä»£ç†ç±»\né€šè¿‡ProxyClassFactoryå·¥å‚åˆ›å»ºä»£ç†ç±»ï¼Œæ ¸å¿ƒä»£ç å¦‚ä¸‹\n```\nString proxyName = proxyPkg + proxyClassNamePrefix + num;\nbyte[] proxyClassFile = ProxyGenerator.generateProxyClass(proxyName, interfaces, accessFlags);\ndefineClass0(loader, proxyName, proxyClassFile, 0, proxyClassFile.length);\n```\nå®šä¹‰ä¸€ä¸ªç±»çš„åç§°ï¼Œé€šè¿‡ä¼ å…¥çš„æ¥å£åˆ—è¡¨å’Œè®¿é—®æ ‡å¿—ç”Ÿæˆä¸€ä¸ªä»£ç†ç±»çš„å­—èŠ‚ç ï¼Œæœ€åè°ƒç”¨defineClass0æ–¹æ³•å°†å­—èŠ‚ç åŠ è½½åˆ°ç±»åŠ è½½å™¨ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªä»£ç†ç±»ã€‚\nç°åœ¨æˆ‘ä»¬æ¥å®ç°å°†ä»£ç†ç±»çš„å­—èŠ‚ç å†™å…¥æœ¬åœ°ï¼ŒæŸ¥çœ‹å…·ä½“ä»£ç†ç±»çš„ä¿¡æ¯ï¼š\n```\nbyte[] proxyClassFile = ProxyGenerator.generateProxyClass(\n                \"$proxy1\", new Class[] {Worker.class}, Modifier.PUBLIC);\n        FileOutputStream fos = null;\n        try {\n            fos = new FileOutputStream(\"D:/$proxy1.class\");\n            fos.write(proxyClassFile);\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                fos.flush();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n```\né€šè¿‡åç¼–è¯‘å¯æŸ¥çœ‹å­—èŠ‚ç ï¼š\n```\npublic class $proxy1 extends Proxy  implements Worker {\n....\npublic final void work()  throws  {\n    try  {\n      this.h.invoke(this, m3, null);\n      return;\n    }\n    ....\n  }\n....\n}\n```\nç°åœ¨æˆ‘ä»¬ç»ˆäºå¾—åˆ°ç­”æ¡ˆï¼Œthis.h.invoke(this, m3, null); å¾ˆå¥½å¾—éªŒè¯äº†ä¹‹å‰æ‰§è¡Œworkï¼ˆï¼‰æ–¹æ³•å…¶å®æ˜¯è°ƒç”¨äº†ä¸­ä»‹ç±»çš„invokeæ–¹æ³•ç»“è®ºï¼Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œä¸ºå•¥åŠ¨æ€ä»£ç†éœ€è¦ä½¿ç”¨æ¥å£ï¼Œä¸»è¦åŸå› æ˜¯ä»£ç†ç±»å·²ç»ç»§æ‰¿äº†Proxyç±»ï¼ŒJavaä¸æ”¯æŒå¤šç»§æ‰¿æ‰€ä»¥å¯¼è‡´åŠ¨æ€ä»£ç†éœ€è¦ä½¿ç”¨æ¥å£ï¼Œæ¥å£æ”¯æŒå¤šç»§æ‰¿ã€‚ç»ˆäºå¯ä»¥è¯´æœè‡ªå·±ä¸ºå•¥åŠ¨æ€ä»£ç†éœ€è¦æ¥å£äº†ã€‚ã€‚ã€‚ã€‚ã€‚\n# 3. æ€»ç»“\næˆ‘ä»¬å¤§æ¦‚è®²äº†ä¸€ä¸‹ä»€ä¹ˆæ˜¯ä»£ç†ï¼Œç„¶åé€šè¿‡ä¾‹å­ï¼Œä»£ç å®ç°äº†Javaä¸­çš„ä»£ç†ï¼Œæœ€åé€šè¿‡æºç è§£é‡Šäº†JavaåŠ¨æ€ä»£ç†çš„è¿‡ç¨‹ã€‚ã€‚ã€‚\n\n\nå‚è€ƒæ–‡æ¡£ï¼š\n\njdk 8\n[JDKåŠ¨æ€ä»£ç†ä¸ºä»€ä¹ˆå¿…é¡»é’ˆå¯¹æ¥å£ï¼Ÿå…¶ä¸CGLIBçš„å¯¹æ¯”](https://www.cnblogs.com/frankliiu-java/articles/1896443.html)\n","source":"_posts/äº†è§£Javaä¸­çš„ä»£ç†.md","raw":"---\ntitle: äº†è§£Javaä¸­çš„ä»£ç†\ndate: 2019-03-15 09:46:49\ntags:\n- JAVA\n---\n# 1. ä»€ä¹ˆæ˜¯ä»£ç†ï¼Ÿ\nä»£ç†èƒ½ä»£æ›¿æˆ‘ä»¬å»åšå¾ˆå¤šäº‹æƒ…ï¼Œå°±ä¸¾ä¸€ä¸ªä¹°ç¥¨çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¦‚æœå»ç«è½¦ç«™ä¹°ç¥¨ï¼Œéœ€è¦æ­è½¦å»ç«è½¦ç«™ï¼Œç„¶åæ’é˜Ÿä¹°ç¥¨ï¼Œä¹°åˆ°ç¥¨å›å®¶è¿™ä¸€ç³»åˆ—çš„æ“ä½œéƒ½éœ€è¦è‡ªå·±å»å®Œæˆï¼Œä¸‡ä¸€ç¢°åˆ°æ¯ç¥¨çš„æƒ…å†µè¿˜éœ€è¦æ˜å¤©ç»§ç»­è·‘ä¸€è¶Ÿã€‚è¿™æ—¶ä½ æ˜¯ä¸æ˜¯æƒ³æœ‰ä¸€ä¸ªäººå¸®ä½ å»åšï¼Œåšæˆä¹‹åä½ ç»™ä»–ä¸€ç‚¹æŠ¥é…¬ï¼Œé‚£ä¹ˆä½ æ˜¯ä¸æ˜¯ä¸ç”¨å»ç«è½¦ç«™ä¹°ç¥¨äº†ï¼Œå¯ä»¥åšä¸€äº›è‡ªå·±çš„äº‹äº†ã€‚ä»£æ›¿ä½ å»ä¹°ç¥¨çš„è¿‡ç¨‹å…¶å®å°±æ˜¯ä»£ç†çš„è¿‡ç¨‹ã€‚\n# 2. ä»£ç†çš„å®ç°ï¼Ÿ\nåœ¨æ²¡æœ‰ä½¿ç”¨ä»£ç†ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±å»å®ç°å¾ˆå¤šåŠŸèƒ½ï¼Œç°åœ¨æˆ‘é€šè¿‡å·¥äººå·¥ä½œå’Œæ‰“å¡ä¸¤ä¸ªåŠŸèƒ½è¿›è¡Œè¯´æ˜\n* å·¥äººæ¥å£ æœ‰ä¸€ä¸ªé»˜è®¤æ–¹æ³•æ‰“å¡å’Œä¸€ä¸ªå·¥ä½œçš„æ–¹æ³•\n```\npublic interface Worker {\n\tpublic void work();\n    default void punch() {\n        System.out.println(\"ä¸Šä¸‹ç­æ‰“å¡ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚\");\n    }\n}\n```\n* å·¥äººA å®ç°ç±» ï¼Œå®ç°æ¥å£çš„å·¥ä½œæ–¹æ³•ï¼Œå¹¶åœ¨ä¸Šä¸‹ç­å‰æ‰“å¡\n```\n/**\n * ç¬¬ä¸€ä¸ªå·¥äºº\n * @author xla\n */\npublic class WorkFirst implements Worker {\n\n    @Override\n    public void work() {\n        punch();\n        System.out.println(\"doing First work\");\n        punch();\n    }\n\n}\n```\n* å·¥äººB å®ç°ç±»ï¼Œå®ç°æ¥å£çš„å·¥ä½œæ–¹æ³•ï¼Œå¹¶åœ¨ä¸Šä¸‹ç­å‰æ‰“å¡\n```\n/**\n * ç¬¬äºŒä¸ªå·¥äºº\n * @author xla\n */\npublic class WorkSecond implements Worker {\n\n    /**\n     * ä»–ä»¬åœ¨å·¥ä½œå‰åéœ€è¦æ‰“å¡\n     */\n    @Override\n    public void work() {\n        punch();\n        System.out.println(\"do second job\");\n        punch();\n    }\n}\n```\nä¸Šè¿°ä»£ç åœ¨æ²¡æœ‰ä½¿ç”¨ä»£ç†å‰æ˜¯è¿™ä¹ˆå®ç°çš„ï¼Œä½†æ˜¯ä½ æœ‰æ²¡æœ‰å‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œä¸Šè¿°å·¥äººåœ¨å·¥ä½œå‰åéƒ½è°ƒç”¨äº†punchæ–¹æ³•ï¼Œæ˜¾å¾—æœ‰äº›é‡å¤ã€‚é‚£æˆ‘ä»¬é€šè¿‡ä»€ä¹ˆå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿä»£ç†ï¼Ÿï¼Ÿ\n\nç›®å‰æˆ‘ä»¬ä½¿ç”¨çš„Java ä»£ç†æœ‰ä¸¤ç§ï¼Œé™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¾‹å­æ¥å®ç°ï¼š\n* é™æ€ä»£ç†\næˆ‘ä»¬åˆ›å»ºä¸€ä¸ªä»£ç†ç±» WorkProxy\n```\npublic class WorkProxy implements Worker {\n    private Worker worker;\n\n    public WorkProxy(Worker worker) {\n        this.worker = worker;\n    }\n\n    @Override\n    public void work() {\n          punch();\n          worker.work();\n          punch();\n    }\n}\n```\nå·¥äººA ä¸­çš„work æ–¹æ³•å°±ä¸éœ€è¦å†å‰åè°ƒç”¨æ‰“å¡åŠŸèƒ½ï¼Œåªéœ€è¦å°†è‡ªå·±çš„å¯¹è±¡äº¤ç»™ä»£ç†ç±»è®©ä»£ç†ç±»å»å®ç°æ‰“å¡åŠŸèƒ½ä»£ç å¦‚ä¸‹ï¼š\n```\npublic static void main(String[] args) {\n        Worker worker = new WorkFirst();\n        WorkProxy workProxy = new WorkProxy(worker);\n        workProxy.work();\n }\n```\nç»“æœå¦‚ä¸‹ï¼š\n```\nä¸Šä¸‹ç­æ‰“å¡ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚\ndoing First work\nä¸Šä¸‹ç­æ‰“å¡ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚\n```\n* åŠ¨æ€ä»£ç†\n\nåŠ¨æ€ä»£ç†ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯ä»£ç†ç±»æ˜¯åœ¨è¿è¡Œè¿‡ç¨‹ä¸­åŠ¨æ€åˆ›å»ºçš„ï¼Œå®ç°åŠ¨æ€çš„è¿‡ç¨‹æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªä¸­ä»‹ç±»ï¼Œå®ç°InvocationHandler æ¥å£ä½œä¸ºè°ƒç”¨å¤„ç†å™¨â€æ‹¦æˆªâ€œå¯¹ä»£ç†ç±»æ–¹æ³•çš„è°ƒç”¨ã€‚ä¸­ä»‹ç±»å®ç°å¦‚ä¸‹ï¼š\n```\npublic class WorkDynamicProxy implements InvocationHandler {\n    private Worker worker;\n\n    public  WorkDynamicProxy(Worker worker) {\n        this.worker = worker;\n    }\n    @Override\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n        worker.punch();\n        Object result = method.invoke(worker, args);\n        worker.punch();\n        return result;\n    }\n}\n```\næ¥ä¸‹æ¥æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹ï¼š\n```\npublic static void main(String[] args) {\n        WorkDynamicProxy workDynamicProxy = new WorkDynamicProxy(new WorkSecond());\n        //è·å–ä»£ç†ç±»å®ä¾‹worker\n        Worker worker = (Worker)(Proxy.newProxyInstance(Worker.class.getClassLoader(), new Class[] {Worker.class}, workDynamicProxy));\n        //é€šè¿‡ä»£ç†ç±»å¯¹è±¡è°ƒç”¨ä»£ç†ç±»æ–¹æ³•ï¼Œå®é™…ä¸Šä¼šè½¬åˆ°invokeæ–¹æ³•è°ƒç”¨\n        worker.work();\n    }\n```\næ‰“å°ç»“æœå¦‚ä¸‹ï¼š\n```\nä¸Šä¸‹ç­æ‰“å¡ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚\ndo second job\nä¸Šä¸‹ç­æ‰“å¡ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚\n```\nç°åœ¨æˆ‘ä»¬éœ€è¦è€ƒè™‘ä¸€å‡ ä¸ªé—®é¢˜ï¼ŸåŠ¨æ€ä»£ç†çš„è¿‡ç¨‹ï¼Ÿä¸ºå•¥åŠ¨æ€ä»£ç†éœ€è¦ä½¿ç”¨æ¥å£ï¼Ÿç°åœ¨æˆ‘ä»¬æ¥è§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜ï¼š\n* åŠ¨æ€ä»£ç†çš„è¿‡ç¨‹ï¼Ÿ\nä»ä¸Šè¿°ä»£ç ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œé€šè¿‡newProxyInstanceæ–¹æ³•è·å–ä¸€ä¸ªä»£ç†ç±»çš„ï¼Œè°ƒç”¨ä»£ç†ç±»çš„æ–¹æ³•éƒ½ä¼šæ‰§è¡Œinvoke(Object proxy, Method method, Object[] args)æ–¹æ³•ï¼Œè§£é‡Šä¸‰ä¸ªå‚æ•°\nproxy å§”æ‰˜ç±»\nmethod ä»£ç†ç±»çš„æ–¹æ³•\nargs è°ƒç”¨ä»£ç†ç±»çš„æ–¹æ³•å‚å…¥çš„å‚æ•°\n* ä¸ºå•¥åŠ¨æ€ä»£ç†éœ€è¦ä½¿ç”¨æ¥å£ï¼Ÿ\næˆ‘ä»¬å†æ¬¡æŸ¥çœ‹æºç newProxyInstanceæ–¹æ³•çš„å®ç°ï¼š\n```\npublic static Object newProxyInstance(ClassLoader loader,\n                                          Class<?>[] interfaces,\n                                          InvocationHandler h)\n        throws IllegalArgumentException\n    {\n        Objects.requireNonNull(h);\n\n        final Class<?>[] intfs = interfaces.clone();\n        final SecurityManager sm = System.getSecurityManager();\n        if (sm != null) {\n            checkProxyAccess(Reflection.getCallerClass(), loader, intfs);\n        }\n\n        /*\n         * Look up or generate the designated proxy class.\n         */\n        Class<?> cl = getProxyClass0(loader, intfs);\n\n        /*\n         * Invoke its constructor with the designated invocation handler.\n         */\n        try {\n            if (sm != null) {\n                checkNewProxyPermission(Reflection.getCallerClass(), cl);\n            }\n\n            final Constructor<?> cons = cl.getConstructor(constructorParams);\n            final InvocationHandler ih = h;\n            if (!Modifier.isPublic(cl.getModifiers())) {\n                AccessController.doPrivileged(new PrivilegedAction<Void>() {\n                    public Void run() {\n                        cons.setAccessible(true);\n                        return null;\n                    }\n                });\n            }\n            return cons.newInstance(new Object[]{h});\n        }\n        ....\n    }\n```\nä»æºç ä¸Šï¼Œé¦–å…ˆè¿›è¡Œä¸€ç³»åˆ—çš„åˆ¤æ–­é€»è¾‘ï¼Œç„¶ååˆ°äº†\nClass<?> cl = getProxyClass0(loader, intfs);\nè·å–ä»£ç†ç±»çš„Class å¯¹è±¡ï¼Œæ¥ä¸‹æ¥æ‰§è¡Œ\n final Constructor<?> cons = cl.getConstructor(constructorParams);\n è·å–Classçš„æ„é€ å¯¹è±¡ï¼Œé€šè¿‡cons.newInstance(new Object[]{h}); è¿”å›ä¸€ä¸ªä»£ç†ç±»å®ä¾‹å¯¹è±¡ï¼Œå…·ä½“å‚è€ƒ [Javaåå°„](http://www.xulian.net.cn/2019/02/20/java-%E5%8F%8D%E5%B0%84%E7%AC%94%E8%AE%B0/) ã€‚\n ç›®å‰æˆ‘ä»¬åªçŸ¥é“ä»£ç†ç±»å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼Œä½†æ˜¯ä¸ºå•¥åªèƒ½ä¼ å…¥æ¥å£è¿˜æ˜¯å¾—ä¸åˆ°è§£å†³ï¼Œé‚£æˆ‘ä»¬åªèƒ½ç»§ç»­æŸ¥çœ‹getProxyClass0æºç ï¼š\n å…·ä½“å®ç°æ­¥éª¤ï¼š\n 1. éªŒè¯ï¼Œé€šè¿‡ç±»åŠ è½½å¯¹è±¡å’Œæ¥å£åˆ—è¡¨è·å–ä»£ç†ç±»çš„Classå¯¹è±¡ï¼Œå¦‚æœç¼“å­˜ä¸­å­˜åœ¨åˆ™è¿”å›ï¼Œæ²¡æœ‰å°±é€šè¿‡ä»£ç†ç±»å·¥å‚åˆ›å»ºä»£ç†ç±»\n 2. åˆ›å»ºä»£ç†ç±»\né€šè¿‡ProxyClassFactoryå·¥å‚åˆ›å»ºä»£ç†ç±»ï¼Œæ ¸å¿ƒä»£ç å¦‚ä¸‹\n```\nString proxyName = proxyPkg + proxyClassNamePrefix + num;\nbyte[] proxyClassFile = ProxyGenerator.generateProxyClass(proxyName, interfaces, accessFlags);\ndefineClass0(loader, proxyName, proxyClassFile, 0, proxyClassFile.length);\n```\nå®šä¹‰ä¸€ä¸ªç±»çš„åç§°ï¼Œé€šè¿‡ä¼ å…¥çš„æ¥å£åˆ—è¡¨å’Œè®¿é—®æ ‡å¿—ç”Ÿæˆä¸€ä¸ªä»£ç†ç±»çš„å­—èŠ‚ç ï¼Œæœ€åè°ƒç”¨defineClass0æ–¹æ³•å°†å­—èŠ‚ç åŠ è½½åˆ°ç±»åŠ è½½å™¨ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªä»£ç†ç±»ã€‚\nç°åœ¨æˆ‘ä»¬æ¥å®ç°å°†ä»£ç†ç±»çš„å­—èŠ‚ç å†™å…¥æœ¬åœ°ï¼ŒæŸ¥çœ‹å…·ä½“ä»£ç†ç±»çš„ä¿¡æ¯ï¼š\n```\nbyte[] proxyClassFile = ProxyGenerator.generateProxyClass(\n                \"$proxy1\", new Class[] {Worker.class}, Modifier.PUBLIC);\n        FileOutputStream fos = null;\n        try {\n            fos = new FileOutputStream(\"D:/$proxy1.class\");\n            fos.write(proxyClassFile);\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                fos.flush();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n```\né€šè¿‡åç¼–è¯‘å¯æŸ¥çœ‹å­—èŠ‚ç ï¼š\n```\npublic class $proxy1 extends Proxy  implements Worker {\n....\npublic final void work()  throws  {\n    try  {\n      this.h.invoke(this, m3, null);\n      return;\n    }\n    ....\n  }\n....\n}\n```\nç°åœ¨æˆ‘ä»¬ç»ˆäºå¾—åˆ°ç­”æ¡ˆï¼Œthis.h.invoke(this, m3, null); å¾ˆå¥½å¾—éªŒè¯äº†ä¹‹å‰æ‰§è¡Œworkï¼ˆï¼‰æ–¹æ³•å…¶å®æ˜¯è°ƒç”¨äº†ä¸­ä»‹ç±»çš„invokeæ–¹æ³•ç»“è®ºï¼Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œä¸ºå•¥åŠ¨æ€ä»£ç†éœ€è¦ä½¿ç”¨æ¥å£ï¼Œä¸»è¦åŸå› æ˜¯ä»£ç†ç±»å·²ç»ç»§æ‰¿äº†Proxyç±»ï¼ŒJavaä¸æ”¯æŒå¤šç»§æ‰¿æ‰€ä»¥å¯¼è‡´åŠ¨æ€ä»£ç†éœ€è¦ä½¿ç”¨æ¥å£ï¼Œæ¥å£æ”¯æŒå¤šç»§æ‰¿ã€‚ç»ˆäºå¯ä»¥è¯´æœè‡ªå·±ä¸ºå•¥åŠ¨æ€ä»£ç†éœ€è¦æ¥å£äº†ã€‚ã€‚ã€‚ã€‚ã€‚\n# 3. æ€»ç»“\næˆ‘ä»¬å¤§æ¦‚è®²äº†ä¸€ä¸‹ä»€ä¹ˆæ˜¯ä»£ç†ï¼Œç„¶åé€šè¿‡ä¾‹å­ï¼Œä»£ç å®ç°äº†Javaä¸­çš„ä»£ç†ï¼Œæœ€åé€šè¿‡æºç è§£é‡Šäº†JavaåŠ¨æ€ä»£ç†çš„è¿‡ç¨‹ã€‚ã€‚ã€‚\n\n\nå‚è€ƒæ–‡æ¡£ï¼š\n\njdk 8\n[JDKåŠ¨æ€ä»£ç†ä¸ºä»€ä¹ˆå¿…é¡»é’ˆå¯¹æ¥å£ï¼Ÿå…¶ä¸CGLIBçš„å¯¹æ¯”](https://www.cnblogs.com/frankliiu-java/articles/1896443.html)\n","slug":"äº†è§£Javaä¸­çš„ä»£ç†","published":1,"updated":"2019-07-14T03:11:26.978Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkctum000u4osx7pi9g7by","content":"<h1 id=\"1-ä»€ä¹ˆæ˜¯ä»£ç†ï¼Ÿ\"><a href=\"#1-ä»€ä¹ˆæ˜¯ä»£ç†ï¼Ÿ\" class=\"headerlink\" title=\"1. ä»€ä¹ˆæ˜¯ä»£ç†ï¼Ÿ\"></a>1. ä»€ä¹ˆæ˜¯ä»£ç†ï¼Ÿ</h1><p>ä»£ç†èƒ½ä»£æ›¿æˆ‘ä»¬å»åšå¾ˆå¤šäº‹æƒ…ï¼Œå°±ä¸¾ä¸€ä¸ªä¹°ç¥¨çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¦‚æœå»ç«è½¦ç«™ä¹°ç¥¨ï¼Œéœ€è¦æ­è½¦å»ç«è½¦ç«™ï¼Œç„¶åæ’é˜Ÿä¹°ç¥¨ï¼Œä¹°åˆ°ç¥¨å›å®¶è¿™ä¸€ç³»åˆ—çš„æ“ä½œéƒ½éœ€è¦è‡ªå·±å»å®Œæˆï¼Œä¸‡ä¸€ç¢°åˆ°æ¯ç¥¨çš„æƒ…å†µè¿˜éœ€è¦æ˜å¤©ç»§ç»­è·‘ä¸€è¶Ÿã€‚è¿™æ—¶ä½ æ˜¯ä¸æ˜¯æƒ³æœ‰ä¸€ä¸ªäººå¸®ä½ å»åšï¼Œåšæˆä¹‹åä½ ç»™ä»–ä¸€ç‚¹æŠ¥é…¬ï¼Œé‚£ä¹ˆä½ æ˜¯ä¸æ˜¯ä¸ç”¨å»ç«è½¦ç«™ä¹°ç¥¨äº†ï¼Œå¯ä»¥åšä¸€äº›è‡ªå·±çš„äº‹äº†ã€‚ä»£æ›¿ä½ å»ä¹°ç¥¨çš„è¿‡ç¨‹å…¶å®å°±æ˜¯ä»£ç†çš„è¿‡ç¨‹ã€‚</p>\n<h1 id=\"2-ä»£ç†çš„å®ç°ï¼Ÿ\"><a href=\"#2-ä»£ç†çš„å®ç°ï¼Ÿ\" class=\"headerlink\" title=\"2. ä»£ç†çš„å®ç°ï¼Ÿ\"></a>2. ä»£ç†çš„å®ç°ï¼Ÿ</h1><p>åœ¨æ²¡æœ‰ä½¿ç”¨ä»£ç†ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±å»å®ç°å¾ˆå¤šåŠŸèƒ½ï¼Œç°åœ¨æˆ‘é€šè¿‡å·¥äººå·¥ä½œå’Œæ‰“å¡ä¸¤ä¸ªåŠŸèƒ½è¿›è¡Œè¯´æ˜</p>\n<ul>\n<li><p>å·¥äººæ¥å£ æœ‰ä¸€ä¸ªé»˜è®¤æ–¹æ³•æ‰“å¡å’Œä¸€ä¸ªå·¥ä½œçš„æ–¹æ³•</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public interface Worker &#123;</span><br><span class=\"line\">\tpublic void work();</span><br><span class=\"line\">    default void punch() &#123;</span><br><span class=\"line\">        System.out.println(&quot;ä¸Šä¸‹ç­æ‰“å¡ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚&quot;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>å·¥äººA å®ç°ç±» ï¼Œå®ç°æ¥å£çš„å·¥ä½œæ–¹æ³•ï¼Œå¹¶åœ¨ä¸Šä¸‹ç­å‰æ‰“å¡</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/**</span><br><span class=\"line\"> * ç¬¬ä¸€ä¸ªå·¥äºº</span><br><span class=\"line\"> * @author xla</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class WorkFirst implements Worker &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public void work() &#123;</span><br><span class=\"line\">        punch();</span><br><span class=\"line\">        System.out.println(&quot;doing First work&quot;);</span><br><span class=\"line\">        punch();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>å·¥äººB å®ç°ç±»ï¼Œå®ç°æ¥å£çš„å·¥ä½œæ–¹æ³•ï¼Œå¹¶åœ¨ä¸Šä¸‹ç­å‰æ‰“å¡</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/**</span><br><span class=\"line\"> * ç¬¬äºŒä¸ªå·¥äºº</span><br><span class=\"line\"> * @author xla</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class WorkSecond implements Worker &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * ä»–ä»¬åœ¨å·¥ä½œå‰åéœ€è¦æ‰“å¡</span><br><span class=\"line\">     */</span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public void work() &#123;</span><br><span class=\"line\">        punch();</span><br><span class=\"line\">        System.out.println(&quot;do second job&quot;);</span><br><span class=\"line\">        punch();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>ä¸Šè¿°ä»£ç åœ¨æ²¡æœ‰ä½¿ç”¨ä»£ç†å‰æ˜¯è¿™ä¹ˆå®ç°çš„ï¼Œä½†æ˜¯ä½ æœ‰æ²¡æœ‰å‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œä¸Šè¿°å·¥äººåœ¨å·¥ä½œå‰åéƒ½è°ƒç”¨äº†punchæ–¹æ³•ï¼Œæ˜¾å¾—æœ‰äº›é‡å¤ã€‚é‚£æˆ‘ä»¬é€šè¿‡ä»€ä¹ˆå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿä»£ç†ï¼Ÿï¼Ÿ</p>\n<p>ç›®å‰æˆ‘ä»¬ä½¿ç”¨çš„Java ä»£ç†æœ‰ä¸¤ç§ï¼Œé™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¾‹å­æ¥å®ç°ï¼š</p>\n<ul>\n<li>é™æ€ä»£ç†<br>æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªä»£ç†ç±» WorkProxy<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class WorkProxy implements Worker &#123;</span><br><span class=\"line\">    private Worker worker;</span><br><span class=\"line\"></span><br><span class=\"line\">    public WorkProxy(Worker worker) &#123;</span><br><span class=\"line\">        this.worker = worker;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public void work() &#123;</span><br><span class=\"line\">          punch();</span><br><span class=\"line\">          worker.work();</span><br><span class=\"line\">          punch();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>å·¥äººA ä¸­çš„work æ–¹æ³•å°±ä¸éœ€è¦å†å‰åè°ƒç”¨æ‰“å¡åŠŸèƒ½ï¼Œåªéœ€è¦å°†è‡ªå·±çš„å¯¹è±¡äº¤ç»™ä»£ç†ç±»è®©ä»£ç†ç±»å»å®ç°æ‰“å¡åŠŸèƒ½ä»£ç å¦‚ä¸‹ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public static void main(String[] args) &#123;</span><br><span class=\"line\">        Worker worker = new WorkFirst();</span><br><span class=\"line\">        WorkProxy workProxy = new WorkProxy(worker);</span><br><span class=\"line\">        workProxy.work();</span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure></p>\n<p>ç»“æœå¦‚ä¸‹ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ä¸Šä¸‹ç­æ‰“å¡ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</span><br><span class=\"line\">doing First work</span><br><span class=\"line\">ä¸Šä¸‹ç­æ‰“å¡ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</span><br></pre></td></tr></table></figure></p>\n<ul>\n<li>åŠ¨æ€ä»£ç†</li>\n</ul>\n<p>åŠ¨æ€ä»£ç†ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯ä»£ç†ç±»æ˜¯åœ¨è¿è¡Œè¿‡ç¨‹ä¸­åŠ¨æ€åˆ›å»ºçš„ï¼Œå®ç°åŠ¨æ€çš„è¿‡ç¨‹æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªä¸­ä»‹ç±»ï¼Œå®ç°InvocationHandler æ¥å£ä½œä¸ºè°ƒç”¨å¤„ç†å™¨â€æ‹¦æˆªâ€œå¯¹ä»£ç†ç±»æ–¹æ³•çš„è°ƒç”¨ã€‚ä¸­ä»‹ç±»å®ç°å¦‚ä¸‹ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class WorkDynamicProxy implements InvocationHandler &#123;</span><br><span class=\"line\">    private Worker worker;</span><br><span class=\"line\"></span><br><span class=\"line\">    public  WorkDynamicProxy(Worker worker) &#123;</span><br><span class=\"line\">        this.worker = worker;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123;</span><br><span class=\"line\">        worker.punch();</span><br><span class=\"line\">        Object result = method.invoke(worker, args);</span><br><span class=\"line\">        worker.punch();</span><br><span class=\"line\">        return result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public static void main(String[] args) &#123;</span><br><span class=\"line\">        WorkDynamicProxy workDynamicProxy = new WorkDynamicProxy(new WorkSecond());</span><br><span class=\"line\">        //è·å–ä»£ç†ç±»å®ä¾‹worker</span><br><span class=\"line\">        Worker worker = (Worker)(Proxy.newProxyInstance(Worker.class.getClassLoader(), new Class[] &#123;Worker.class&#125;, workDynamicProxy));</span><br><span class=\"line\">        //é€šè¿‡ä»£ç†ç±»å¯¹è±¡è°ƒç”¨ä»£ç†ç±»æ–¹æ³•ï¼Œå®é™…ä¸Šä¼šè½¬åˆ°invokeæ–¹æ³•è°ƒç”¨</span><br><span class=\"line\">        worker.work();</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></p>\n<p>æ‰“å°ç»“æœå¦‚ä¸‹ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ä¸Šä¸‹ç­æ‰“å¡ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</span><br><span class=\"line\">do second job</span><br><span class=\"line\">ä¸Šä¸‹ç­æ‰“å¡ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</span><br></pre></td></tr></table></figure></p>\n<p>ç°åœ¨æˆ‘ä»¬éœ€è¦è€ƒè™‘ä¸€å‡ ä¸ªé—®é¢˜ï¼ŸåŠ¨æ€ä»£ç†çš„è¿‡ç¨‹ï¼Ÿä¸ºå•¥åŠ¨æ€ä»£ç†éœ€è¦ä½¿ç”¨æ¥å£ï¼Ÿç°åœ¨æˆ‘ä»¬æ¥è§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜ï¼š</p>\n<ul>\n<li>åŠ¨æ€ä»£ç†çš„è¿‡ç¨‹ï¼Ÿ<br>ä»ä¸Šè¿°ä»£ç ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œé€šè¿‡newProxyInstanceæ–¹æ³•è·å–ä¸€ä¸ªä»£ç†ç±»çš„ï¼Œè°ƒç”¨ä»£ç†ç±»çš„æ–¹æ³•éƒ½ä¼šæ‰§è¡Œinvoke(Object proxy, Method method, Object[] args)æ–¹æ³•ï¼Œè§£é‡Šä¸‰ä¸ªå‚æ•°<br>proxy å§”æ‰˜ç±»<br>method ä»£ç†ç±»çš„æ–¹æ³•<br>args è°ƒç”¨ä»£ç†ç±»çš„æ–¹æ³•å‚å…¥çš„å‚æ•°</li>\n<li>ä¸ºå•¥åŠ¨æ€ä»£ç†éœ€è¦ä½¿ç”¨æ¥å£ï¼Ÿ<br>æˆ‘ä»¬å†æ¬¡æŸ¥çœ‹æºç newProxyInstanceæ–¹æ³•çš„å®ç°ï¼š<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public static Object newProxyInstance(ClassLoader loader,</span><br><span class=\"line\">                                          Class&lt;?&gt;[] interfaces,</span><br><span class=\"line\">                                          InvocationHandler h)</span><br><span class=\"line\">        throws IllegalArgumentException</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Objects.requireNonNull(h);</span><br><span class=\"line\"></span><br><span class=\"line\">        final Class&lt;?&gt;[] intfs = interfaces.clone();</span><br><span class=\"line\">        final SecurityManager sm = System.getSecurityManager();</span><br><span class=\"line\">        if (sm != null) &#123;</span><br><span class=\"line\">            checkProxyAccess(Reflection.getCallerClass(), loader, intfs);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        /*</span><br><span class=\"line\">         * Look up or generate the designated proxy class.</span><br><span class=\"line\">         */</span><br><span class=\"line\">        Class&lt;?&gt; cl = getProxyClass0(loader, intfs);</span><br><span class=\"line\"></span><br><span class=\"line\">        /*</span><br><span class=\"line\">         * Invoke its constructor with the designated invocation handler.</span><br><span class=\"line\">         */</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            if (sm != null) &#123;</span><br><span class=\"line\">                checkNewProxyPermission(Reflection.getCallerClass(), cl);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            final Constructor&lt;?&gt; cons = cl.getConstructor(constructorParams);</span><br><span class=\"line\">            final InvocationHandler ih = h;</span><br><span class=\"line\">            if (!Modifier.isPublic(cl.getModifiers())) &#123;</span><br><span class=\"line\">                AccessController.doPrivileged(new PrivilegedAction&lt;Void&gt;() &#123;</span><br><span class=\"line\">                    public Void run() &#123;</span><br><span class=\"line\">                        cons.setAccessible(true);</span><br><span class=\"line\">                        return null;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            return cons.newInstance(new Object[]&#123;h&#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        ....</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>ä»æºç ä¸Šï¼Œé¦–å…ˆè¿›è¡Œä¸€ç³»åˆ—çš„åˆ¤æ–­é€»è¾‘ï¼Œç„¶ååˆ°äº†<br>Class&lt;?&gt; cl = getProxyClass0(loader, intfs);<br>è·å–ä»£ç†ç±»çš„Class å¯¹è±¡ï¼Œæ¥ä¸‹æ¥æ‰§è¡Œ<br> final Constructor&lt;?&gt; cons = cl.getConstructor(constructorParams);<br> è·å–Classçš„æ„é€ å¯¹è±¡ï¼Œé€šè¿‡cons.newInstance(new Object[]{h}); è¿”å›ä¸€ä¸ªä»£ç†ç±»å®ä¾‹å¯¹è±¡ï¼Œå…·ä½“å‚è€ƒ <a href=\"http://www.xulian.net.cn/2019/02/20/java-%E5%8F%8D%E5%B0%84%E7%AC%94%E8%AE%B0/\" target=\"_blank\" rel=\"noopener\">Javaåå°„</a> ã€‚<br> ç›®å‰æˆ‘ä»¬åªçŸ¥é“ä»£ç†ç±»å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼Œä½†æ˜¯ä¸ºå•¥åªèƒ½ä¼ å…¥æ¥å£è¿˜æ˜¯å¾—ä¸åˆ°è§£å†³ï¼Œé‚£æˆ‘ä»¬åªèƒ½ç»§ç»­æŸ¥çœ‹getProxyClass0æºç ï¼š<br> å…·ä½“å®ç°æ­¥éª¤ï¼š</p>\n<ol>\n<li>éªŒè¯ï¼Œé€šè¿‡ç±»åŠ è½½å¯¹è±¡å’Œæ¥å£åˆ—è¡¨è·å–ä»£ç†ç±»çš„Classå¯¹è±¡ï¼Œå¦‚æœç¼“å­˜ä¸­å­˜åœ¨åˆ™è¿”å›ï¼Œæ²¡æœ‰å°±é€šè¿‡ä»£ç†ç±»å·¥å‚åˆ›å»ºä»£ç†ç±»</li>\n<li>åˆ›å»ºä»£ç†ç±»<br>é€šè¿‡ProxyClassFactoryå·¥å‚åˆ›å»ºä»£ç†ç±»ï¼Œæ ¸å¿ƒä»£ç å¦‚ä¸‹<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String proxyName = proxyPkg + proxyClassNamePrefix + num;</span><br><span class=\"line\">byte[] proxyClassFile = ProxyGenerator.generateProxyClass(proxyName, interfaces, accessFlags);</span><br><span class=\"line\">defineClass0(loader, proxyName, proxyClassFile, 0, proxyClassFile.length);</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>å®šä¹‰ä¸€ä¸ªç±»çš„åç§°ï¼Œé€šè¿‡ä¼ å…¥çš„æ¥å£åˆ—è¡¨å’Œè®¿é—®æ ‡å¿—ç”Ÿæˆä¸€ä¸ªä»£ç†ç±»çš„å­—èŠ‚ç ï¼Œæœ€åè°ƒç”¨defineClass0æ–¹æ³•å°†å­—èŠ‚ç åŠ è½½åˆ°ç±»åŠ è½½å™¨ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªä»£ç†ç±»ã€‚<br>ç°åœ¨æˆ‘ä»¬æ¥å®ç°å°†ä»£ç†ç±»çš„å­—èŠ‚ç å†™å…¥æœ¬åœ°ï¼ŒæŸ¥çœ‹å…·ä½“ä»£ç†ç±»çš„ä¿¡æ¯ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">byte[] proxyClassFile = ProxyGenerator.generateProxyClass(</span><br><span class=\"line\">                &quot;$proxy1&quot;, new Class[] &#123;Worker.class&#125;, Modifier.PUBLIC);</span><br><span class=\"line\">        FileOutputStream fos = null;</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            fos = new FileOutputStream(&quot;D:/$proxy1.class&quot;);</span><br><span class=\"line\">            fos.write(proxyClassFile);</span><br><span class=\"line\">        &#125; catch (FileNotFoundException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125; catch (IOException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125; finally &#123;</span><br><span class=\"line\">            try &#123;</span><br><span class=\"line\">                fos.flush();</span><br><span class=\"line\">            &#125; catch (IOException e) &#123;</span><br><span class=\"line\">                e.printStackTrace();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br></pre></td></tr></table></figure></p>\n<p>é€šè¿‡åç¼–è¯‘å¯æŸ¥çœ‹å­—èŠ‚ç ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class $proxy1 extends Proxy  implements Worker &#123;</span><br><span class=\"line\">....</span><br><span class=\"line\">public final void work()  throws  &#123;</span><br><span class=\"line\">    try  &#123;</span><br><span class=\"line\">      this.h.invoke(this, m3, null);</span><br><span class=\"line\">      return;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    ....</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">....</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ç°åœ¨æˆ‘ä»¬ç»ˆäºå¾—åˆ°ç­”æ¡ˆï¼Œthis.h.invoke(this, m3, null); å¾ˆå¥½å¾—éªŒè¯äº†ä¹‹å‰æ‰§è¡Œworkï¼ˆï¼‰æ–¹æ³•å…¶å®æ˜¯è°ƒç”¨äº†ä¸­ä»‹ç±»çš„invokeæ–¹æ³•ç»“è®ºï¼Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œä¸ºå•¥åŠ¨æ€ä»£ç†éœ€è¦ä½¿ç”¨æ¥å£ï¼Œä¸»è¦åŸå› æ˜¯ä»£ç†ç±»å·²ç»ç»§æ‰¿äº†Proxyç±»ï¼ŒJavaä¸æ”¯æŒå¤šç»§æ‰¿æ‰€ä»¥å¯¼è‡´åŠ¨æ€ä»£ç†éœ€è¦ä½¿ç”¨æ¥å£ï¼Œæ¥å£æ”¯æŒå¤šç»§æ‰¿ã€‚ç»ˆäºå¯ä»¥è¯´æœè‡ªå·±ä¸ºå•¥åŠ¨æ€ä»£ç†éœ€è¦æ¥å£äº†ã€‚ã€‚ã€‚ã€‚ã€‚</p>\n<h1 id=\"3-æ€»ç»“\"><a href=\"#3-æ€»ç»“\" class=\"headerlink\" title=\"3. æ€»ç»“\"></a>3. æ€»ç»“</h1><p>æˆ‘ä»¬å¤§æ¦‚è®²äº†ä¸€ä¸‹ä»€ä¹ˆæ˜¯ä»£ç†ï¼Œç„¶åé€šè¿‡ä¾‹å­ï¼Œä»£ç å®ç°äº†Javaä¸­çš„ä»£ç†ï¼Œæœ€åé€šè¿‡æºç è§£é‡Šäº†JavaåŠ¨æ€ä»£ç†çš„è¿‡ç¨‹ã€‚ã€‚ã€‚</p>\n<p>å‚è€ƒæ–‡æ¡£ï¼š</p>\n<p>jdk 8<br><a href=\"https://www.cnblogs.com/frankliiu-java/articles/1896443.html\" target=\"_blank\" rel=\"noopener\">JDKåŠ¨æ€ä»£ç†ä¸ºä»€ä¹ˆå¿…é¡»é’ˆå¯¹æ¥å£ï¼Ÿå…¶ä¸CGLIBçš„å¯¹æ¯”</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"1-ä»€ä¹ˆæ˜¯ä»£ç†ï¼Ÿ\"><a href=\"#1-ä»€ä¹ˆæ˜¯ä»£ç†ï¼Ÿ\" class=\"headerlink\" title=\"1. ä»€ä¹ˆæ˜¯ä»£ç†ï¼Ÿ\"></a>1. ä»€ä¹ˆæ˜¯ä»£ç†ï¼Ÿ</h1><p>ä»£ç†èƒ½ä»£æ›¿æˆ‘ä»¬å»åšå¾ˆå¤šäº‹æƒ…ï¼Œå°±ä¸¾ä¸€ä¸ªä¹°ç¥¨çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¦‚æœå»ç«è½¦ç«™ä¹°ç¥¨ï¼Œéœ€è¦æ­è½¦å»ç«è½¦ç«™ï¼Œç„¶åæ’é˜Ÿä¹°ç¥¨ï¼Œä¹°åˆ°ç¥¨å›å®¶è¿™ä¸€ç³»åˆ—çš„æ“ä½œéƒ½éœ€è¦è‡ªå·±å»å®Œæˆï¼Œä¸‡ä¸€ç¢°åˆ°æ¯ç¥¨çš„æƒ…å†µè¿˜éœ€è¦æ˜å¤©ç»§ç»­è·‘ä¸€è¶Ÿã€‚è¿™æ—¶ä½ æ˜¯ä¸æ˜¯æƒ³æœ‰ä¸€ä¸ªäººå¸®ä½ å»åšï¼Œåšæˆä¹‹åä½ ç»™ä»–ä¸€ç‚¹æŠ¥é…¬ï¼Œé‚£ä¹ˆä½ æ˜¯ä¸æ˜¯ä¸ç”¨å»ç«è½¦ç«™ä¹°ç¥¨äº†ï¼Œå¯ä»¥åšä¸€äº›è‡ªå·±çš„äº‹äº†ã€‚ä»£æ›¿ä½ å»ä¹°ç¥¨çš„è¿‡ç¨‹å…¶å®å°±æ˜¯ä»£ç†çš„è¿‡ç¨‹ã€‚</p>\n<h1 id=\"2-ä»£ç†çš„å®ç°ï¼Ÿ\"><a href=\"#2-ä»£ç†çš„å®ç°ï¼Ÿ\" class=\"headerlink\" title=\"2. ä»£ç†çš„å®ç°ï¼Ÿ\"></a>2. ä»£ç†çš„å®ç°ï¼Ÿ</h1><p>åœ¨æ²¡æœ‰ä½¿ç”¨ä»£ç†ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±å»å®ç°å¾ˆå¤šåŠŸèƒ½ï¼Œç°åœ¨æˆ‘é€šè¿‡å·¥äººå·¥ä½œå’Œæ‰“å¡ä¸¤ä¸ªåŠŸèƒ½è¿›è¡Œè¯´æ˜</p>\n<ul>\n<li><p>å·¥äººæ¥å£ æœ‰ä¸€ä¸ªé»˜è®¤æ–¹æ³•æ‰“å¡å’Œä¸€ä¸ªå·¥ä½œçš„æ–¹æ³•</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public interface Worker &#123;</span><br><span class=\"line\">\tpublic void work();</span><br><span class=\"line\">    default void punch() &#123;</span><br><span class=\"line\">        System.out.println(&quot;ä¸Šä¸‹ç­æ‰“å¡ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚&quot;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>å·¥äººA å®ç°ç±» ï¼Œå®ç°æ¥å£çš„å·¥ä½œæ–¹æ³•ï¼Œå¹¶åœ¨ä¸Šä¸‹ç­å‰æ‰“å¡</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/**</span><br><span class=\"line\"> * ç¬¬ä¸€ä¸ªå·¥äºº</span><br><span class=\"line\"> * @author xla</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class WorkFirst implements Worker &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public void work() &#123;</span><br><span class=\"line\">        punch();</span><br><span class=\"line\">        System.out.println(&quot;doing First work&quot;);</span><br><span class=\"line\">        punch();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>å·¥äººB å®ç°ç±»ï¼Œå®ç°æ¥å£çš„å·¥ä½œæ–¹æ³•ï¼Œå¹¶åœ¨ä¸Šä¸‹ç­å‰æ‰“å¡</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/**</span><br><span class=\"line\"> * ç¬¬äºŒä¸ªå·¥äºº</span><br><span class=\"line\"> * @author xla</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class WorkSecond implements Worker &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * ä»–ä»¬åœ¨å·¥ä½œå‰åéœ€è¦æ‰“å¡</span><br><span class=\"line\">     */</span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public void work() &#123;</span><br><span class=\"line\">        punch();</span><br><span class=\"line\">        System.out.println(&quot;do second job&quot;);</span><br><span class=\"line\">        punch();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>ä¸Šè¿°ä»£ç åœ¨æ²¡æœ‰ä½¿ç”¨ä»£ç†å‰æ˜¯è¿™ä¹ˆå®ç°çš„ï¼Œä½†æ˜¯ä½ æœ‰æ²¡æœ‰å‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œä¸Šè¿°å·¥äººåœ¨å·¥ä½œå‰åéƒ½è°ƒç”¨äº†punchæ–¹æ³•ï¼Œæ˜¾å¾—æœ‰äº›é‡å¤ã€‚é‚£æˆ‘ä»¬é€šè¿‡ä»€ä¹ˆå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿä»£ç†ï¼Ÿï¼Ÿ</p>\n<p>ç›®å‰æˆ‘ä»¬ä½¿ç”¨çš„Java ä»£ç†æœ‰ä¸¤ç§ï¼Œé™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¾‹å­æ¥å®ç°ï¼š</p>\n<ul>\n<li>é™æ€ä»£ç†<br>æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªä»£ç†ç±» WorkProxy<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class WorkProxy implements Worker &#123;</span><br><span class=\"line\">    private Worker worker;</span><br><span class=\"line\"></span><br><span class=\"line\">    public WorkProxy(Worker worker) &#123;</span><br><span class=\"line\">        this.worker = worker;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public void work() &#123;</span><br><span class=\"line\">          punch();</span><br><span class=\"line\">          worker.work();</span><br><span class=\"line\">          punch();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>å·¥äººA ä¸­çš„work æ–¹æ³•å°±ä¸éœ€è¦å†å‰åè°ƒç”¨æ‰“å¡åŠŸèƒ½ï¼Œåªéœ€è¦å°†è‡ªå·±çš„å¯¹è±¡äº¤ç»™ä»£ç†ç±»è®©ä»£ç†ç±»å»å®ç°æ‰“å¡åŠŸèƒ½ä»£ç å¦‚ä¸‹ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public static void main(String[] args) &#123;</span><br><span class=\"line\">        Worker worker = new WorkFirst();</span><br><span class=\"line\">        WorkProxy workProxy = new WorkProxy(worker);</span><br><span class=\"line\">        workProxy.work();</span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure></p>\n<p>ç»“æœå¦‚ä¸‹ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ä¸Šä¸‹ç­æ‰“å¡ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</span><br><span class=\"line\">doing First work</span><br><span class=\"line\">ä¸Šä¸‹ç­æ‰“å¡ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</span><br></pre></td></tr></table></figure></p>\n<ul>\n<li>åŠ¨æ€ä»£ç†</li>\n</ul>\n<p>åŠ¨æ€ä»£ç†ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯ä»£ç†ç±»æ˜¯åœ¨è¿è¡Œè¿‡ç¨‹ä¸­åŠ¨æ€åˆ›å»ºçš„ï¼Œå®ç°åŠ¨æ€çš„è¿‡ç¨‹æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªä¸­ä»‹ç±»ï¼Œå®ç°InvocationHandler æ¥å£ä½œä¸ºè°ƒç”¨å¤„ç†å™¨â€æ‹¦æˆªâ€œå¯¹ä»£ç†ç±»æ–¹æ³•çš„è°ƒç”¨ã€‚ä¸­ä»‹ç±»å®ç°å¦‚ä¸‹ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class WorkDynamicProxy implements InvocationHandler &#123;</span><br><span class=\"line\">    private Worker worker;</span><br><span class=\"line\"></span><br><span class=\"line\">    public  WorkDynamicProxy(Worker worker) &#123;</span><br><span class=\"line\">        this.worker = worker;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123;</span><br><span class=\"line\">        worker.punch();</span><br><span class=\"line\">        Object result = method.invoke(worker, args);</span><br><span class=\"line\">        worker.punch();</span><br><span class=\"line\">        return result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public static void main(String[] args) &#123;</span><br><span class=\"line\">        WorkDynamicProxy workDynamicProxy = new WorkDynamicProxy(new WorkSecond());</span><br><span class=\"line\">        //è·å–ä»£ç†ç±»å®ä¾‹worker</span><br><span class=\"line\">        Worker worker = (Worker)(Proxy.newProxyInstance(Worker.class.getClassLoader(), new Class[] &#123;Worker.class&#125;, workDynamicProxy));</span><br><span class=\"line\">        //é€šè¿‡ä»£ç†ç±»å¯¹è±¡è°ƒç”¨ä»£ç†ç±»æ–¹æ³•ï¼Œå®é™…ä¸Šä¼šè½¬åˆ°invokeæ–¹æ³•è°ƒç”¨</span><br><span class=\"line\">        worker.work();</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></p>\n<p>æ‰“å°ç»“æœå¦‚ä¸‹ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ä¸Šä¸‹ç­æ‰“å¡ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</span><br><span class=\"line\">do second job</span><br><span class=\"line\">ä¸Šä¸‹ç­æ‰“å¡ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</span><br></pre></td></tr></table></figure></p>\n<p>ç°åœ¨æˆ‘ä»¬éœ€è¦è€ƒè™‘ä¸€å‡ ä¸ªé—®é¢˜ï¼ŸåŠ¨æ€ä»£ç†çš„è¿‡ç¨‹ï¼Ÿä¸ºå•¥åŠ¨æ€ä»£ç†éœ€è¦ä½¿ç”¨æ¥å£ï¼Ÿç°åœ¨æˆ‘ä»¬æ¥è§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜ï¼š</p>\n<ul>\n<li>åŠ¨æ€ä»£ç†çš„è¿‡ç¨‹ï¼Ÿ<br>ä»ä¸Šè¿°ä»£ç ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œé€šè¿‡newProxyInstanceæ–¹æ³•è·å–ä¸€ä¸ªä»£ç†ç±»çš„ï¼Œè°ƒç”¨ä»£ç†ç±»çš„æ–¹æ³•éƒ½ä¼šæ‰§è¡Œinvoke(Object proxy, Method method, Object[] args)æ–¹æ³•ï¼Œè§£é‡Šä¸‰ä¸ªå‚æ•°<br>proxy å§”æ‰˜ç±»<br>method ä»£ç†ç±»çš„æ–¹æ³•<br>args è°ƒç”¨ä»£ç†ç±»çš„æ–¹æ³•å‚å…¥çš„å‚æ•°</li>\n<li>ä¸ºå•¥åŠ¨æ€ä»£ç†éœ€è¦ä½¿ç”¨æ¥å£ï¼Ÿ<br>æˆ‘ä»¬å†æ¬¡æŸ¥çœ‹æºç newProxyInstanceæ–¹æ³•çš„å®ç°ï¼š<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public static Object newProxyInstance(ClassLoader loader,</span><br><span class=\"line\">                                          Class&lt;?&gt;[] interfaces,</span><br><span class=\"line\">                                          InvocationHandler h)</span><br><span class=\"line\">        throws IllegalArgumentException</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Objects.requireNonNull(h);</span><br><span class=\"line\"></span><br><span class=\"line\">        final Class&lt;?&gt;[] intfs = interfaces.clone();</span><br><span class=\"line\">        final SecurityManager sm = System.getSecurityManager();</span><br><span class=\"line\">        if (sm != null) &#123;</span><br><span class=\"line\">            checkProxyAccess(Reflection.getCallerClass(), loader, intfs);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        /*</span><br><span class=\"line\">         * Look up or generate the designated proxy class.</span><br><span class=\"line\">         */</span><br><span class=\"line\">        Class&lt;?&gt; cl = getProxyClass0(loader, intfs);</span><br><span class=\"line\"></span><br><span class=\"line\">        /*</span><br><span class=\"line\">         * Invoke its constructor with the designated invocation handler.</span><br><span class=\"line\">         */</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            if (sm != null) &#123;</span><br><span class=\"line\">                checkNewProxyPermission(Reflection.getCallerClass(), cl);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            final Constructor&lt;?&gt; cons = cl.getConstructor(constructorParams);</span><br><span class=\"line\">            final InvocationHandler ih = h;</span><br><span class=\"line\">            if (!Modifier.isPublic(cl.getModifiers())) &#123;</span><br><span class=\"line\">                AccessController.doPrivileged(new PrivilegedAction&lt;Void&gt;() &#123;</span><br><span class=\"line\">                    public Void run() &#123;</span><br><span class=\"line\">                        cons.setAccessible(true);</span><br><span class=\"line\">                        return null;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            return cons.newInstance(new Object[]&#123;h&#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        ....</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>ä»æºç ä¸Šï¼Œé¦–å…ˆè¿›è¡Œä¸€ç³»åˆ—çš„åˆ¤æ–­é€»è¾‘ï¼Œç„¶ååˆ°äº†<br>Class&lt;?&gt; cl = getProxyClass0(loader, intfs);<br>è·å–ä»£ç†ç±»çš„Class å¯¹è±¡ï¼Œæ¥ä¸‹æ¥æ‰§è¡Œ<br> final Constructor&lt;?&gt; cons = cl.getConstructor(constructorParams);<br> è·å–Classçš„æ„é€ å¯¹è±¡ï¼Œé€šè¿‡cons.newInstance(new Object[]{h}); è¿”å›ä¸€ä¸ªä»£ç†ç±»å®ä¾‹å¯¹è±¡ï¼Œå…·ä½“å‚è€ƒ <a href=\"http://www.xulian.net.cn/2019/02/20/java-%E5%8F%8D%E5%B0%84%E7%AC%94%E8%AE%B0/\" target=\"_blank\" rel=\"noopener\">Javaåå°„</a> ã€‚<br> ç›®å‰æˆ‘ä»¬åªçŸ¥é“ä»£ç†ç±»å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼Œä½†æ˜¯ä¸ºå•¥åªèƒ½ä¼ å…¥æ¥å£è¿˜æ˜¯å¾—ä¸åˆ°è§£å†³ï¼Œé‚£æˆ‘ä»¬åªèƒ½ç»§ç»­æŸ¥çœ‹getProxyClass0æºç ï¼š<br> å…·ä½“å®ç°æ­¥éª¤ï¼š</p>\n<ol>\n<li>éªŒè¯ï¼Œé€šè¿‡ç±»åŠ è½½å¯¹è±¡å’Œæ¥å£åˆ—è¡¨è·å–ä»£ç†ç±»çš„Classå¯¹è±¡ï¼Œå¦‚æœç¼“å­˜ä¸­å­˜åœ¨åˆ™è¿”å›ï¼Œæ²¡æœ‰å°±é€šè¿‡ä»£ç†ç±»å·¥å‚åˆ›å»ºä»£ç†ç±»</li>\n<li>åˆ›å»ºä»£ç†ç±»<br>é€šè¿‡ProxyClassFactoryå·¥å‚åˆ›å»ºä»£ç†ç±»ï¼Œæ ¸å¿ƒä»£ç å¦‚ä¸‹<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String proxyName = proxyPkg + proxyClassNamePrefix + num;</span><br><span class=\"line\">byte[] proxyClassFile = ProxyGenerator.generateProxyClass(proxyName, interfaces, accessFlags);</span><br><span class=\"line\">defineClass0(loader, proxyName, proxyClassFile, 0, proxyClassFile.length);</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>å®šä¹‰ä¸€ä¸ªç±»çš„åç§°ï¼Œé€šè¿‡ä¼ å…¥çš„æ¥å£åˆ—è¡¨å’Œè®¿é—®æ ‡å¿—ç”Ÿæˆä¸€ä¸ªä»£ç†ç±»çš„å­—èŠ‚ç ï¼Œæœ€åè°ƒç”¨defineClass0æ–¹æ³•å°†å­—èŠ‚ç åŠ è½½åˆ°ç±»åŠ è½½å™¨ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªä»£ç†ç±»ã€‚<br>ç°åœ¨æˆ‘ä»¬æ¥å®ç°å°†ä»£ç†ç±»çš„å­—èŠ‚ç å†™å…¥æœ¬åœ°ï¼ŒæŸ¥çœ‹å…·ä½“ä»£ç†ç±»çš„ä¿¡æ¯ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">byte[] proxyClassFile = ProxyGenerator.generateProxyClass(</span><br><span class=\"line\">                &quot;$proxy1&quot;, new Class[] &#123;Worker.class&#125;, Modifier.PUBLIC);</span><br><span class=\"line\">        FileOutputStream fos = null;</span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">            fos = new FileOutputStream(&quot;D:/$proxy1.class&quot;);</span><br><span class=\"line\">            fos.write(proxyClassFile);</span><br><span class=\"line\">        &#125; catch (FileNotFoundException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125; catch (IOException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125; finally &#123;</span><br><span class=\"line\">            try &#123;</span><br><span class=\"line\">                fos.flush();</span><br><span class=\"line\">            &#125; catch (IOException e) &#123;</span><br><span class=\"line\">                e.printStackTrace();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br></pre></td></tr></table></figure></p>\n<p>é€šè¿‡åç¼–è¯‘å¯æŸ¥çœ‹å­—èŠ‚ç ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class $proxy1 extends Proxy  implements Worker &#123;</span><br><span class=\"line\">....</span><br><span class=\"line\">public final void work()  throws  &#123;</span><br><span class=\"line\">    try  &#123;</span><br><span class=\"line\">      this.h.invoke(this, m3, null);</span><br><span class=\"line\">      return;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    ....</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">....</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ç°åœ¨æˆ‘ä»¬ç»ˆäºå¾—åˆ°ç­”æ¡ˆï¼Œthis.h.invoke(this, m3, null); å¾ˆå¥½å¾—éªŒè¯äº†ä¹‹å‰æ‰§è¡Œworkï¼ˆï¼‰æ–¹æ³•å…¶å®æ˜¯è°ƒç”¨äº†ä¸­ä»‹ç±»çš„invokeæ–¹æ³•ç»“è®ºï¼Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œä¸ºå•¥åŠ¨æ€ä»£ç†éœ€è¦ä½¿ç”¨æ¥å£ï¼Œä¸»è¦åŸå› æ˜¯ä»£ç†ç±»å·²ç»ç»§æ‰¿äº†Proxyç±»ï¼ŒJavaä¸æ”¯æŒå¤šç»§æ‰¿æ‰€ä»¥å¯¼è‡´åŠ¨æ€ä»£ç†éœ€è¦ä½¿ç”¨æ¥å£ï¼Œæ¥å£æ”¯æŒå¤šç»§æ‰¿ã€‚ç»ˆäºå¯ä»¥è¯´æœè‡ªå·±ä¸ºå•¥åŠ¨æ€ä»£ç†éœ€è¦æ¥å£äº†ã€‚ã€‚ã€‚ã€‚ã€‚</p>\n<h1 id=\"3-æ€»ç»“\"><a href=\"#3-æ€»ç»“\" class=\"headerlink\" title=\"3. æ€»ç»“\"></a>3. æ€»ç»“</h1><p>æˆ‘ä»¬å¤§æ¦‚è®²äº†ä¸€ä¸‹ä»€ä¹ˆæ˜¯ä»£ç†ï¼Œç„¶åé€šè¿‡ä¾‹å­ï¼Œä»£ç å®ç°äº†Javaä¸­çš„ä»£ç†ï¼Œæœ€åé€šè¿‡æºç è§£é‡Šäº†JavaåŠ¨æ€ä»£ç†çš„è¿‡ç¨‹ã€‚ã€‚ã€‚</p>\n<p>å‚è€ƒæ–‡æ¡£ï¼š</p>\n<p>jdk 8<br><a href=\"https://www.cnblogs.com/frankliiu-java/articles/1896443.html\" target=\"_blank\" rel=\"noopener\">JDKåŠ¨æ€ä»£ç†ä¸ºä»€ä¹ˆå¿…é¡»é’ˆå¯¹æ¥å£ï¼Ÿå…¶ä¸CGLIBçš„å¯¹æ¯”</a></p>\n"},{"title":"mybatis å­¦ä¹ ","date":"2019-03-22T01:54:00.000Z","_content":"\n# 1. ä»‹ç»\nMyBatis æºäº apache ä¸‹çš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatisï¼Œç”±äºå†å²åŸå› åˆ°äº†2010å¹´ï¼Œè¯¥é¡¹ç›®ä»apacheè½¯ä»¶åŸºé‡‘ç»„ç»‡è¿ç§»åˆ° google codeï¼Œä»é‚£ä¹‹åMyBatiså°±è¯ç”Ÿäº†ã€‚å®ƒä¸»è¦æ˜¯åŸºäºæ•°æ®åº“å±‚çš„ä¸€å¥—æŒä¹…å±‚æ¡†æ¶ï¼Œå¯ä»¥å®ç°è‡ªå®šä¹‰çš„SQLè¯­å¥ï¼Œæ•°æ®åº“çš„å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„ã€‚MyBatis æ”¹å–„äº†ä¹‹å‰é€šè¿‡ JDBC ç¼–å†™æ•°æ®åº“æ“ä½œä»£ç éœ€è¦æ‰‹åŠ¨è®¾ç½®å‚æ•°ä¿¡æ¯å’Œå¯¹ç»“æœé›†çš„æ•°æ®å°è£…ç­‰é—®é¢˜ã€‚å®ƒä¸ä»…å¯¹åŸç”Ÿçš„JDBC æ“ä½œè¿›è¡Œå°è£…ï¼Œè¿˜åŠ å…¥äº†è‡ªå·±ç‰¹æœ‰çš„ä¸€äº›åŠŸèƒ½ç‚¹ï¼Œä¾‹å¦‚\né€šè¿‡ä½¿ç”¨xmlæˆ–è€…Java 5 æ¨å‡ºçš„æ³¨è§£æ–¹å¼æ¥æ”¯æŒä»¥ä¸‹å‡ å¤§æ¨¡å—ï¼Œ\n\n* ä¸€ï¼šæ•°æ®åº“è¡¨å’Œæ™®é€šçš„Javaå¯¹è±¡åšå¯¹ä¸€å±‚æ˜ å°„å…³ç³»ï¼Œè§£å†³æ•°æ®è½¬æ¢çš„é—®é¢˜\n* äºŒï¼šåœ¨xmlé…ç½®æ–‡ä»¶ä¸­ç¼–å†™å¢åˆ æ”¹æŸ¥æ“ä½œé…ç½®ï¼Œå…¶é…ç½®çš„idä¸æ¥å£æ–¹æ³•åä¸€è‡´æˆ–è€…æ˜¯åœ¨æ¥å£æ–¹æ³•åä¸ŠåŠ ä¸Šæ³¨è§£æ–¹å¼ï¼Œå®ç°æ¥å£å¼ç¼–ç¨‹ï¼Œä¸å¿…éœ€è¦ç¼–å†™å®ç°ç±»\n\nMyBatisè¿˜æ”¯æŒå£°æ˜å¼çš„æ•°æ®ç¼“å­˜ï¼Œå¦‚æœæˆ‘ä»¬å°†sqlè¯­å¥æ ‡è®°æˆ â€œå¯ç¼“å­˜â€ï¼Œå½“å®ƒé¦–æ¬¡æ‰§è¡Œæ•°æ®æ“ä½œæ—¶ä¼šå°†æ•°æ®å­˜æ”¾åœ¨ä¸€ä¸ªé«˜é€Ÿç¼“å­˜ä¸­ï¼Œè¿™æ ·ä¸‹æ¬¡æŸ¥è¯¢å°±å¯ä»¥ä»ç¼“å­˜ä¸­è¯»å–ä¸å¿…åœ¨æ‰§è¡Œæ•°æ®åº“æ“ä½œäº†ï¼Œè¿›è€Œå¯ä»¥å‡è½»æ•°æ®åº“çš„è´Ÿè½½ã€‚è¿™ç§ç¼“å­˜æ–¹å¼æ˜¯åŸºäºJAVA JVM å®ç°çš„ï¼Œå®ƒå†…éƒ¨æä¾›äº†API æ¥å£ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ä¸€äº›å¼€æºçš„ç¼“å­˜æ¡†æ¶å®ç°ç¼“å­˜ï¼Œå¼€æºç¼“å­˜æ¡†æ¶ä¸»è¦æœ‰ Ehcacheï¼ŒMemcachedï¼Œredisç­‰ã€‚\nMybatisä¸å¸‚åœºä¸Šä¸€äº›å¼€æºæ¡†æ¶å®ç°èåˆï¼Œä¾‹å¦‚ï¼šé€šè¿‡ä¸springæ¡†æ¶é›†æˆï¼Œå‚ä¸springäº‹åŠ¡ï¼Œåˆ›å»ºä¼šè¯å’Œå¯¹åº”çš„æ˜ å°„å…³ç³»ï¼Œé€šè¿‡spring ioc å®ç° ä¾èµ–æ³¨å…¥ã€‚ä¸Velocityæ¨¡æ¿æ¡†æ¶åšé›†æˆï¼Œå®ç°åŠ¨æ€ç”ŸæˆSQLæŸ¥è¯¢è¯­å¥ï¼Œä»è€Œå‡å°‘å¼€å‘çš„æ—¶é—´ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚\n\n\n# 2. å¦‚ä½•ä½¿ç”¨mybatis\n\n# 3. åº•å±‚å®ç°åŸç†\n\n# 4. æ€»ç»“","source":"_posts/mybatis-å­¦ä¹ .md","raw":"---\ntitle: mybatis å­¦ä¹ \ndate: 2019-03-22 09:54:00\ntags:\n- mybatis\n---\n\n# 1. ä»‹ç»\nMyBatis æºäº apache ä¸‹çš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatisï¼Œç”±äºå†å²åŸå› åˆ°äº†2010å¹´ï¼Œè¯¥é¡¹ç›®ä»apacheè½¯ä»¶åŸºé‡‘ç»„ç»‡è¿ç§»åˆ° google codeï¼Œä»é‚£ä¹‹åMyBatiså°±è¯ç”Ÿäº†ã€‚å®ƒä¸»è¦æ˜¯åŸºäºæ•°æ®åº“å±‚çš„ä¸€å¥—æŒä¹…å±‚æ¡†æ¶ï¼Œå¯ä»¥å®ç°è‡ªå®šä¹‰çš„SQLè¯­å¥ï¼Œæ•°æ®åº“çš„å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„ã€‚MyBatis æ”¹å–„äº†ä¹‹å‰é€šè¿‡ JDBC ç¼–å†™æ•°æ®åº“æ“ä½œä»£ç éœ€è¦æ‰‹åŠ¨è®¾ç½®å‚æ•°ä¿¡æ¯å’Œå¯¹ç»“æœé›†çš„æ•°æ®å°è£…ç­‰é—®é¢˜ã€‚å®ƒä¸ä»…å¯¹åŸç”Ÿçš„JDBC æ“ä½œè¿›è¡Œå°è£…ï¼Œè¿˜åŠ å…¥äº†è‡ªå·±ç‰¹æœ‰çš„ä¸€äº›åŠŸèƒ½ç‚¹ï¼Œä¾‹å¦‚\né€šè¿‡ä½¿ç”¨xmlæˆ–è€…Java 5 æ¨å‡ºçš„æ³¨è§£æ–¹å¼æ¥æ”¯æŒä»¥ä¸‹å‡ å¤§æ¨¡å—ï¼Œ\n\n* ä¸€ï¼šæ•°æ®åº“è¡¨å’Œæ™®é€šçš„Javaå¯¹è±¡åšå¯¹ä¸€å±‚æ˜ å°„å…³ç³»ï¼Œè§£å†³æ•°æ®è½¬æ¢çš„é—®é¢˜\n* äºŒï¼šåœ¨xmlé…ç½®æ–‡ä»¶ä¸­ç¼–å†™å¢åˆ æ”¹æŸ¥æ“ä½œé…ç½®ï¼Œå…¶é…ç½®çš„idä¸æ¥å£æ–¹æ³•åä¸€è‡´æˆ–è€…æ˜¯åœ¨æ¥å£æ–¹æ³•åä¸ŠåŠ ä¸Šæ³¨è§£æ–¹å¼ï¼Œå®ç°æ¥å£å¼ç¼–ç¨‹ï¼Œä¸å¿…éœ€è¦ç¼–å†™å®ç°ç±»\n\nMyBatisè¿˜æ”¯æŒå£°æ˜å¼çš„æ•°æ®ç¼“å­˜ï¼Œå¦‚æœæˆ‘ä»¬å°†sqlè¯­å¥æ ‡è®°æˆ â€œå¯ç¼“å­˜â€ï¼Œå½“å®ƒé¦–æ¬¡æ‰§è¡Œæ•°æ®æ“ä½œæ—¶ä¼šå°†æ•°æ®å­˜æ”¾åœ¨ä¸€ä¸ªé«˜é€Ÿç¼“å­˜ä¸­ï¼Œè¿™æ ·ä¸‹æ¬¡æŸ¥è¯¢å°±å¯ä»¥ä»ç¼“å­˜ä¸­è¯»å–ä¸å¿…åœ¨æ‰§è¡Œæ•°æ®åº“æ“ä½œäº†ï¼Œè¿›è€Œå¯ä»¥å‡è½»æ•°æ®åº“çš„è´Ÿè½½ã€‚è¿™ç§ç¼“å­˜æ–¹å¼æ˜¯åŸºäºJAVA JVM å®ç°çš„ï¼Œå®ƒå†…éƒ¨æä¾›äº†API æ¥å£ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ä¸€äº›å¼€æºçš„ç¼“å­˜æ¡†æ¶å®ç°ç¼“å­˜ï¼Œå¼€æºç¼“å­˜æ¡†æ¶ä¸»è¦æœ‰ Ehcacheï¼ŒMemcachedï¼Œredisç­‰ã€‚\nMybatisä¸å¸‚åœºä¸Šä¸€äº›å¼€æºæ¡†æ¶å®ç°èåˆï¼Œä¾‹å¦‚ï¼šé€šè¿‡ä¸springæ¡†æ¶é›†æˆï¼Œå‚ä¸springäº‹åŠ¡ï¼Œåˆ›å»ºä¼šè¯å’Œå¯¹åº”çš„æ˜ å°„å…³ç³»ï¼Œé€šè¿‡spring ioc å®ç° ä¾èµ–æ³¨å…¥ã€‚ä¸Velocityæ¨¡æ¿æ¡†æ¶åšé›†æˆï¼Œå®ç°åŠ¨æ€ç”ŸæˆSQLæŸ¥è¯¢è¯­å¥ï¼Œä»è€Œå‡å°‘å¼€å‘çš„æ—¶é—´ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚\n\n\n# 2. å¦‚ä½•ä½¿ç”¨mybatis\n\n# 3. åº•å±‚å®ç°åŸç†\n\n# 4. æ€»ç»“","slug":"mybatis-å­¦ä¹ ","published":1,"updated":"2019-07-14T03:37:15.749Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkctun000v4osx3d5xssp3","content":"<h1 id=\"1-ä»‹ç»\"><a href=\"#1-ä»‹ç»\" class=\"headerlink\" title=\"1. ä»‹ç»\"></a>1. ä»‹ç»</h1><p>MyBatis æºäº apache ä¸‹çš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatisï¼Œç”±äºå†å²åŸå› åˆ°äº†2010å¹´ï¼Œè¯¥é¡¹ç›®ä»apacheè½¯ä»¶åŸºé‡‘ç»„ç»‡è¿ç§»åˆ° google codeï¼Œä»é‚£ä¹‹åMyBatiså°±è¯ç”Ÿäº†ã€‚å®ƒä¸»è¦æ˜¯åŸºäºæ•°æ®åº“å±‚çš„ä¸€å¥—æŒä¹…å±‚æ¡†æ¶ï¼Œå¯ä»¥å®ç°è‡ªå®šä¹‰çš„SQLè¯­å¥ï¼Œæ•°æ®åº“çš„å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„ã€‚MyBatis æ”¹å–„äº†ä¹‹å‰é€šè¿‡ JDBC ç¼–å†™æ•°æ®åº“æ“ä½œä»£ç éœ€è¦æ‰‹åŠ¨è®¾ç½®å‚æ•°ä¿¡æ¯å’Œå¯¹ç»“æœé›†çš„æ•°æ®å°è£…ç­‰é—®é¢˜ã€‚å®ƒä¸ä»…å¯¹åŸç”Ÿçš„JDBC æ“ä½œè¿›è¡Œå°è£…ï¼Œè¿˜åŠ å…¥äº†è‡ªå·±ç‰¹æœ‰çš„ä¸€äº›åŠŸèƒ½ç‚¹ï¼Œä¾‹å¦‚<br>é€šè¿‡ä½¿ç”¨xmlæˆ–è€…Java 5 æ¨å‡ºçš„æ³¨è§£æ–¹å¼æ¥æ”¯æŒä»¥ä¸‹å‡ å¤§æ¨¡å—ï¼Œ</p>\n<ul>\n<li>ä¸€ï¼šæ•°æ®åº“è¡¨å’Œæ™®é€šçš„Javaå¯¹è±¡åšå¯¹ä¸€å±‚æ˜ å°„å…³ç³»ï¼Œè§£å†³æ•°æ®è½¬æ¢çš„é—®é¢˜</li>\n<li>äºŒï¼šåœ¨xmlé…ç½®æ–‡ä»¶ä¸­ç¼–å†™å¢åˆ æ”¹æŸ¥æ“ä½œé…ç½®ï¼Œå…¶é…ç½®çš„idä¸æ¥å£æ–¹æ³•åä¸€è‡´æˆ–è€…æ˜¯åœ¨æ¥å£æ–¹æ³•åä¸ŠåŠ ä¸Šæ³¨è§£æ–¹å¼ï¼Œå®ç°æ¥å£å¼ç¼–ç¨‹ï¼Œä¸å¿…éœ€è¦ç¼–å†™å®ç°ç±»</li>\n</ul>\n<p>MyBatisè¿˜æ”¯æŒå£°æ˜å¼çš„æ•°æ®ç¼“å­˜ï¼Œå¦‚æœæˆ‘ä»¬å°†sqlè¯­å¥æ ‡è®°æˆ â€œå¯ç¼“å­˜â€ï¼Œå½“å®ƒé¦–æ¬¡æ‰§è¡Œæ•°æ®æ“ä½œæ—¶ä¼šå°†æ•°æ®å­˜æ”¾åœ¨ä¸€ä¸ªé«˜é€Ÿç¼“å­˜ä¸­ï¼Œè¿™æ ·ä¸‹æ¬¡æŸ¥è¯¢å°±å¯ä»¥ä»ç¼“å­˜ä¸­è¯»å–ä¸å¿…åœ¨æ‰§è¡Œæ•°æ®åº“æ“ä½œäº†ï¼Œè¿›è€Œå¯ä»¥å‡è½»æ•°æ®åº“çš„è´Ÿè½½ã€‚è¿™ç§ç¼“å­˜æ–¹å¼æ˜¯åŸºäºJAVA JVM å®ç°çš„ï¼Œå®ƒå†…éƒ¨æä¾›äº†API æ¥å£ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ä¸€äº›å¼€æºçš„ç¼“å­˜æ¡†æ¶å®ç°ç¼“å­˜ï¼Œå¼€æºç¼“å­˜æ¡†æ¶ä¸»è¦æœ‰ Ehcacheï¼ŒMemcachedï¼Œredisç­‰ã€‚<br>Mybatisä¸å¸‚åœºä¸Šä¸€äº›å¼€æºæ¡†æ¶å®ç°èåˆï¼Œä¾‹å¦‚ï¼šé€šè¿‡ä¸springæ¡†æ¶é›†æˆï¼Œå‚ä¸springäº‹åŠ¡ï¼Œåˆ›å»ºä¼šè¯å’Œå¯¹åº”çš„æ˜ å°„å…³ç³»ï¼Œé€šè¿‡spring ioc å®ç° ä¾èµ–æ³¨å…¥ã€‚ä¸Velocityæ¨¡æ¿æ¡†æ¶åšé›†æˆï¼Œå®ç°åŠ¨æ€ç”ŸæˆSQLæŸ¥è¯¢è¯­å¥ï¼Œä»è€Œå‡å°‘å¼€å‘çš„æ—¶é—´ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</p>\n<h1 id=\"2-å¦‚ä½•ä½¿ç”¨mybatis\"><a href=\"#2-å¦‚ä½•ä½¿ç”¨mybatis\" class=\"headerlink\" title=\"2. å¦‚ä½•ä½¿ç”¨mybatis\"></a>2. å¦‚ä½•ä½¿ç”¨mybatis</h1><h1 id=\"3-åº•å±‚å®ç°åŸç†\"><a href=\"#3-åº•å±‚å®ç°åŸç†\" class=\"headerlink\" title=\"3. åº•å±‚å®ç°åŸç†\"></a>3. åº•å±‚å®ç°åŸç†</h1><h1 id=\"4-æ€»ç»“\"><a href=\"#4-æ€»ç»“\" class=\"headerlink\" title=\"4. æ€»ç»“\"></a>4. æ€»ç»“</h1>","site":{"data":{}},"excerpt":"","more":"<h1 id=\"1-ä»‹ç»\"><a href=\"#1-ä»‹ç»\" class=\"headerlink\" title=\"1. ä»‹ç»\"></a>1. ä»‹ç»</h1><p>MyBatis æºäº apache ä¸‹çš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatisï¼Œç”±äºå†å²åŸå› åˆ°äº†2010å¹´ï¼Œè¯¥é¡¹ç›®ä»apacheè½¯ä»¶åŸºé‡‘ç»„ç»‡è¿ç§»åˆ° google codeï¼Œä»é‚£ä¹‹åMyBatiså°±è¯ç”Ÿäº†ã€‚å®ƒä¸»è¦æ˜¯åŸºäºæ•°æ®åº“å±‚çš„ä¸€å¥—æŒä¹…å±‚æ¡†æ¶ï¼Œå¯ä»¥å®ç°è‡ªå®šä¹‰çš„SQLè¯­å¥ï¼Œæ•°æ®åº“çš„å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„ã€‚MyBatis æ”¹å–„äº†ä¹‹å‰é€šè¿‡ JDBC ç¼–å†™æ•°æ®åº“æ“ä½œä»£ç éœ€è¦æ‰‹åŠ¨è®¾ç½®å‚æ•°ä¿¡æ¯å’Œå¯¹ç»“æœé›†çš„æ•°æ®å°è£…ç­‰é—®é¢˜ã€‚å®ƒä¸ä»…å¯¹åŸç”Ÿçš„JDBC æ“ä½œè¿›è¡Œå°è£…ï¼Œè¿˜åŠ å…¥äº†è‡ªå·±ç‰¹æœ‰çš„ä¸€äº›åŠŸèƒ½ç‚¹ï¼Œä¾‹å¦‚<br>é€šè¿‡ä½¿ç”¨xmlæˆ–è€…Java 5 æ¨å‡ºçš„æ³¨è§£æ–¹å¼æ¥æ”¯æŒä»¥ä¸‹å‡ å¤§æ¨¡å—ï¼Œ</p>\n<ul>\n<li>ä¸€ï¼šæ•°æ®åº“è¡¨å’Œæ™®é€šçš„Javaå¯¹è±¡åšå¯¹ä¸€å±‚æ˜ å°„å…³ç³»ï¼Œè§£å†³æ•°æ®è½¬æ¢çš„é—®é¢˜</li>\n<li>äºŒï¼šåœ¨xmlé…ç½®æ–‡ä»¶ä¸­ç¼–å†™å¢åˆ æ”¹æŸ¥æ“ä½œé…ç½®ï¼Œå…¶é…ç½®çš„idä¸æ¥å£æ–¹æ³•åä¸€è‡´æˆ–è€…æ˜¯åœ¨æ¥å£æ–¹æ³•åä¸ŠåŠ ä¸Šæ³¨è§£æ–¹å¼ï¼Œå®ç°æ¥å£å¼ç¼–ç¨‹ï¼Œä¸å¿…éœ€è¦ç¼–å†™å®ç°ç±»</li>\n</ul>\n<p>MyBatisè¿˜æ”¯æŒå£°æ˜å¼çš„æ•°æ®ç¼“å­˜ï¼Œå¦‚æœæˆ‘ä»¬å°†sqlè¯­å¥æ ‡è®°æˆ â€œå¯ç¼“å­˜â€ï¼Œå½“å®ƒé¦–æ¬¡æ‰§è¡Œæ•°æ®æ“ä½œæ—¶ä¼šå°†æ•°æ®å­˜æ”¾åœ¨ä¸€ä¸ªé«˜é€Ÿç¼“å­˜ä¸­ï¼Œè¿™æ ·ä¸‹æ¬¡æŸ¥è¯¢å°±å¯ä»¥ä»ç¼“å­˜ä¸­è¯»å–ä¸å¿…åœ¨æ‰§è¡Œæ•°æ®åº“æ“ä½œäº†ï¼Œè¿›è€Œå¯ä»¥å‡è½»æ•°æ®åº“çš„è´Ÿè½½ã€‚è¿™ç§ç¼“å­˜æ–¹å¼æ˜¯åŸºäºJAVA JVM å®ç°çš„ï¼Œå®ƒå†…éƒ¨æä¾›äº†API æ¥å£ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ä¸€äº›å¼€æºçš„ç¼“å­˜æ¡†æ¶å®ç°ç¼“å­˜ï¼Œå¼€æºç¼“å­˜æ¡†æ¶ä¸»è¦æœ‰ Ehcacheï¼ŒMemcachedï¼Œredisç­‰ã€‚<br>Mybatisä¸å¸‚åœºä¸Šä¸€äº›å¼€æºæ¡†æ¶å®ç°èåˆï¼Œä¾‹å¦‚ï¼šé€šè¿‡ä¸springæ¡†æ¶é›†æˆï¼Œå‚ä¸springäº‹åŠ¡ï¼Œåˆ›å»ºä¼šè¯å’Œå¯¹åº”çš„æ˜ å°„å…³ç³»ï¼Œé€šè¿‡spring ioc å®ç° ä¾èµ–æ³¨å…¥ã€‚ä¸Velocityæ¨¡æ¿æ¡†æ¶åšé›†æˆï¼Œå®ç°åŠ¨æ€ç”ŸæˆSQLæŸ¥è¯¢è¯­å¥ï¼Œä»è€Œå‡å°‘å¼€å‘çš„æ—¶é—´ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</p>\n<h1 id=\"2-å¦‚ä½•ä½¿ç”¨mybatis\"><a href=\"#2-å¦‚ä½•ä½¿ç”¨mybatis\" class=\"headerlink\" title=\"2. å¦‚ä½•ä½¿ç”¨mybatis\"></a>2. å¦‚ä½•ä½¿ç”¨mybatis</h1><h1 id=\"3-åº•å±‚å®ç°åŸç†\"><a href=\"#3-åº•å±‚å®ç°åŸç†\" class=\"headerlink\" title=\"3. åº•å±‚å®ç°åŸç†\"></a>3. åº•å±‚å®ç°åŸç†</h1><h1 id=\"4-æ€»ç»“\"><a href=\"#4-æ€»ç»“\" class=\"headerlink\" title=\"4. æ€»ç»“\"></a>4. æ€»ç»“</h1>"},{"title":"å…³äºexecuteUpdateæ–¹æ³•è¿”å›çš„å€¼é—®é¢˜","date":"2019-03-15T01:50:30.000Z","_content":"ä»Šå¤©åœ¨é¡¹ç›®ä¸­å‡ºç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œdelete è¯­å¥ä½¿ç”¨executeUpdateæ–¹æ³•åï¼Œå¦‚æœæ˜¯æ›´æ–°ä¸€æ¡æ•°åˆ™è¿”å›1ï¼Œä½†æ˜¯æ›´æ–°ä¸€æ¡ä»¥ä¸Šæ•°æ®å°±å‡ºç°è¿”å›0çš„é—®é¢˜ï¼Œæˆ‘ä¸€ç›´ä»¥ä¸ºexecuteUpdateè¿”å›æ›´æ–°çš„æ¡æ•°æ˜¯é”™è¯¯çš„ï¼Ÿå¸¦ç€ç–‘é—®æˆ‘ä»¬æŸ¥çœ‹æºç ï¼š\n```\n@Override\n\tpublic int update(final String sql) throws DataAccessException {\n\t\tAssert.notNull(sql, \"SQL must not be null\");\n\t\tif (logger.isDebugEnabled()) {\n\t\t\tlogger.debug(\"Executing SQL update [\" + sql + \"]\");\n\t\t}\n\n\t\tclass UpdateStatementCallback implements StatementCallback<Integer>, SqlProvider {\n\t\t\t@Override\n\t\t\tpublic Integer doInStatement(Statement stmt) throws SQLException {\n\t\t\t\tint rows = stmt.executeUpdate(sql);\n\t\t\t\tif (logger.isDebugEnabled()) {\n\t\t\t\t\tlogger.debug(\"SQL update affected \" + rows + \" rows\");\n\t\t\t\t}\n\t\t\t\treturn rows;\n\t\t\t}\n\t\t\t@Override\n\t\t\tpublic String getSql() {\n\t\t\t\treturn sql;\n\t\t\t}\n\t\t}\n\n\t\treturn execute(new UpdateStatementCallback());\n\t}\n```\nä»æºç ä¸Šçœ‹ï¼Œupdateæ–¹æ³•è¿”å›çš„å°±æ˜¯ stmt.executeUpdate(sql) æ–¹æ³•è¿”å›çš„æ¡æ•°ï¼Œé‚£ä¹ˆä¸Šè¿°æ›´æ–°å¤šæ¡å‡ºç°0çš„æƒ…å†µæ˜¯ä»€ä¹ˆé—®é¢˜ï¼Ÿä½†æ˜¯æ‰§è¡Œupdateè¯­å¥çš„è¯è¿”å›çš„å€¼å°±æ˜¯æ­£ç¡®çš„ï¼Œéš¾é“æ˜¯æ‰§è¡Œdeleteè¯­å¥åæ•°æ®è¢«åˆ é™¤äº†ï¼Œåˆ™è¿”å›ç©ºäº†ï¼Ÿé‚£ä¹‹å‰æˆ‘æ‰§è¡Œåˆ é™¤ä¸€æ¡æ•°æ®ä¸ºå•¥è¿”å›1å‘¢ï¼Ÿæ²¡é“ç†å‘€ã€‚ã€‚ã€‚ã€‚æˆ‘ä»¬ç»§ç»­æ·±å…¥åˆ†æï¼ŒåŸæ¥æ˜¯è‡ªå·±ä¸Šå±‚è°ƒç”¨çš„æ–¹æ³•å·²ç»å°†æ•°æ®åˆ é™¤äº†ï¼Œæ‰€ä»¥å†æ¬¡æ‰§è¡Œæ‰§è¡Œdeleteè¯­å¥è¿”å›0ï¼Œå¯¹è‡ªå·±çš„ç”¨æ³•å……æ»¡æ— å¥ˆã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚\n# æ€»ç»“\nexecuteUpdate æ–¹æ³•è¿”å›çš„æ˜¯è¢«æ›´æ–°æ¡æ•°ï¼Œå¦‚æœæ˜¯åˆ é™¤è¯­å¥åˆ™æ˜¯è¢«åˆ é™¤çš„æ¡æ•°\n\n\n\n\n","source":"_posts/å…³äºexecuteUpdateæ–¹æ³•è¿”å›çš„å€¼é—®é¢˜.md","raw":"---\ntitle: å…³äºexecuteUpdateæ–¹æ³•è¿”å›çš„å€¼é—®é¢˜\ndate: 2019-03-15 09:50:30\ntags:\n- spring\n---\nä»Šå¤©åœ¨é¡¹ç›®ä¸­å‡ºç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œdelete è¯­å¥ä½¿ç”¨executeUpdateæ–¹æ³•åï¼Œå¦‚æœæ˜¯æ›´æ–°ä¸€æ¡æ•°åˆ™è¿”å›1ï¼Œä½†æ˜¯æ›´æ–°ä¸€æ¡ä»¥ä¸Šæ•°æ®å°±å‡ºç°è¿”å›0çš„é—®é¢˜ï¼Œæˆ‘ä¸€ç›´ä»¥ä¸ºexecuteUpdateè¿”å›æ›´æ–°çš„æ¡æ•°æ˜¯é”™è¯¯çš„ï¼Ÿå¸¦ç€ç–‘é—®æˆ‘ä»¬æŸ¥çœ‹æºç ï¼š\n```\n@Override\n\tpublic int update(final String sql) throws DataAccessException {\n\t\tAssert.notNull(sql, \"SQL must not be null\");\n\t\tif (logger.isDebugEnabled()) {\n\t\t\tlogger.debug(\"Executing SQL update [\" + sql + \"]\");\n\t\t}\n\n\t\tclass UpdateStatementCallback implements StatementCallback<Integer>, SqlProvider {\n\t\t\t@Override\n\t\t\tpublic Integer doInStatement(Statement stmt) throws SQLException {\n\t\t\t\tint rows = stmt.executeUpdate(sql);\n\t\t\t\tif (logger.isDebugEnabled()) {\n\t\t\t\t\tlogger.debug(\"SQL update affected \" + rows + \" rows\");\n\t\t\t\t}\n\t\t\t\treturn rows;\n\t\t\t}\n\t\t\t@Override\n\t\t\tpublic String getSql() {\n\t\t\t\treturn sql;\n\t\t\t}\n\t\t}\n\n\t\treturn execute(new UpdateStatementCallback());\n\t}\n```\nä»æºç ä¸Šçœ‹ï¼Œupdateæ–¹æ³•è¿”å›çš„å°±æ˜¯ stmt.executeUpdate(sql) æ–¹æ³•è¿”å›çš„æ¡æ•°ï¼Œé‚£ä¹ˆä¸Šè¿°æ›´æ–°å¤šæ¡å‡ºç°0çš„æƒ…å†µæ˜¯ä»€ä¹ˆé—®é¢˜ï¼Ÿä½†æ˜¯æ‰§è¡Œupdateè¯­å¥çš„è¯è¿”å›çš„å€¼å°±æ˜¯æ­£ç¡®çš„ï¼Œéš¾é“æ˜¯æ‰§è¡Œdeleteè¯­å¥åæ•°æ®è¢«åˆ é™¤äº†ï¼Œåˆ™è¿”å›ç©ºäº†ï¼Ÿé‚£ä¹‹å‰æˆ‘æ‰§è¡Œåˆ é™¤ä¸€æ¡æ•°æ®ä¸ºå•¥è¿”å›1å‘¢ï¼Ÿæ²¡é“ç†å‘€ã€‚ã€‚ã€‚ã€‚æˆ‘ä»¬ç»§ç»­æ·±å…¥åˆ†æï¼ŒåŸæ¥æ˜¯è‡ªå·±ä¸Šå±‚è°ƒç”¨çš„æ–¹æ³•å·²ç»å°†æ•°æ®åˆ é™¤äº†ï¼Œæ‰€ä»¥å†æ¬¡æ‰§è¡Œæ‰§è¡Œdeleteè¯­å¥è¿”å›0ï¼Œå¯¹è‡ªå·±çš„ç”¨æ³•å……æ»¡æ— å¥ˆã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚\n# æ€»ç»“\nexecuteUpdate æ–¹æ³•è¿”å›çš„æ˜¯è¢«æ›´æ–°æ¡æ•°ï¼Œå¦‚æœæ˜¯åˆ é™¤è¯­å¥åˆ™æ˜¯è¢«åˆ é™¤çš„æ¡æ•°\n\n\n\n\n","slug":"å…³äºexecuteUpdateæ–¹æ³•è¿”å›çš„å€¼é—®é¢˜","published":1,"updated":"2019-07-14T03:11:26.979Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkctuo000y4osxe3ttfkt1","content":"<p>ä»Šå¤©åœ¨é¡¹ç›®ä¸­å‡ºç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œdelete è¯­å¥ä½¿ç”¨executeUpdateæ–¹æ³•åï¼Œå¦‚æœæ˜¯æ›´æ–°ä¸€æ¡æ•°åˆ™è¿”å›1ï¼Œä½†æ˜¯æ›´æ–°ä¸€æ¡ä»¥ä¸Šæ•°æ®å°±å‡ºç°è¿”å›0çš„é—®é¢˜ï¼Œæˆ‘ä¸€ç›´ä»¥ä¸ºexecuteUpdateè¿”å›æ›´æ–°çš„æ¡æ•°æ˜¯é”™è¯¯çš„ï¼Ÿå¸¦ç€ç–‘é—®æˆ‘ä»¬æŸ¥çœ‹æºç ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Override</span><br><span class=\"line\">\tpublic int update(final String sql) throws DataAccessException &#123;</span><br><span class=\"line\">\t\tAssert.notNull(sql, &quot;SQL must not be null&quot;);</span><br><span class=\"line\">\t\tif (logger.isDebugEnabled()) &#123;</span><br><span class=\"line\">\t\t\tlogger.debug(&quot;Executing SQL update [&quot; + sql + &quot;]&quot;);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tclass UpdateStatementCallback implements StatementCallback&lt;Integer&gt;, SqlProvider &#123;</span><br><span class=\"line\">\t\t\t@Override</span><br><span class=\"line\">\t\t\tpublic Integer doInStatement(Statement stmt) throws SQLException &#123;</span><br><span class=\"line\">\t\t\t\tint rows = stmt.executeUpdate(sql);</span><br><span class=\"line\">\t\t\t\tif (logger.isDebugEnabled()) &#123;</span><br><span class=\"line\">\t\t\t\t\tlogger.debug(&quot;SQL update affected &quot; + rows + &quot; rows&quot;);</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\treturn rows;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t@Override</span><br><span class=\"line\">\t\t\tpublic String getSql() &#123;</span><br><span class=\"line\">\t\t\t\treturn sql;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\treturn execute(new UpdateStatementCallback());</span><br><span class=\"line\">\t&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ä»æºç ä¸Šçœ‹ï¼Œupdateæ–¹æ³•è¿”å›çš„å°±æ˜¯ stmt.executeUpdate(sql) æ–¹æ³•è¿”å›çš„æ¡æ•°ï¼Œé‚£ä¹ˆä¸Šè¿°æ›´æ–°å¤šæ¡å‡ºç°0çš„æƒ…å†µæ˜¯ä»€ä¹ˆé—®é¢˜ï¼Ÿä½†æ˜¯æ‰§è¡Œupdateè¯­å¥çš„è¯è¿”å›çš„å€¼å°±æ˜¯æ­£ç¡®çš„ï¼Œéš¾é“æ˜¯æ‰§è¡Œdeleteè¯­å¥åæ•°æ®è¢«åˆ é™¤äº†ï¼Œåˆ™è¿”å›ç©ºäº†ï¼Ÿé‚£ä¹‹å‰æˆ‘æ‰§è¡Œåˆ é™¤ä¸€æ¡æ•°æ®ä¸ºå•¥è¿”å›1å‘¢ï¼Ÿæ²¡é“ç†å‘€ã€‚ã€‚ã€‚ã€‚æˆ‘ä»¬ç»§ç»­æ·±å…¥åˆ†æï¼ŒåŸæ¥æ˜¯è‡ªå·±ä¸Šå±‚è°ƒç”¨çš„æ–¹æ³•å·²ç»å°†æ•°æ®åˆ é™¤äº†ï¼Œæ‰€ä»¥å†æ¬¡æ‰§è¡Œæ‰§è¡Œdeleteè¯­å¥è¿”å›0ï¼Œå¯¹è‡ªå·±çš„ç”¨æ³•å……æ»¡æ— å¥ˆã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</p>\n<h1 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h1><p>executeUpdate æ–¹æ³•è¿”å›çš„æ˜¯è¢«æ›´æ–°æ¡æ•°ï¼Œå¦‚æœæ˜¯åˆ é™¤è¯­å¥åˆ™æ˜¯è¢«åˆ é™¤çš„æ¡æ•°</p>\n","site":{"data":{}},"excerpt":"","more":"<p>ä»Šå¤©åœ¨é¡¹ç›®ä¸­å‡ºç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œdelete è¯­å¥ä½¿ç”¨executeUpdateæ–¹æ³•åï¼Œå¦‚æœæ˜¯æ›´æ–°ä¸€æ¡æ•°åˆ™è¿”å›1ï¼Œä½†æ˜¯æ›´æ–°ä¸€æ¡ä»¥ä¸Šæ•°æ®å°±å‡ºç°è¿”å›0çš„é—®é¢˜ï¼Œæˆ‘ä¸€ç›´ä»¥ä¸ºexecuteUpdateè¿”å›æ›´æ–°çš„æ¡æ•°æ˜¯é”™è¯¯çš„ï¼Ÿå¸¦ç€ç–‘é—®æˆ‘ä»¬æŸ¥çœ‹æºç ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Override</span><br><span class=\"line\">\tpublic int update(final String sql) throws DataAccessException &#123;</span><br><span class=\"line\">\t\tAssert.notNull(sql, &quot;SQL must not be null&quot;);</span><br><span class=\"line\">\t\tif (logger.isDebugEnabled()) &#123;</span><br><span class=\"line\">\t\t\tlogger.debug(&quot;Executing SQL update [&quot; + sql + &quot;]&quot;);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tclass UpdateStatementCallback implements StatementCallback&lt;Integer&gt;, SqlProvider &#123;</span><br><span class=\"line\">\t\t\t@Override</span><br><span class=\"line\">\t\t\tpublic Integer doInStatement(Statement stmt) throws SQLException &#123;</span><br><span class=\"line\">\t\t\t\tint rows = stmt.executeUpdate(sql);</span><br><span class=\"line\">\t\t\t\tif (logger.isDebugEnabled()) &#123;</span><br><span class=\"line\">\t\t\t\t\tlogger.debug(&quot;SQL update affected &quot; + rows + &quot; rows&quot;);</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\treturn rows;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t@Override</span><br><span class=\"line\">\t\t\tpublic String getSql() &#123;</span><br><span class=\"line\">\t\t\t\treturn sql;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\treturn execute(new UpdateStatementCallback());</span><br><span class=\"line\">\t&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ä»æºç ä¸Šçœ‹ï¼Œupdateæ–¹æ³•è¿”å›çš„å°±æ˜¯ stmt.executeUpdate(sql) æ–¹æ³•è¿”å›çš„æ¡æ•°ï¼Œé‚£ä¹ˆä¸Šè¿°æ›´æ–°å¤šæ¡å‡ºç°0çš„æƒ…å†µæ˜¯ä»€ä¹ˆé—®é¢˜ï¼Ÿä½†æ˜¯æ‰§è¡Œupdateè¯­å¥çš„è¯è¿”å›çš„å€¼å°±æ˜¯æ­£ç¡®çš„ï¼Œéš¾é“æ˜¯æ‰§è¡Œdeleteè¯­å¥åæ•°æ®è¢«åˆ é™¤äº†ï¼Œåˆ™è¿”å›ç©ºäº†ï¼Ÿé‚£ä¹‹å‰æˆ‘æ‰§è¡Œåˆ é™¤ä¸€æ¡æ•°æ®ä¸ºå•¥è¿”å›1å‘¢ï¼Ÿæ²¡é“ç†å‘€ã€‚ã€‚ã€‚ã€‚æˆ‘ä»¬ç»§ç»­æ·±å…¥åˆ†æï¼ŒåŸæ¥æ˜¯è‡ªå·±ä¸Šå±‚è°ƒç”¨çš„æ–¹æ³•å·²ç»å°†æ•°æ®åˆ é™¤äº†ï¼Œæ‰€ä»¥å†æ¬¡æ‰§è¡Œæ‰§è¡Œdeleteè¯­å¥è¿”å›0ï¼Œå¯¹è‡ªå·±çš„ç”¨æ³•å……æ»¡æ— å¥ˆã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</p>\n<h1 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h1><p>executeUpdate æ–¹æ³•è¿”å›çš„æ˜¯è¢«æ›´æ–°æ¡æ•°ï¼Œå¦‚æœæ˜¯åˆ é™¤è¯­å¥åˆ™æ˜¯è¢«åˆ é™¤çš„æ¡æ•°</p>\n"},{"title":"spring beançš„ä½œç”¨åŸŸ","date":"2019-03-15T01:51:36.000Z","_content":"\nSpring ä¸­æœ‰äº”ç§ä½œç”¨åŸŸï¼Œä½†æ˜¯æœ‰ä¸‰ç§åªé€‚ç”¨åœ¨webç¯å¢ƒ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20190305163713526.png)\nä¸‹é¢æˆ‘ä»¬æ¥ä»‹ç»ä¸€ä¸‹ singleton å’Œ prototype\n* Singleton ä½œç”¨åŸŸ\næˆ‘ä»¬å…ˆé€šè¿‡idea åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªNewCar ç±»æ‹¥æœ‰ä¸¤ä¸ªæ–¹æ³•å¦‚ä¸‹ï¼š\n```\npublic class NewCar {\n    private String content;\n    public void prints() {\n        System.out.println(content);\n    }\n   \tpublic void setContent(String content) {\n        this.content = content;\n    }\n}\n```\næ¥ç€åˆ›å»ºä¸€ä¸ªsingleton.xml é…ç½®æ–‡ä»¶\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\">\n    <bean id=\"testSingleton\" class=\"cn.assist.easydao.util.NewCar\" scope=\"singleton\"></bean>\n</beans>\n```\næ¥ä¸‹æ¥æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæµ‹è¯•ç±»ï¼Œæ¥æ£€éªŒ\n```\nApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"singleton.xml\");\nNewCar newCar = (NewCar) applicationContext.getBean(\"testSingleton\");\nnewCar.setContent(\"test singleton\");\nNewCar newCar1 = (NewCar) applicationContext.getBean(\"testSingleton\");\nnewCar1.prints();\n```\né€šè¿‡ä¸Šè¿°æ–¹æ³•ï¼Œæ‰“å°ç»“æœå¦‚ä¸‹ï¼š\n```\ntest singleton\n```\nè¯´æ˜ newCar å’Œ newCar1 æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå®ä¾‹ï¼Œå¦‚æœä½¿ç”¨prototypeä½œç”¨åŸŸä¼šæ˜¯ä¸€ä¸ªä»€ä¹ˆç»“æœï¼Ÿ\nå°†ä¸Šè¿°é…ç½®æ–‡ä»¶scope ä¿®æ”¹æˆ prototypeï¼Œå¦‚ä¸‹ï¼š\n* prototype ä½œç”¨åŸŸ\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\">\n    <bean id=\"testSingleton\" class=\"cn.assist.easydao.util.NewCar\" scope=\"prototype\"></bean>\n</beans>\n```\nå†æ¬¡è¿è¡Œæµ‹è¯•ç±»ï¼Œæ‰“å°å¦‚ä¸‹\n```\nNull\n```\né€šè¿‡ç»“æœæˆ‘ä»¬å¾ˆå®¹æ˜“çŸ¥é“ï¼ŒnewCar1 å’Œ newCar æŒ‡å‘çš„ä¸æ˜¯åŒä¸€ä¸ªå®ä¾‹ã€‚\né€šè¿‡ä¸Šè¿°ä¾‹å­æˆ‘ä»¬çŸ¥é“äº†singletonå’Œprototypeçš„åŒºåˆ«ï¼Œä»¥ååœ¨å®é™…è¿‡ç¨‹ä¸­å°±èƒ½å¾ˆå¥½çš„åˆ©ç”¨å®ƒä»¬äº†ã€‚\n* Request ä½œç”¨åŸŸ\nå¯¹äºæ¯ä¸ªhttpè¯·æ±‚ï¼Œspringå®¹å™¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œç”±äºæ¯ä¸ªè¯·æ±‚éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹ï¼Œç›¸äº’ä¹‹é—´ä¸èƒ½çœ‹åˆ°å¯¹æ–¹çš„å†…éƒ¨å˜åŒ–ï¼Œæ‰€ä»¥ç›¸å¯¹æ¥è¯´æ˜¯å®‰å…¨çš„ã€‚ä¸€æ—¦è¯·æ±‚å®Œæˆï¼Œå¯¹åº”Request ä½œç”¨åŸŸçš„å®ä¾‹ä¹Ÿéšç€ä¸¢å¼ƒã€‚\n* Session ä½œç”¨åŸŸ\n\tæ¯ä¸ªè¯·æ±‚éƒ½ä¼šåˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œæ¯ä¸ªå®ä¾‹å…±äº«ä¸€ä¸ªHTTP  Sessionã€‚\n. globalSession ä½œç”¨åŸŸ\næ™®éé€‚ç”¨äºåœ¨åŸºäºportlets çš„webç¯å¢ƒä¸‹ï¼Œæ‰€æœ‰çš„portletå…±äº«å…¨å±€çš„sessionã€‚\n**æ³¨æ„ï¼šå¦‚æœåœ¨åŸºäº servlet çš„webç¯å¢ƒä¸‹ï¼Œå®šä¹‰ä¸€ä¸ªæˆ–è€…å¤šä¸ª global session ä½œç”¨åŸŸï¼Œæ ‡å‡†çš„httpè®²ä½¿ç”¨Session ä½œç”¨ï¼Œä¸ä¼šå‡ºç°é”™è¯¯ã€‚**\nå‚è€ƒæ–‡æ¡£ï¼š\n[Bean scopes](https://docs.spring.io/spring/docs/3.0.0.M3/reference/html/ch04s04.html)\n\næ¥ä¸‹æ¥ä¸€ç¯‡æˆ‘ä»¬æ¥ä»‹ç»ä¸€ä¸‹ä¸€ä¸ªServlet å’Œ portlets çš„åŒºåˆ«","source":"_posts/spring-beançš„ä½œç”¨åŸŸ.md","raw":"---\ntitle: spring beançš„ä½œç”¨åŸŸ\ndate: 2019-03-15 09:51:36\ntags:\n- spring\n---\n\nSpring ä¸­æœ‰äº”ç§ä½œç”¨åŸŸï¼Œä½†æ˜¯æœ‰ä¸‰ç§åªé€‚ç”¨åœ¨webç¯å¢ƒ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20190305163713526.png)\nä¸‹é¢æˆ‘ä»¬æ¥ä»‹ç»ä¸€ä¸‹ singleton å’Œ prototype\n* Singleton ä½œç”¨åŸŸ\næˆ‘ä»¬å…ˆé€šè¿‡idea åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªNewCar ç±»æ‹¥æœ‰ä¸¤ä¸ªæ–¹æ³•å¦‚ä¸‹ï¼š\n```\npublic class NewCar {\n    private String content;\n    public void prints() {\n        System.out.println(content);\n    }\n   \tpublic void setContent(String content) {\n        this.content = content;\n    }\n}\n```\næ¥ç€åˆ›å»ºä¸€ä¸ªsingleton.xml é…ç½®æ–‡ä»¶\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\">\n    <bean id=\"testSingleton\" class=\"cn.assist.easydao.util.NewCar\" scope=\"singleton\"></bean>\n</beans>\n```\næ¥ä¸‹æ¥æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæµ‹è¯•ç±»ï¼Œæ¥æ£€éªŒ\n```\nApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"singleton.xml\");\nNewCar newCar = (NewCar) applicationContext.getBean(\"testSingleton\");\nnewCar.setContent(\"test singleton\");\nNewCar newCar1 = (NewCar) applicationContext.getBean(\"testSingleton\");\nnewCar1.prints();\n```\né€šè¿‡ä¸Šè¿°æ–¹æ³•ï¼Œæ‰“å°ç»“æœå¦‚ä¸‹ï¼š\n```\ntest singleton\n```\nè¯´æ˜ newCar å’Œ newCar1 æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå®ä¾‹ï¼Œå¦‚æœä½¿ç”¨prototypeä½œç”¨åŸŸä¼šæ˜¯ä¸€ä¸ªä»€ä¹ˆç»“æœï¼Ÿ\nå°†ä¸Šè¿°é…ç½®æ–‡ä»¶scope ä¿®æ”¹æˆ prototypeï¼Œå¦‚ä¸‹ï¼š\n* prototype ä½œç”¨åŸŸ\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\">\n    <bean id=\"testSingleton\" class=\"cn.assist.easydao.util.NewCar\" scope=\"prototype\"></bean>\n</beans>\n```\nå†æ¬¡è¿è¡Œæµ‹è¯•ç±»ï¼Œæ‰“å°å¦‚ä¸‹\n```\nNull\n```\né€šè¿‡ç»“æœæˆ‘ä»¬å¾ˆå®¹æ˜“çŸ¥é“ï¼ŒnewCar1 å’Œ newCar æŒ‡å‘çš„ä¸æ˜¯åŒä¸€ä¸ªå®ä¾‹ã€‚\né€šè¿‡ä¸Šè¿°ä¾‹å­æˆ‘ä»¬çŸ¥é“äº†singletonå’Œprototypeçš„åŒºåˆ«ï¼Œä»¥ååœ¨å®é™…è¿‡ç¨‹ä¸­å°±èƒ½å¾ˆå¥½çš„åˆ©ç”¨å®ƒä»¬äº†ã€‚\n* Request ä½œç”¨åŸŸ\nå¯¹äºæ¯ä¸ªhttpè¯·æ±‚ï¼Œspringå®¹å™¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œç”±äºæ¯ä¸ªè¯·æ±‚éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹ï¼Œç›¸äº’ä¹‹é—´ä¸èƒ½çœ‹åˆ°å¯¹æ–¹çš„å†…éƒ¨å˜åŒ–ï¼Œæ‰€ä»¥ç›¸å¯¹æ¥è¯´æ˜¯å®‰å…¨çš„ã€‚ä¸€æ—¦è¯·æ±‚å®Œæˆï¼Œå¯¹åº”Request ä½œç”¨åŸŸçš„å®ä¾‹ä¹Ÿéšç€ä¸¢å¼ƒã€‚\n* Session ä½œç”¨åŸŸ\n\tæ¯ä¸ªè¯·æ±‚éƒ½ä¼šåˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œæ¯ä¸ªå®ä¾‹å…±äº«ä¸€ä¸ªHTTP  Sessionã€‚\n. globalSession ä½œç”¨åŸŸ\næ™®éé€‚ç”¨äºåœ¨åŸºäºportlets çš„webç¯å¢ƒä¸‹ï¼Œæ‰€æœ‰çš„portletå…±äº«å…¨å±€çš„sessionã€‚\n**æ³¨æ„ï¼šå¦‚æœåœ¨åŸºäº servlet çš„webç¯å¢ƒä¸‹ï¼Œå®šä¹‰ä¸€ä¸ªæˆ–è€…å¤šä¸ª global session ä½œç”¨åŸŸï¼Œæ ‡å‡†çš„httpè®²ä½¿ç”¨Session ä½œç”¨ï¼Œä¸ä¼šå‡ºç°é”™è¯¯ã€‚**\nå‚è€ƒæ–‡æ¡£ï¼š\n[Bean scopes](https://docs.spring.io/spring/docs/3.0.0.M3/reference/html/ch04s04.html)\n\næ¥ä¸‹æ¥ä¸€ç¯‡æˆ‘ä»¬æ¥ä»‹ç»ä¸€ä¸‹ä¸€ä¸ªServlet å’Œ portlets çš„åŒºåˆ«","slug":"spring-beançš„ä½œç”¨åŸŸ","published":1,"updated":"2019-07-14T04:37:24.705Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkctuq00104osxlsnw1z47","content":"<p>Spring ä¸­æœ‰äº”ç§ä½œç”¨åŸŸï¼Œä½†æ˜¯æœ‰ä¸‰ç§åªé€‚ç”¨åœ¨webç¯å¢ƒ<img src=\"https://img-blog.csdnimg.cn/20190305163713526.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>ä¸‹é¢æˆ‘ä»¬æ¥ä»‹ç»ä¸€ä¸‹ singleton å’Œ prototype</p>\n<ul>\n<li>Singleton ä½œç”¨åŸŸ<br>æˆ‘ä»¬å…ˆé€šè¿‡idea åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªNewCar ç±»æ‹¥æœ‰ä¸¤ä¸ªæ–¹æ³•å¦‚ä¸‹ï¼š<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class NewCar &#123;</span><br><span class=\"line\">    private String content;</span><br><span class=\"line\">    public void prints() &#123;</span><br><span class=\"line\">        System.out.println(content);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">   \tpublic void setContent(String content) &#123;</span><br><span class=\"line\">        this.content = content;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>æ¥ç€åˆ›å»ºä¸€ä¸ªsingleton.xml é…ç½®æ–‡ä»¶<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class=\"line\">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class=\"line\">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class=\"line\">       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;</span><br><span class=\"line\">    &lt;bean id=&quot;testSingleton&quot; class=&quot;cn.assist.easydao.util.NewCar&quot; scope=&quot;singleton&quot;&gt;&lt;/bean&gt;</span><br><span class=\"line\">&lt;/beans&gt;</span><br></pre></td></tr></table></figure></p>\n<p>æ¥ä¸‹æ¥æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæµ‹è¯•ç±»ï¼Œæ¥æ£€éªŒ<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;singleton.xml&quot;);</span><br><span class=\"line\">NewCar newCar = (NewCar) applicationContext.getBean(&quot;testSingleton&quot;);</span><br><span class=\"line\">newCar.setContent(&quot;test singleton&quot;);</span><br><span class=\"line\">NewCar newCar1 = (NewCar) applicationContext.getBean(&quot;testSingleton&quot;);</span><br><span class=\"line\">newCar1.prints();</span><br></pre></td></tr></table></figure></p>\n<p>é€šè¿‡ä¸Šè¿°æ–¹æ³•ï¼Œæ‰“å°ç»“æœå¦‚ä¸‹ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">test singleton</span><br></pre></td></tr></table></figure></p>\n<p>è¯´æ˜ newCar å’Œ newCar1 æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå®ä¾‹ï¼Œå¦‚æœä½¿ç”¨prototypeä½œç”¨åŸŸä¼šæ˜¯ä¸€ä¸ªä»€ä¹ˆç»“æœï¼Ÿ<br>å°†ä¸Šè¿°é…ç½®æ–‡ä»¶scope ä¿®æ”¹æˆ prototypeï¼Œå¦‚ä¸‹ï¼š</p>\n<ul>\n<li>prototype ä½œç”¨åŸŸ<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class=\"line\">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class=\"line\">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class=\"line\">       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;</span><br><span class=\"line\">    &lt;bean id=&quot;testSingleton&quot; class=&quot;cn.assist.easydao.util.NewCar&quot; scope=&quot;prototype&quot;&gt;&lt;/bean&gt;</span><br><span class=\"line\">&lt;/beans&gt;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>å†æ¬¡è¿è¡Œæµ‹è¯•ç±»ï¼Œæ‰“å°å¦‚ä¸‹<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Null</span><br></pre></td></tr></table></figure></p>\n<p>é€šè¿‡ç»“æœæˆ‘ä»¬å¾ˆå®¹æ˜“çŸ¥é“ï¼ŒnewCar1 å’Œ newCar æŒ‡å‘çš„ä¸æ˜¯åŒä¸€ä¸ªå®ä¾‹ã€‚<br>é€šè¿‡ä¸Šè¿°ä¾‹å­æˆ‘ä»¬çŸ¥é“äº†singletonå’Œprototypeçš„åŒºåˆ«ï¼Œä»¥ååœ¨å®é™…è¿‡ç¨‹ä¸­å°±èƒ½å¾ˆå¥½çš„åˆ©ç”¨å®ƒä»¬äº†ã€‚</p>\n<ul>\n<li>Request ä½œç”¨åŸŸ<br>å¯¹äºæ¯ä¸ªhttpè¯·æ±‚ï¼Œspringå®¹å™¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œç”±äºæ¯ä¸ªè¯·æ±‚éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹ï¼Œç›¸äº’ä¹‹é—´ä¸èƒ½çœ‹åˆ°å¯¹æ–¹çš„å†…éƒ¨å˜åŒ–ï¼Œæ‰€ä»¥ç›¸å¯¹æ¥è¯´æ˜¯å®‰å…¨çš„ã€‚ä¸€æ—¦è¯·æ±‚å®Œæˆï¼Œå¯¹åº”Request ä½œç”¨åŸŸçš„å®ä¾‹ä¹Ÿéšç€ä¸¢å¼ƒã€‚</li>\n<li>Session ä½œç”¨åŸŸ<br>  æ¯ä¸ªè¯·æ±‚éƒ½ä¼šåˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œæ¯ä¸ªå®ä¾‹å…±äº«ä¸€ä¸ªHTTP  Sessionã€‚<br>. globalSession ä½œç”¨åŸŸ<br>æ™®éé€‚ç”¨äºåœ¨åŸºäºportlets çš„webç¯å¢ƒä¸‹ï¼Œæ‰€æœ‰çš„portletå…±äº«å…¨å±€çš„sessionã€‚<br><strong>æ³¨æ„ï¼šå¦‚æœåœ¨åŸºäº servlet çš„webç¯å¢ƒä¸‹ï¼Œå®šä¹‰ä¸€ä¸ªæˆ–è€…å¤šä¸ª global session ä½œç”¨åŸŸï¼Œæ ‡å‡†çš„httpè®²ä½¿ç”¨Session ä½œç”¨ï¼Œä¸ä¼šå‡ºç°é”™è¯¯ã€‚</strong><br>å‚è€ƒæ–‡æ¡£ï¼š<br><a href=\"https://docs.spring.io/spring/docs/3.0.0.M3/reference/html/ch04s04.html\" target=\"_blank\" rel=\"noopener\">Bean scopes</a></li>\n</ul>\n<p>æ¥ä¸‹æ¥ä¸€ç¯‡æˆ‘ä»¬æ¥ä»‹ç»ä¸€ä¸‹ä¸€ä¸ªServlet å’Œ portlets çš„åŒºåˆ«</p>\n","site":{"data":{}},"excerpt":"","more":"<p>Spring ä¸­æœ‰äº”ç§ä½œç”¨åŸŸï¼Œä½†æ˜¯æœ‰ä¸‰ç§åªé€‚ç”¨åœ¨webç¯å¢ƒ<img src=\"https://img-blog.csdnimg.cn/20190305163713526.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>ä¸‹é¢æˆ‘ä»¬æ¥ä»‹ç»ä¸€ä¸‹ singleton å’Œ prototype</p>\n<ul>\n<li>Singleton ä½œç”¨åŸŸ<br>æˆ‘ä»¬å…ˆé€šè¿‡idea åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªNewCar ç±»æ‹¥æœ‰ä¸¤ä¸ªæ–¹æ³•å¦‚ä¸‹ï¼š<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class NewCar &#123;</span><br><span class=\"line\">    private String content;</span><br><span class=\"line\">    public void prints() &#123;</span><br><span class=\"line\">        System.out.println(content);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">   \tpublic void setContent(String content) &#123;</span><br><span class=\"line\">        this.content = content;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>æ¥ç€åˆ›å»ºä¸€ä¸ªsingleton.xml é…ç½®æ–‡ä»¶<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class=\"line\">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class=\"line\">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class=\"line\">       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;</span><br><span class=\"line\">    &lt;bean id=&quot;testSingleton&quot; class=&quot;cn.assist.easydao.util.NewCar&quot; scope=&quot;singleton&quot;&gt;&lt;/bean&gt;</span><br><span class=\"line\">&lt;/beans&gt;</span><br></pre></td></tr></table></figure></p>\n<p>æ¥ä¸‹æ¥æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæµ‹è¯•ç±»ï¼Œæ¥æ£€éªŒ<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;singleton.xml&quot;);</span><br><span class=\"line\">NewCar newCar = (NewCar) applicationContext.getBean(&quot;testSingleton&quot;);</span><br><span class=\"line\">newCar.setContent(&quot;test singleton&quot;);</span><br><span class=\"line\">NewCar newCar1 = (NewCar) applicationContext.getBean(&quot;testSingleton&quot;);</span><br><span class=\"line\">newCar1.prints();</span><br></pre></td></tr></table></figure></p>\n<p>é€šè¿‡ä¸Šè¿°æ–¹æ³•ï¼Œæ‰“å°ç»“æœå¦‚ä¸‹ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">test singleton</span><br></pre></td></tr></table></figure></p>\n<p>è¯´æ˜ newCar å’Œ newCar1 æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå®ä¾‹ï¼Œå¦‚æœä½¿ç”¨prototypeä½œç”¨åŸŸä¼šæ˜¯ä¸€ä¸ªä»€ä¹ˆç»“æœï¼Ÿ<br>å°†ä¸Šè¿°é…ç½®æ–‡ä»¶scope ä¿®æ”¹æˆ prototypeï¼Œå¦‚ä¸‹ï¼š</p>\n<ul>\n<li>prototype ä½œç”¨åŸŸ<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class=\"line\">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class=\"line\">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class=\"line\">       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;</span><br><span class=\"line\">    &lt;bean id=&quot;testSingleton&quot; class=&quot;cn.assist.easydao.util.NewCar&quot; scope=&quot;prototype&quot;&gt;&lt;/bean&gt;</span><br><span class=\"line\">&lt;/beans&gt;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>å†æ¬¡è¿è¡Œæµ‹è¯•ç±»ï¼Œæ‰“å°å¦‚ä¸‹<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Null</span><br></pre></td></tr></table></figure></p>\n<p>é€šè¿‡ç»“æœæˆ‘ä»¬å¾ˆå®¹æ˜“çŸ¥é“ï¼ŒnewCar1 å’Œ newCar æŒ‡å‘çš„ä¸æ˜¯åŒä¸€ä¸ªå®ä¾‹ã€‚<br>é€šè¿‡ä¸Šè¿°ä¾‹å­æˆ‘ä»¬çŸ¥é“äº†singletonå’Œprototypeçš„åŒºåˆ«ï¼Œä»¥ååœ¨å®é™…è¿‡ç¨‹ä¸­å°±èƒ½å¾ˆå¥½çš„åˆ©ç”¨å®ƒä»¬äº†ã€‚</p>\n<ul>\n<li>Request ä½œç”¨åŸŸ<br>å¯¹äºæ¯ä¸ªhttpè¯·æ±‚ï¼Œspringå®¹å™¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œç”±äºæ¯ä¸ªè¯·æ±‚éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹ï¼Œç›¸äº’ä¹‹é—´ä¸èƒ½çœ‹åˆ°å¯¹æ–¹çš„å†…éƒ¨å˜åŒ–ï¼Œæ‰€ä»¥ç›¸å¯¹æ¥è¯´æ˜¯å®‰å…¨çš„ã€‚ä¸€æ—¦è¯·æ±‚å®Œæˆï¼Œå¯¹åº”Request ä½œç”¨åŸŸçš„å®ä¾‹ä¹Ÿéšç€ä¸¢å¼ƒã€‚</li>\n<li>Session ä½œç”¨åŸŸ<br>  æ¯ä¸ªè¯·æ±‚éƒ½ä¼šåˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œæ¯ä¸ªå®ä¾‹å…±äº«ä¸€ä¸ªHTTP  Sessionã€‚<br>. globalSession ä½œç”¨åŸŸ<br>æ™®éé€‚ç”¨äºåœ¨åŸºäºportlets çš„webç¯å¢ƒä¸‹ï¼Œæ‰€æœ‰çš„portletå…±äº«å…¨å±€çš„sessionã€‚<br><strong>æ³¨æ„ï¼šå¦‚æœåœ¨åŸºäº servlet çš„webç¯å¢ƒä¸‹ï¼Œå®šä¹‰ä¸€ä¸ªæˆ–è€…å¤šä¸ª global session ä½œç”¨åŸŸï¼Œæ ‡å‡†çš„httpè®²ä½¿ç”¨Session ä½œç”¨ï¼Œä¸ä¼šå‡ºç°é”™è¯¯ã€‚</strong><br>å‚è€ƒæ–‡æ¡£ï¼š<br><a href=\"https://docs.spring.io/spring/docs/3.0.0.M3/reference/html/ch04s04.html\" target=\"_blank\" rel=\"noopener\">Bean scopes</a></li>\n</ul>\n<p>æ¥ä¸‹æ¥ä¸€ç¯‡æˆ‘ä»¬æ¥ä»‹ç»ä¸€ä¸‹ä¸€ä¸ªServlet å’Œ portlets çš„åŒºåˆ«</p>\n"},{"title":"å…³äºVolatileçš„é‚£ç‚¹äº‹","date":"2019-03-15T01:53:46.000Z","_content":"# 1.\tä¸ºå•¥è¦ä½¿ç”¨Volatileï¼Ÿ\né€šå¸¸æˆ‘ä»¬åœ¨Javaä¸­ç»™å˜é‡åŠ ä¸ŠVolatileä¿®é¥°ï¼Œä¸»è¦ç”¨é€”æ˜¯ä½¿è¯¥å˜é‡å…·æœ‰å¯è§æ€§ã€‚å› ä¸ºåœ¨å¤šçº¿ç¨‹çš„æ“ä½œä¸­ï¼Œç”±äºæ¯ä¸ªçº¿ç¨‹å†…éƒ¨éƒ½ä¼šå¼€è¾Ÿä¸€ä¸ªå†…å­˜ç©ºé—´ï¼Œå¦‚æœæƒ³è®©æ¯ä¸ªç©ºé—´éƒ½å¯è§è¯¥å˜é‡åˆ™éœ€è¦ç»™è¿™ä¸ªå˜é‡åŠ åœ¨Volatileä¿®é¥°ï¼Œä½¿å˜é‡å˜æˆå…±äº«å˜é‡ã€‚å®ƒä¹Ÿèƒ½é¿å… jvm æŒ‡ä»¤é‡æ’ã€‚\n# 2. Volatile å®ç°åŸç†ï¼Ÿ\nåœ¨äº†è§£volatileåŸç†ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹cpuå’Œä¸»å­˜ï¼Œå…³äºcpuçš„å®šä¹‰å¦‚ä¸‹å›¾ï¼š\n![cpuæœ¯è¯­å®šä¹‰](https://img.mupaie.com/20190301100135878.png)\nçŸ¥é“cpuå®šä¹‰åï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å†…å­˜å’Œcpuæ˜¯æ€ä¹ˆäº¤äº’çš„ï¼Œç”±äºå†…å­˜å¤„ç†é€Ÿåº¦å’Œcpuçš„å¤„ç†é€Ÿåº¦å·®è·å¤ªå¤§ï¼Œä¸ºäº†å¹³è¡¡ä¸¤è€…ä¹‹é—´çš„å·®è·å¼•å…¥äº†cpu\nç¼“å­˜å¦‚ä¸‹å›¾ï¼š\n![cpuå’Œå†…å­˜çš„äº¤äº’](https://img.mupaie.com/20190301101210752.png)\nçŸ¥é“å†…å­˜å’Œcpuçš„äº¤äº’åï¼Œæˆ‘ä»¬æ¥è§£å†³ä¸€ä¸ªé—®é¢˜ -- volatile å…³é”®å­—æ˜¯å¦‚ä½•å®ç°å˜é‡å¯è§æ€§çš„å‘¢ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€æ®µä»£ç æ¥å±•ç¤ºå¦‚ä½•å®ç°å¯è§æ€§çš„ï¼š\nJava ä»£ç å¦‚ä¸‹ï¼š\nobject = new Singleton(); // object æ˜¯ volatile ä¿®é¥°çš„å˜é‡\nè½¬å˜æˆæ±‡ç¼–ä»£ç ï¼š\n ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190301100533374.png)\n æˆ‘ä»¬å‘ç°é€šè¿‡volatile ä¿®é¥°çš„å˜é‡è¿›è¡Œå†™æ“ä½œçš„æ—¶å€™ä¼šå¤šå‡ºä¸€æ®µLock å‰ç¼€æŒ‡ä»¤ï¼Œè¿™æ®µæŒ‡ä»¤çš„ç”¨é€”ä¸»è¦æœ‰ä¸¤ç‚¹ï¼š\n 1. å°†å½“å‰çš„å¤„ç†å™¨ç¼“å­˜è¡Œå†™ä¼šç³»ç»Ÿå†…å­˜\n 2. è¿™ä¸ªå†™å›æ“ä½œä½¿å…¶ä»–cpué‡Œé¢ç¼“å­˜è¯¥å€¼çš„å†…å­˜åœ°å€æ•°æ®å®æ•ˆã€‚\næˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹å®ç°è¿‡ç¨‹ï¼ŒLockå‰ç¼€æŒ‡ä»¤åœ¨æ‰§è¡ŒæœŸé—´ä¼šç»™å¤„ç†å™¨å‘é€ä¸€ä¸ªLOCK#ä¿¡å·ï¼Œå¤„ç†å™¨æ”¶åˆ°ä¿¡å·åä¼šé”ä½cpuç¼“å­˜å¹¶å°†å˜é‡å†™å…¥ä¸»å†…å­˜ä¸­ã€‚ç”±äºå¤„ç†å™¨ä½¿ç”¨å—…æ¢æŠ€æœ¯ç¡®ä¿å®ƒå†…å­˜ç¼“å­˜ï¼Œç³»ç»Ÿå†…å­˜å’Œå…¶ä»–å¤„ç†å™¨çš„ç¼“å­˜çš„æ•°æ®åœ¨æ€»çº¿ä¸Šä¿æŒä¸€è‡´ã€‚å¦‚æœå—…æ¢åˆ°æœ‰ä¸€ä¸ªå¤„ç†å™¨æ¥æ£€æµ‹å…¶ä»–å¤„ç†å™¨æ‰“ç®—å†™å…¥å†…å­˜åœ°å€ï¼Œè€Œè¿™ä¸ªåœ°å€æ˜¯å¤„äºå…±äº«çŠ¶æ€çš„ï¼Œé‚£ä¹ˆæ­£åœ¨å—…æ¢çš„å¤„ç†å™¨ä¸­ç¼“å­˜çš„å†…å­˜åœ°å€å°†å˜æˆæ— æ•ˆï¼Œä¸‹æ¬¡è®¿é—®çš„æ—¶å€™ç›´æ¥è¯»å–ä¸»å­˜ä¸­çš„å†…å­˜åœ°å€ã€‚\n# 3. volatile èƒ½å®ç°å¯è§æ€§ï¼Œä½†ä¸èƒ½ä¿è¯åŸå­æ€§\nè™½ç„¶volatileå…³é”®å­—èƒ½ä¿è¯ä»ä¸»å†…å­˜ä¸­ç›´æ¥è·å–è¢«volatileä¿®é¥°çš„å˜é‡ï¼Œä¹Ÿèƒ½ç›´æ¥æŠŠvolatileä¿®é¥°çš„å˜é‡å†™å…¥ä¸»å†…å­˜ä¸­ï¼Œä½†æ˜¯è¿™æ ·ä¹Ÿä¸èƒ½ä¿è¯åŸå­æ€§ã€‚åœ¨å¤šcpuçš„æƒ…å†µä¸‹ï¼Œè¿˜æ˜¯ä¼šå‡ºç°çº¿ç¨‹ä¸å®‰å…¨æƒ…å†µï¼Œæ¯”å¦‚ï¼šåœ¨å¤šçº¿ç¨‹ä¸‹ï¼Œå¤šä¸ªçº¿ç¨‹æ­£åœ¨å†™å…¥ä¸€ä¸ªvolatileå˜é‡ï¼Œå¹¶æ­£ç¡®çš„å°†å€¼å†™å…¥ä¸»å†…å­˜ä¸­ï¼Œå¦‚æœæ–°å†™å…¥çš„å€¼ä¸æ˜¯æ ¹æ®ä¹‹å‰çš„å€¼è®¡ç®—å¾—åˆ°çš„ï¼Œé‚£ä¹ˆå°±ä¸èƒ½ä¿è¯æ•°æ®åŸå­æ€§äº†ã€‚\né™¤äº†ä¸Šè¿°å†™äº†è¿˜æœ‰ä¸€ç§æƒ…å†µï¼š\nåœ¨å¤šçº¿ç¨‹ä¸­ï¼Œé€’å¢ä¸€ä¸ªvolatileå˜é‡counterï¼Œé€šè¿‡volatileä¸è¶³å¤Ÿè§£å†³é—®é¢˜ï¼Œä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥è§£é‡Šï¼š\nä½ æƒ³è±¡ä¸€ä¸‹å¦‚æœçº¿ç¨‹1è¯»å–å€¼ä¸º0çš„å˜é‡counterå°†ä»–å†™å…¥cpuç¼“å­˜ä¸­ï¼Œé€’å¢è¿™ä¸ªå˜é‡counterå°†å®ƒå˜æˆ1ï¼Œæ²¡æœ‰å°†ä¿®æ”¹çš„å€¼å†™å…¥ä¸»å†…å­˜ä¸­ã€‚çº¿ç¨‹2ä¹Ÿèƒ½ä»ä¸»å†…å­˜ä¸­è¯»å–åˆ°ç›¸åŒçš„å˜é‡counterï¼Œä½†æ˜¯è¿™ä¸ªå˜é‡counterè¿˜æ˜¯0ï¼Œç„¶åå°†å˜é‡counterå†™å…¥cpuçš„ç¼“å­˜ä¸­ï¼Œçº¿ç¨‹2ä¹Ÿé€’å¢äº†è¿™ä¸ªå˜é‡counterä¸º1ï¼Œæ²¡æœ‰å°†å€¼å†™å…¥ä¸»å†…å­˜ä¸­ï¼Œè¿™ç§æƒ…å†µå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190301144702874.png)\nçº¿ç¨‹1å’Œçº¿ç¨‹2ç°åœ¨ä¸æ˜¯åŒæ­¥çš„ã€‚ä¸Šè¿°ç»“æœåŸæœ¬åº”è¯¥æ˜¯2ï¼Œä½†æ˜¯å› ä¸ºä¸¤ä¸ªçº¿ç¨‹éƒ½æ²¡æœ‰æŠŠå˜é‡counterå†™å…¥ä¸»å†…å­˜ï¼Œå¯¼è‡´ä¸»å†…å­˜çš„å˜é‡counterè¿˜æ˜¯0ï¼Œå³ä½¿æœ€ç»ˆçº¿ç¨‹1å’Œ2å°†å˜é‡counterå†™å…¥ä¸»å†…å­˜ä¹Ÿæ˜¯é”™è¯¯çš„ã€‚\n# 4. æ€ä¹ˆä¿è¯volatileåŸå­æ€§å‘¢ï¼Ÿ\nå¦‚æœä¸¤ä¸ªä»¥ä¸Šçš„çº¿ç¨‹å¯¹å…±äº«å˜é‡è¯»å†™æ“ä½œï¼Œä½¿ç”¨volatileå¹¶ä¸èƒ½è§£å†³é—®é¢˜ã€‚ä½ éœ€è¦ä½¿ç”¨ synchronized æ¥ç¡®ä¿å¯¹å˜é‡è¯»å†™æ“ä½œä½¿åŸå­æ€§çš„ã€‚ä¸æ­¢å¯ä»¥é€šè¿‡synchronizedé”è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ java.util.concurrent package ä¸‹çš„ä¸€äº›åŸå­æ•°æ®ï¼Œæ¯”å¦‚ AtomicLongï¼ŒAtomicReference è¿˜æœ‰å…¶ä»–ä¸€äº›ã€‚volatileå…³é”®å­—èƒ½ä¿è¯åœ¨32å’Œ64ä½çš„å˜é‡è¿è¡Œã€‚\n\n# 5. volatile æ€§èƒ½è€ƒè™‘\nè¯»å–å’Œå†™å…¥volatileå˜é‡ä¼šå¯¼è‡´å˜é‡è¢«è¯»å–æˆ–å†™å…¥ä¸»å­˜å‚¨å™¨ã€‚è¯»å–å’Œå†™å…¥ä¸»å†…å­˜æ¯”è®¿é—®CPUç¼“å­˜æ›´æ˜‚è´µã€‚è®¿é—®volatileå˜é‡ä¹Ÿä¼šé˜»æ­¢æŒ‡ä»¤é‡æ–°æ’åºï¼Œè¿™æ˜¯ä¸€ç§æ­£å¸¸çš„æ€§èƒ½å¢å¼ºæŠ€æœ¯ã€‚å› æ­¤ï¼Œå½“æ‚¨ç¡®å®éœ€è¦å¼ºåˆ¶å®æ–½å˜é‡å¯è§æ€§æ—¶ï¼Œåº”è¯¥åªä½¿ç”¨volatileå˜é‡ã€‚\n\n# 6. æ€»ç»“\nä¸»è¦è®²äº†ä¸€äº› volatile çš„åº•å±‚å®ç°å’Œå¦‚ä½•ä¿è¯volatileåŸå­æ€§ï¼Œæœ€åè®²äº†ä¸€ä¸‹ éœ€è¦è€ƒè™‘ä¸€äº› volatile æ€§èƒ½ã€‚\næ³¨æ„ï¼š__ä½¿ç”¨ volatile ä¿®é¥°çš„å˜é‡é¿å…è¯¥å˜é‡è®¡ç®—éœ€è¦ä¾èµ–ä¹‹å‰çš„å€¼ã€‚__\n\nå‚è€ƒæ–‡æ¡£ï¼š\n[Java Volatile Keyword](http://tutorials.jenkov.com/java-concurrency/volatile.html)\n[èŠèŠå¹¶å‘ï¼ˆä¸€ï¼‰â€”â€”æ·±å…¥åˆ†æ Volatile çš„å®ç°åŸç†](https://www.infoq.cn/article/ftf-java-volatile)\n","source":"_posts/å…³äºVolatileçš„é‚£ç‚¹äº‹.md","raw":"---\ntitle: å…³äºVolatileçš„é‚£ç‚¹äº‹\ndate: 2019-03-15 09:53:46\ntags:\n- å¤šçº¿ç¨‹\n- å¹¶å‘\n---\n# 1.\tä¸ºå•¥è¦ä½¿ç”¨Volatileï¼Ÿ\né€šå¸¸æˆ‘ä»¬åœ¨Javaä¸­ç»™å˜é‡åŠ ä¸ŠVolatileä¿®é¥°ï¼Œä¸»è¦ç”¨é€”æ˜¯ä½¿è¯¥å˜é‡å…·æœ‰å¯è§æ€§ã€‚å› ä¸ºåœ¨å¤šçº¿ç¨‹çš„æ“ä½œä¸­ï¼Œç”±äºæ¯ä¸ªçº¿ç¨‹å†…éƒ¨éƒ½ä¼šå¼€è¾Ÿä¸€ä¸ªå†…å­˜ç©ºé—´ï¼Œå¦‚æœæƒ³è®©æ¯ä¸ªç©ºé—´éƒ½å¯è§è¯¥å˜é‡åˆ™éœ€è¦ç»™è¿™ä¸ªå˜é‡åŠ åœ¨Volatileä¿®é¥°ï¼Œä½¿å˜é‡å˜æˆå…±äº«å˜é‡ã€‚å®ƒä¹Ÿèƒ½é¿å… jvm æŒ‡ä»¤é‡æ’ã€‚\n# 2. Volatile å®ç°åŸç†ï¼Ÿ\nåœ¨äº†è§£volatileåŸç†ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹cpuå’Œä¸»å­˜ï¼Œå…³äºcpuçš„å®šä¹‰å¦‚ä¸‹å›¾ï¼š\n![cpuæœ¯è¯­å®šä¹‰](https://img.mupaie.com/20190301100135878.png)\nçŸ¥é“cpuå®šä¹‰åï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å†…å­˜å’Œcpuæ˜¯æ€ä¹ˆäº¤äº’çš„ï¼Œç”±äºå†…å­˜å¤„ç†é€Ÿåº¦å’Œcpuçš„å¤„ç†é€Ÿåº¦å·®è·å¤ªå¤§ï¼Œä¸ºäº†å¹³è¡¡ä¸¤è€…ä¹‹é—´çš„å·®è·å¼•å…¥äº†cpu\nç¼“å­˜å¦‚ä¸‹å›¾ï¼š\n![cpuå’Œå†…å­˜çš„äº¤äº’](https://img.mupaie.com/20190301101210752.png)\nçŸ¥é“å†…å­˜å’Œcpuçš„äº¤äº’åï¼Œæˆ‘ä»¬æ¥è§£å†³ä¸€ä¸ªé—®é¢˜ -- volatile å…³é”®å­—æ˜¯å¦‚ä½•å®ç°å˜é‡å¯è§æ€§çš„å‘¢ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€æ®µä»£ç æ¥å±•ç¤ºå¦‚ä½•å®ç°å¯è§æ€§çš„ï¼š\nJava ä»£ç å¦‚ä¸‹ï¼š\nobject = new Singleton(); // object æ˜¯ volatile ä¿®é¥°çš„å˜é‡\nè½¬å˜æˆæ±‡ç¼–ä»£ç ï¼š\n ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190301100533374.png)\n æˆ‘ä»¬å‘ç°é€šè¿‡volatile ä¿®é¥°çš„å˜é‡è¿›è¡Œå†™æ“ä½œçš„æ—¶å€™ä¼šå¤šå‡ºä¸€æ®µLock å‰ç¼€æŒ‡ä»¤ï¼Œè¿™æ®µæŒ‡ä»¤çš„ç”¨é€”ä¸»è¦æœ‰ä¸¤ç‚¹ï¼š\n 1. å°†å½“å‰çš„å¤„ç†å™¨ç¼“å­˜è¡Œå†™ä¼šç³»ç»Ÿå†…å­˜\n 2. è¿™ä¸ªå†™å›æ“ä½œä½¿å…¶ä»–cpué‡Œé¢ç¼“å­˜è¯¥å€¼çš„å†…å­˜åœ°å€æ•°æ®å®æ•ˆã€‚\næˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹å®ç°è¿‡ç¨‹ï¼ŒLockå‰ç¼€æŒ‡ä»¤åœ¨æ‰§è¡ŒæœŸé—´ä¼šç»™å¤„ç†å™¨å‘é€ä¸€ä¸ªLOCK#ä¿¡å·ï¼Œå¤„ç†å™¨æ”¶åˆ°ä¿¡å·åä¼šé”ä½cpuç¼“å­˜å¹¶å°†å˜é‡å†™å…¥ä¸»å†…å­˜ä¸­ã€‚ç”±äºå¤„ç†å™¨ä½¿ç”¨å—…æ¢æŠ€æœ¯ç¡®ä¿å®ƒå†…å­˜ç¼“å­˜ï¼Œç³»ç»Ÿå†…å­˜å’Œå…¶ä»–å¤„ç†å™¨çš„ç¼“å­˜çš„æ•°æ®åœ¨æ€»çº¿ä¸Šä¿æŒä¸€è‡´ã€‚å¦‚æœå—…æ¢åˆ°æœ‰ä¸€ä¸ªå¤„ç†å™¨æ¥æ£€æµ‹å…¶ä»–å¤„ç†å™¨æ‰“ç®—å†™å…¥å†…å­˜åœ°å€ï¼Œè€Œè¿™ä¸ªåœ°å€æ˜¯å¤„äºå…±äº«çŠ¶æ€çš„ï¼Œé‚£ä¹ˆæ­£åœ¨å—…æ¢çš„å¤„ç†å™¨ä¸­ç¼“å­˜çš„å†…å­˜åœ°å€å°†å˜æˆæ— æ•ˆï¼Œä¸‹æ¬¡è®¿é—®çš„æ—¶å€™ç›´æ¥è¯»å–ä¸»å­˜ä¸­çš„å†…å­˜åœ°å€ã€‚\n# 3. volatile èƒ½å®ç°å¯è§æ€§ï¼Œä½†ä¸èƒ½ä¿è¯åŸå­æ€§\nè™½ç„¶volatileå…³é”®å­—èƒ½ä¿è¯ä»ä¸»å†…å­˜ä¸­ç›´æ¥è·å–è¢«volatileä¿®é¥°çš„å˜é‡ï¼Œä¹Ÿèƒ½ç›´æ¥æŠŠvolatileä¿®é¥°çš„å˜é‡å†™å…¥ä¸»å†…å­˜ä¸­ï¼Œä½†æ˜¯è¿™æ ·ä¹Ÿä¸èƒ½ä¿è¯åŸå­æ€§ã€‚åœ¨å¤šcpuçš„æƒ…å†µä¸‹ï¼Œè¿˜æ˜¯ä¼šå‡ºç°çº¿ç¨‹ä¸å®‰å…¨æƒ…å†µï¼Œæ¯”å¦‚ï¼šåœ¨å¤šçº¿ç¨‹ä¸‹ï¼Œå¤šä¸ªçº¿ç¨‹æ­£åœ¨å†™å…¥ä¸€ä¸ªvolatileå˜é‡ï¼Œå¹¶æ­£ç¡®çš„å°†å€¼å†™å…¥ä¸»å†…å­˜ä¸­ï¼Œå¦‚æœæ–°å†™å…¥çš„å€¼ä¸æ˜¯æ ¹æ®ä¹‹å‰çš„å€¼è®¡ç®—å¾—åˆ°çš„ï¼Œé‚£ä¹ˆå°±ä¸èƒ½ä¿è¯æ•°æ®åŸå­æ€§äº†ã€‚\né™¤äº†ä¸Šè¿°å†™äº†è¿˜æœ‰ä¸€ç§æƒ…å†µï¼š\nåœ¨å¤šçº¿ç¨‹ä¸­ï¼Œé€’å¢ä¸€ä¸ªvolatileå˜é‡counterï¼Œé€šè¿‡volatileä¸è¶³å¤Ÿè§£å†³é—®é¢˜ï¼Œä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥è§£é‡Šï¼š\nä½ æƒ³è±¡ä¸€ä¸‹å¦‚æœçº¿ç¨‹1è¯»å–å€¼ä¸º0çš„å˜é‡counterå°†ä»–å†™å…¥cpuç¼“å­˜ä¸­ï¼Œé€’å¢è¿™ä¸ªå˜é‡counterå°†å®ƒå˜æˆ1ï¼Œæ²¡æœ‰å°†ä¿®æ”¹çš„å€¼å†™å…¥ä¸»å†…å­˜ä¸­ã€‚çº¿ç¨‹2ä¹Ÿèƒ½ä»ä¸»å†…å­˜ä¸­è¯»å–åˆ°ç›¸åŒçš„å˜é‡counterï¼Œä½†æ˜¯è¿™ä¸ªå˜é‡counterè¿˜æ˜¯0ï¼Œç„¶åå°†å˜é‡counterå†™å…¥cpuçš„ç¼“å­˜ä¸­ï¼Œçº¿ç¨‹2ä¹Ÿé€’å¢äº†è¿™ä¸ªå˜é‡counterä¸º1ï¼Œæ²¡æœ‰å°†å€¼å†™å…¥ä¸»å†…å­˜ä¸­ï¼Œè¿™ç§æƒ…å†µå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190301144702874.png)\nçº¿ç¨‹1å’Œçº¿ç¨‹2ç°åœ¨ä¸æ˜¯åŒæ­¥çš„ã€‚ä¸Šè¿°ç»“æœåŸæœ¬åº”è¯¥æ˜¯2ï¼Œä½†æ˜¯å› ä¸ºä¸¤ä¸ªçº¿ç¨‹éƒ½æ²¡æœ‰æŠŠå˜é‡counterå†™å…¥ä¸»å†…å­˜ï¼Œå¯¼è‡´ä¸»å†…å­˜çš„å˜é‡counterè¿˜æ˜¯0ï¼Œå³ä½¿æœ€ç»ˆçº¿ç¨‹1å’Œ2å°†å˜é‡counterå†™å…¥ä¸»å†…å­˜ä¹Ÿæ˜¯é”™è¯¯çš„ã€‚\n# 4. æ€ä¹ˆä¿è¯volatileåŸå­æ€§å‘¢ï¼Ÿ\nå¦‚æœä¸¤ä¸ªä»¥ä¸Šçš„çº¿ç¨‹å¯¹å…±äº«å˜é‡è¯»å†™æ“ä½œï¼Œä½¿ç”¨volatileå¹¶ä¸èƒ½è§£å†³é—®é¢˜ã€‚ä½ éœ€è¦ä½¿ç”¨ synchronized æ¥ç¡®ä¿å¯¹å˜é‡è¯»å†™æ“ä½œä½¿åŸå­æ€§çš„ã€‚ä¸æ­¢å¯ä»¥é€šè¿‡synchronizedé”è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ java.util.concurrent package ä¸‹çš„ä¸€äº›åŸå­æ•°æ®ï¼Œæ¯”å¦‚ AtomicLongï¼ŒAtomicReference è¿˜æœ‰å…¶ä»–ä¸€äº›ã€‚volatileå…³é”®å­—èƒ½ä¿è¯åœ¨32å’Œ64ä½çš„å˜é‡è¿è¡Œã€‚\n\n# 5. volatile æ€§èƒ½è€ƒè™‘\nè¯»å–å’Œå†™å…¥volatileå˜é‡ä¼šå¯¼è‡´å˜é‡è¢«è¯»å–æˆ–å†™å…¥ä¸»å­˜å‚¨å™¨ã€‚è¯»å–å’Œå†™å…¥ä¸»å†…å­˜æ¯”è®¿é—®CPUç¼“å­˜æ›´æ˜‚è´µã€‚è®¿é—®volatileå˜é‡ä¹Ÿä¼šé˜»æ­¢æŒ‡ä»¤é‡æ–°æ’åºï¼Œè¿™æ˜¯ä¸€ç§æ­£å¸¸çš„æ€§èƒ½å¢å¼ºæŠ€æœ¯ã€‚å› æ­¤ï¼Œå½“æ‚¨ç¡®å®éœ€è¦å¼ºåˆ¶å®æ–½å˜é‡å¯è§æ€§æ—¶ï¼Œåº”è¯¥åªä½¿ç”¨volatileå˜é‡ã€‚\n\n# 6. æ€»ç»“\nä¸»è¦è®²äº†ä¸€äº› volatile çš„åº•å±‚å®ç°å’Œå¦‚ä½•ä¿è¯volatileåŸå­æ€§ï¼Œæœ€åè®²äº†ä¸€ä¸‹ éœ€è¦è€ƒè™‘ä¸€äº› volatile æ€§èƒ½ã€‚\næ³¨æ„ï¼š__ä½¿ç”¨ volatile ä¿®é¥°çš„å˜é‡é¿å…è¯¥å˜é‡è®¡ç®—éœ€è¦ä¾èµ–ä¹‹å‰çš„å€¼ã€‚__\n\nå‚è€ƒæ–‡æ¡£ï¼š\n[Java Volatile Keyword](http://tutorials.jenkov.com/java-concurrency/volatile.html)\n[èŠèŠå¹¶å‘ï¼ˆä¸€ï¼‰â€”â€”æ·±å…¥åˆ†æ Volatile çš„å®ç°åŸç†](https://www.infoq.cn/article/ftf-java-volatile)\n","slug":"å…³äºVolatileçš„é‚£ç‚¹äº‹","published":1,"updated":"2019-07-14T04:28:18.393Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkctuu00134osx890c50k2","content":"<h1 id=\"1-ä¸ºå•¥è¦ä½¿ç”¨Volatileï¼Ÿ\"><a href=\"#1-ä¸ºå•¥è¦ä½¿ç”¨Volatileï¼Ÿ\" class=\"headerlink\" title=\"1.    ä¸ºå•¥è¦ä½¿ç”¨Volatileï¼Ÿ\"></a>1.    ä¸ºå•¥è¦ä½¿ç”¨Volatileï¼Ÿ</h1><p>é€šå¸¸æˆ‘ä»¬åœ¨Javaä¸­ç»™å˜é‡åŠ ä¸ŠVolatileä¿®é¥°ï¼Œä¸»è¦ç”¨é€”æ˜¯ä½¿è¯¥å˜é‡å…·æœ‰å¯è§æ€§ã€‚å› ä¸ºåœ¨å¤šçº¿ç¨‹çš„æ“ä½œä¸­ï¼Œç”±äºæ¯ä¸ªçº¿ç¨‹å†…éƒ¨éƒ½ä¼šå¼€è¾Ÿä¸€ä¸ªå†…å­˜ç©ºé—´ï¼Œå¦‚æœæƒ³è®©æ¯ä¸ªç©ºé—´éƒ½å¯è§è¯¥å˜é‡åˆ™éœ€è¦ç»™è¿™ä¸ªå˜é‡åŠ åœ¨Volatileä¿®é¥°ï¼Œä½¿å˜é‡å˜æˆå…±äº«å˜é‡ã€‚å®ƒä¹Ÿèƒ½é¿å… jvm æŒ‡ä»¤é‡æ’ã€‚</p>\n<h1 id=\"2-Volatile-å®ç°åŸç†ï¼Ÿ\"><a href=\"#2-Volatile-å®ç°åŸç†ï¼Ÿ\" class=\"headerlink\" title=\"2. Volatile å®ç°åŸç†ï¼Ÿ\"></a>2. Volatile å®ç°åŸç†ï¼Ÿ</h1><p>åœ¨äº†è§£volatileåŸç†ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹cpuå’Œä¸»å­˜ï¼Œå…³äºcpuçš„å®šä¹‰å¦‚ä¸‹å›¾ï¼š<br><img src=\"https://img.mupaie.com/20190301100135878.png\" alt=\"cpuæœ¯è¯­å®šä¹‰\"><br>çŸ¥é“cpuå®šä¹‰åï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å†…å­˜å’Œcpuæ˜¯æ€ä¹ˆäº¤äº’çš„ï¼Œç”±äºå†…å­˜å¤„ç†é€Ÿåº¦å’Œcpuçš„å¤„ç†é€Ÿåº¦å·®è·å¤ªå¤§ï¼Œä¸ºäº†å¹³è¡¡ä¸¤è€…ä¹‹é—´çš„å·®è·å¼•å…¥äº†cpu<br>ç¼“å­˜å¦‚ä¸‹å›¾ï¼š<br><img src=\"https://img.mupaie.com/20190301101210752.png\" alt=\"cpuå’Œå†…å­˜çš„äº¤äº’\"><br>çŸ¥é“å†…å­˜å’Œcpuçš„äº¤äº’åï¼Œæˆ‘ä»¬æ¥è§£å†³ä¸€ä¸ªé—®é¢˜ â€“ volatile å…³é”®å­—æ˜¯å¦‚ä½•å®ç°å˜é‡å¯è§æ€§çš„å‘¢ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€æ®µä»£ç æ¥å±•ç¤ºå¦‚ä½•å®ç°å¯è§æ€§çš„ï¼š<br>Java ä»£ç å¦‚ä¸‹ï¼š<br>object = new Singleton(); // object æ˜¯ volatile ä¿®é¥°çš„å˜é‡<br>è½¬å˜æˆæ±‡ç¼–ä»£ç ï¼š<br> <img src=\"https://img.mupaie.com/20190301100533374.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br> æˆ‘ä»¬å‘ç°é€šè¿‡volatile ä¿®é¥°çš„å˜é‡è¿›è¡Œå†™æ“ä½œçš„æ—¶å€™ä¼šå¤šå‡ºä¸€æ®µLock å‰ç¼€æŒ‡ä»¤ï¼Œè¿™æ®µæŒ‡ä»¤çš„ç”¨é€”ä¸»è¦æœ‰ä¸¤ç‚¹ï¼š</p>\n<ol>\n<li>å°†å½“å‰çš„å¤„ç†å™¨ç¼“å­˜è¡Œå†™ä¼šç³»ç»Ÿå†…å­˜</li>\n<li>è¿™ä¸ªå†™å›æ“ä½œä½¿å…¶ä»–cpué‡Œé¢ç¼“å­˜è¯¥å€¼çš„å†…å­˜åœ°å€æ•°æ®å®æ•ˆã€‚<br>æˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹å®ç°è¿‡ç¨‹ï¼ŒLockå‰ç¼€æŒ‡ä»¤åœ¨æ‰§è¡ŒæœŸé—´ä¼šç»™å¤„ç†å™¨å‘é€ä¸€ä¸ªLOCK#ä¿¡å·ï¼Œå¤„ç†å™¨æ”¶åˆ°ä¿¡å·åä¼šé”ä½cpuç¼“å­˜å¹¶å°†å˜é‡å†™å…¥ä¸»å†…å­˜ä¸­ã€‚ç”±äºå¤„ç†å™¨ä½¿ç”¨å—…æ¢æŠ€æœ¯ç¡®ä¿å®ƒå†…å­˜ç¼“å­˜ï¼Œç³»ç»Ÿå†…å­˜å’Œå…¶ä»–å¤„ç†å™¨çš„ç¼“å­˜çš„æ•°æ®åœ¨æ€»çº¿ä¸Šä¿æŒä¸€è‡´ã€‚å¦‚æœå—…æ¢åˆ°æœ‰ä¸€ä¸ªå¤„ç†å™¨æ¥æ£€æµ‹å…¶ä»–å¤„ç†å™¨æ‰“ç®—å†™å…¥å†…å­˜åœ°å€ï¼Œè€Œè¿™ä¸ªåœ°å€æ˜¯å¤„äºå…±äº«çŠ¶æ€çš„ï¼Œé‚£ä¹ˆæ­£åœ¨å—…æ¢çš„å¤„ç†å™¨ä¸­ç¼“å­˜çš„å†…å­˜åœ°å€å°†å˜æˆæ— æ•ˆï¼Œä¸‹æ¬¡è®¿é—®çš„æ—¶å€™ç›´æ¥è¯»å–ä¸»å­˜ä¸­çš„å†…å­˜åœ°å€ã€‚<h1 id=\"3-volatile-èƒ½å®ç°å¯è§æ€§ï¼Œä½†ä¸èƒ½ä¿è¯åŸå­æ€§\"><a href=\"#3-volatile-èƒ½å®ç°å¯è§æ€§ï¼Œä½†ä¸èƒ½ä¿è¯åŸå­æ€§\" class=\"headerlink\" title=\"3. volatile èƒ½å®ç°å¯è§æ€§ï¼Œä½†ä¸èƒ½ä¿è¯åŸå­æ€§\"></a>3. volatile èƒ½å®ç°å¯è§æ€§ï¼Œä½†ä¸èƒ½ä¿è¯åŸå­æ€§</h1>è™½ç„¶volatileå…³é”®å­—èƒ½ä¿è¯ä»ä¸»å†…å­˜ä¸­ç›´æ¥è·å–è¢«volatileä¿®é¥°çš„å˜é‡ï¼Œä¹Ÿèƒ½ç›´æ¥æŠŠvolatileä¿®é¥°çš„å˜é‡å†™å…¥ä¸»å†…å­˜ä¸­ï¼Œä½†æ˜¯è¿™æ ·ä¹Ÿä¸èƒ½ä¿è¯åŸå­æ€§ã€‚åœ¨å¤šcpuçš„æƒ…å†µä¸‹ï¼Œè¿˜æ˜¯ä¼šå‡ºç°çº¿ç¨‹ä¸å®‰å…¨æƒ…å†µï¼Œæ¯”å¦‚ï¼šåœ¨å¤šçº¿ç¨‹ä¸‹ï¼Œå¤šä¸ªçº¿ç¨‹æ­£åœ¨å†™å…¥ä¸€ä¸ªvolatileå˜é‡ï¼Œå¹¶æ­£ç¡®çš„å°†å€¼å†™å…¥ä¸»å†…å­˜ä¸­ï¼Œå¦‚æœæ–°å†™å…¥çš„å€¼ä¸æ˜¯æ ¹æ®ä¹‹å‰çš„å€¼è®¡ç®—å¾—åˆ°çš„ï¼Œé‚£ä¹ˆå°±ä¸èƒ½ä¿è¯æ•°æ®åŸå­æ€§äº†ã€‚<br>é™¤äº†ä¸Šè¿°å†™äº†è¿˜æœ‰ä¸€ç§æƒ…å†µï¼š<br>åœ¨å¤šçº¿ç¨‹ä¸­ï¼Œé€’å¢ä¸€ä¸ªvolatileå˜é‡counterï¼Œé€šè¿‡volatileä¸è¶³å¤Ÿè§£å†³é—®é¢˜ï¼Œä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥è§£é‡Šï¼š<br>ä½ æƒ³è±¡ä¸€ä¸‹å¦‚æœçº¿ç¨‹1è¯»å–å€¼ä¸º0çš„å˜é‡counterå°†ä»–å†™å…¥cpuç¼“å­˜ä¸­ï¼Œé€’å¢è¿™ä¸ªå˜é‡counterå°†å®ƒå˜æˆ1ï¼Œæ²¡æœ‰å°†ä¿®æ”¹çš„å€¼å†™å…¥ä¸»å†…å­˜ä¸­ã€‚çº¿ç¨‹2ä¹Ÿèƒ½ä»ä¸»å†…å­˜ä¸­è¯»å–åˆ°ç›¸åŒçš„å˜é‡counterï¼Œä½†æ˜¯è¿™ä¸ªå˜é‡counterè¿˜æ˜¯0ï¼Œç„¶åå°†å˜é‡counterå†™å…¥cpuçš„ç¼“å­˜ä¸­ï¼Œçº¿ç¨‹2ä¹Ÿé€’å¢äº†è¿™ä¸ªå˜é‡counterä¸º1ï¼Œæ²¡æœ‰å°†å€¼å†™å…¥ä¸»å†…å­˜ä¸­ï¼Œè¿™ç§æƒ…å†µå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src=\"https://img.mupaie.com/20190301144702874.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>çº¿ç¨‹1å’Œçº¿ç¨‹2ç°åœ¨ä¸æ˜¯åŒæ­¥çš„ã€‚ä¸Šè¿°ç»“æœåŸæœ¬åº”è¯¥æ˜¯2ï¼Œä½†æ˜¯å› ä¸ºä¸¤ä¸ªçº¿ç¨‹éƒ½æ²¡æœ‰æŠŠå˜é‡counterå†™å…¥ä¸»å†…å­˜ï¼Œå¯¼è‡´ä¸»å†…å­˜çš„å˜é‡counterè¿˜æ˜¯0ï¼Œå³ä½¿æœ€ç»ˆçº¿ç¨‹1å’Œ2å°†å˜é‡counterå†™å…¥ä¸»å†…å­˜ä¹Ÿæ˜¯é”™è¯¯çš„ã€‚<h1 id=\"4-æ€ä¹ˆä¿è¯volatileåŸå­æ€§å‘¢ï¼Ÿ\"><a href=\"#4-æ€ä¹ˆä¿è¯volatileåŸå­æ€§å‘¢ï¼Ÿ\" class=\"headerlink\" title=\"4. æ€ä¹ˆä¿è¯volatileåŸå­æ€§å‘¢ï¼Ÿ\"></a>4. æ€ä¹ˆä¿è¯volatileåŸå­æ€§å‘¢ï¼Ÿ</h1>å¦‚æœä¸¤ä¸ªä»¥ä¸Šçš„çº¿ç¨‹å¯¹å…±äº«å˜é‡è¯»å†™æ“ä½œï¼Œä½¿ç”¨volatileå¹¶ä¸èƒ½è§£å†³é—®é¢˜ã€‚ä½ éœ€è¦ä½¿ç”¨ synchronized æ¥ç¡®ä¿å¯¹å˜é‡è¯»å†™æ“ä½œä½¿åŸå­æ€§çš„ã€‚ä¸æ­¢å¯ä»¥é€šè¿‡synchronizedé”è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ java.util.concurrent package ä¸‹çš„ä¸€äº›åŸå­æ•°æ®ï¼Œæ¯”å¦‚ AtomicLongï¼ŒAtomicReference è¿˜æœ‰å…¶ä»–ä¸€äº›ã€‚volatileå…³é”®å­—èƒ½ä¿è¯åœ¨32å’Œ64ä½çš„å˜é‡è¿è¡Œã€‚</li>\n</ol>\n<h1 id=\"5-volatile-æ€§èƒ½è€ƒè™‘\"><a href=\"#5-volatile-æ€§èƒ½è€ƒè™‘\" class=\"headerlink\" title=\"5. volatile æ€§èƒ½è€ƒè™‘\"></a>5. volatile æ€§èƒ½è€ƒè™‘</h1><p>è¯»å–å’Œå†™å…¥volatileå˜é‡ä¼šå¯¼è‡´å˜é‡è¢«è¯»å–æˆ–å†™å…¥ä¸»å­˜å‚¨å™¨ã€‚è¯»å–å’Œå†™å…¥ä¸»å†…å­˜æ¯”è®¿é—®CPUç¼“å­˜æ›´æ˜‚è´µã€‚è®¿é—®volatileå˜é‡ä¹Ÿä¼šé˜»æ­¢æŒ‡ä»¤é‡æ–°æ’åºï¼Œè¿™æ˜¯ä¸€ç§æ­£å¸¸çš„æ€§èƒ½å¢å¼ºæŠ€æœ¯ã€‚å› æ­¤ï¼Œå½“æ‚¨ç¡®å®éœ€è¦å¼ºåˆ¶å®æ–½å˜é‡å¯è§æ€§æ—¶ï¼Œåº”è¯¥åªä½¿ç”¨volatileå˜é‡ã€‚</p>\n<h1 id=\"6-æ€»ç»“\"><a href=\"#6-æ€»ç»“\" class=\"headerlink\" title=\"6. æ€»ç»“\"></a>6. æ€»ç»“</h1><p>ä¸»è¦è®²äº†ä¸€äº› volatile çš„åº•å±‚å®ç°å’Œå¦‚ä½•ä¿è¯volatileåŸå­æ€§ï¼Œæœ€åè®²äº†ä¸€ä¸‹ éœ€è¦è€ƒè™‘ä¸€äº› volatile æ€§èƒ½ã€‚<br>æ³¨æ„ï¼š<strong>ä½¿ç”¨ volatile ä¿®é¥°çš„å˜é‡é¿å…è¯¥å˜é‡è®¡ç®—éœ€è¦ä¾èµ–ä¹‹å‰çš„å€¼ã€‚</strong></p>\n<p>å‚è€ƒæ–‡æ¡£ï¼š<br><a href=\"http://tutorials.jenkov.com/java-concurrency/volatile.html\" target=\"_blank\" rel=\"noopener\">Java Volatile Keyword</a><br><a href=\"https://www.infoq.cn/article/ftf-java-volatile\" target=\"_blank\" rel=\"noopener\">èŠèŠå¹¶å‘ï¼ˆä¸€ï¼‰â€”â€”æ·±å…¥åˆ†æ Volatile çš„å®ç°åŸç†</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"1-ä¸ºå•¥è¦ä½¿ç”¨Volatileï¼Ÿ\"><a href=\"#1-ä¸ºå•¥è¦ä½¿ç”¨Volatileï¼Ÿ\" class=\"headerlink\" title=\"1.    ä¸ºå•¥è¦ä½¿ç”¨Volatileï¼Ÿ\"></a>1.    ä¸ºå•¥è¦ä½¿ç”¨Volatileï¼Ÿ</h1><p>é€šå¸¸æˆ‘ä»¬åœ¨Javaä¸­ç»™å˜é‡åŠ ä¸ŠVolatileä¿®é¥°ï¼Œä¸»è¦ç”¨é€”æ˜¯ä½¿è¯¥å˜é‡å…·æœ‰å¯è§æ€§ã€‚å› ä¸ºåœ¨å¤šçº¿ç¨‹çš„æ“ä½œä¸­ï¼Œç”±äºæ¯ä¸ªçº¿ç¨‹å†…éƒ¨éƒ½ä¼šå¼€è¾Ÿä¸€ä¸ªå†…å­˜ç©ºé—´ï¼Œå¦‚æœæƒ³è®©æ¯ä¸ªç©ºé—´éƒ½å¯è§è¯¥å˜é‡åˆ™éœ€è¦ç»™è¿™ä¸ªå˜é‡åŠ åœ¨Volatileä¿®é¥°ï¼Œä½¿å˜é‡å˜æˆå…±äº«å˜é‡ã€‚å®ƒä¹Ÿèƒ½é¿å… jvm æŒ‡ä»¤é‡æ’ã€‚</p>\n<h1 id=\"2-Volatile-å®ç°åŸç†ï¼Ÿ\"><a href=\"#2-Volatile-å®ç°åŸç†ï¼Ÿ\" class=\"headerlink\" title=\"2. Volatile å®ç°åŸç†ï¼Ÿ\"></a>2. Volatile å®ç°åŸç†ï¼Ÿ</h1><p>åœ¨äº†è§£volatileåŸç†ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹cpuå’Œä¸»å­˜ï¼Œå…³äºcpuçš„å®šä¹‰å¦‚ä¸‹å›¾ï¼š<br><img src=\"https://img.mupaie.com/20190301100135878.png\" alt=\"cpuæœ¯è¯­å®šä¹‰\"><br>çŸ¥é“cpuå®šä¹‰åï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å†…å­˜å’Œcpuæ˜¯æ€ä¹ˆäº¤äº’çš„ï¼Œç”±äºå†…å­˜å¤„ç†é€Ÿåº¦å’Œcpuçš„å¤„ç†é€Ÿåº¦å·®è·å¤ªå¤§ï¼Œä¸ºäº†å¹³è¡¡ä¸¤è€…ä¹‹é—´çš„å·®è·å¼•å…¥äº†cpu<br>ç¼“å­˜å¦‚ä¸‹å›¾ï¼š<br><img src=\"https://img.mupaie.com/20190301101210752.png\" alt=\"cpuå’Œå†…å­˜çš„äº¤äº’\"><br>çŸ¥é“å†…å­˜å’Œcpuçš„äº¤äº’åï¼Œæˆ‘ä»¬æ¥è§£å†³ä¸€ä¸ªé—®é¢˜ â€“ volatile å…³é”®å­—æ˜¯å¦‚ä½•å®ç°å˜é‡å¯è§æ€§çš„å‘¢ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€æ®µä»£ç æ¥å±•ç¤ºå¦‚ä½•å®ç°å¯è§æ€§çš„ï¼š<br>Java ä»£ç å¦‚ä¸‹ï¼š<br>object = new Singleton(); // object æ˜¯ volatile ä¿®é¥°çš„å˜é‡<br>è½¬å˜æˆæ±‡ç¼–ä»£ç ï¼š<br> <img src=\"https://img.mupaie.com/20190301100533374.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br> æˆ‘ä»¬å‘ç°é€šè¿‡volatile ä¿®é¥°çš„å˜é‡è¿›è¡Œå†™æ“ä½œçš„æ—¶å€™ä¼šå¤šå‡ºä¸€æ®µLock å‰ç¼€æŒ‡ä»¤ï¼Œè¿™æ®µæŒ‡ä»¤çš„ç”¨é€”ä¸»è¦æœ‰ä¸¤ç‚¹ï¼š</p>\n<ol>\n<li>å°†å½“å‰çš„å¤„ç†å™¨ç¼“å­˜è¡Œå†™ä¼šç³»ç»Ÿå†…å­˜</li>\n<li>è¿™ä¸ªå†™å›æ“ä½œä½¿å…¶ä»–cpué‡Œé¢ç¼“å­˜è¯¥å€¼çš„å†…å­˜åœ°å€æ•°æ®å®æ•ˆã€‚<br>æˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹å®ç°è¿‡ç¨‹ï¼ŒLockå‰ç¼€æŒ‡ä»¤åœ¨æ‰§è¡ŒæœŸé—´ä¼šç»™å¤„ç†å™¨å‘é€ä¸€ä¸ªLOCK#ä¿¡å·ï¼Œå¤„ç†å™¨æ”¶åˆ°ä¿¡å·åä¼šé”ä½cpuç¼“å­˜å¹¶å°†å˜é‡å†™å…¥ä¸»å†…å­˜ä¸­ã€‚ç”±äºå¤„ç†å™¨ä½¿ç”¨å—…æ¢æŠ€æœ¯ç¡®ä¿å®ƒå†…å­˜ç¼“å­˜ï¼Œç³»ç»Ÿå†…å­˜å’Œå…¶ä»–å¤„ç†å™¨çš„ç¼“å­˜çš„æ•°æ®åœ¨æ€»çº¿ä¸Šä¿æŒä¸€è‡´ã€‚å¦‚æœå—…æ¢åˆ°æœ‰ä¸€ä¸ªå¤„ç†å™¨æ¥æ£€æµ‹å…¶ä»–å¤„ç†å™¨æ‰“ç®—å†™å…¥å†…å­˜åœ°å€ï¼Œè€Œè¿™ä¸ªåœ°å€æ˜¯å¤„äºå…±äº«çŠ¶æ€çš„ï¼Œé‚£ä¹ˆæ­£åœ¨å—…æ¢çš„å¤„ç†å™¨ä¸­ç¼“å­˜çš„å†…å­˜åœ°å€å°†å˜æˆæ— æ•ˆï¼Œä¸‹æ¬¡è®¿é—®çš„æ—¶å€™ç›´æ¥è¯»å–ä¸»å­˜ä¸­çš„å†…å­˜åœ°å€ã€‚<h1 id=\"3-volatile-èƒ½å®ç°å¯è§æ€§ï¼Œä½†ä¸èƒ½ä¿è¯åŸå­æ€§\"><a href=\"#3-volatile-èƒ½å®ç°å¯è§æ€§ï¼Œä½†ä¸èƒ½ä¿è¯åŸå­æ€§\" class=\"headerlink\" title=\"3. volatile èƒ½å®ç°å¯è§æ€§ï¼Œä½†ä¸èƒ½ä¿è¯åŸå­æ€§\"></a>3. volatile èƒ½å®ç°å¯è§æ€§ï¼Œä½†ä¸èƒ½ä¿è¯åŸå­æ€§</h1>è™½ç„¶volatileå…³é”®å­—èƒ½ä¿è¯ä»ä¸»å†…å­˜ä¸­ç›´æ¥è·å–è¢«volatileä¿®é¥°çš„å˜é‡ï¼Œä¹Ÿèƒ½ç›´æ¥æŠŠvolatileä¿®é¥°çš„å˜é‡å†™å…¥ä¸»å†…å­˜ä¸­ï¼Œä½†æ˜¯è¿™æ ·ä¹Ÿä¸èƒ½ä¿è¯åŸå­æ€§ã€‚åœ¨å¤šcpuçš„æƒ…å†µä¸‹ï¼Œè¿˜æ˜¯ä¼šå‡ºç°çº¿ç¨‹ä¸å®‰å…¨æƒ…å†µï¼Œæ¯”å¦‚ï¼šåœ¨å¤šçº¿ç¨‹ä¸‹ï¼Œå¤šä¸ªçº¿ç¨‹æ­£åœ¨å†™å…¥ä¸€ä¸ªvolatileå˜é‡ï¼Œå¹¶æ­£ç¡®çš„å°†å€¼å†™å…¥ä¸»å†…å­˜ä¸­ï¼Œå¦‚æœæ–°å†™å…¥çš„å€¼ä¸æ˜¯æ ¹æ®ä¹‹å‰çš„å€¼è®¡ç®—å¾—åˆ°çš„ï¼Œé‚£ä¹ˆå°±ä¸èƒ½ä¿è¯æ•°æ®åŸå­æ€§äº†ã€‚<br>é™¤äº†ä¸Šè¿°å†™äº†è¿˜æœ‰ä¸€ç§æƒ…å†µï¼š<br>åœ¨å¤šçº¿ç¨‹ä¸­ï¼Œé€’å¢ä¸€ä¸ªvolatileå˜é‡counterï¼Œé€šè¿‡volatileä¸è¶³å¤Ÿè§£å†³é—®é¢˜ï¼Œä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥è§£é‡Šï¼š<br>ä½ æƒ³è±¡ä¸€ä¸‹å¦‚æœçº¿ç¨‹1è¯»å–å€¼ä¸º0çš„å˜é‡counterå°†ä»–å†™å…¥cpuç¼“å­˜ä¸­ï¼Œé€’å¢è¿™ä¸ªå˜é‡counterå°†å®ƒå˜æˆ1ï¼Œæ²¡æœ‰å°†ä¿®æ”¹çš„å€¼å†™å…¥ä¸»å†…å­˜ä¸­ã€‚çº¿ç¨‹2ä¹Ÿèƒ½ä»ä¸»å†…å­˜ä¸­è¯»å–åˆ°ç›¸åŒçš„å˜é‡counterï¼Œä½†æ˜¯è¿™ä¸ªå˜é‡counterè¿˜æ˜¯0ï¼Œç„¶åå°†å˜é‡counterå†™å…¥cpuçš„ç¼“å­˜ä¸­ï¼Œçº¿ç¨‹2ä¹Ÿé€’å¢äº†è¿™ä¸ªå˜é‡counterä¸º1ï¼Œæ²¡æœ‰å°†å€¼å†™å…¥ä¸»å†…å­˜ä¸­ï¼Œè¿™ç§æƒ…å†µå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src=\"https://img.mupaie.com/20190301144702874.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>çº¿ç¨‹1å’Œçº¿ç¨‹2ç°åœ¨ä¸æ˜¯åŒæ­¥çš„ã€‚ä¸Šè¿°ç»“æœåŸæœ¬åº”è¯¥æ˜¯2ï¼Œä½†æ˜¯å› ä¸ºä¸¤ä¸ªçº¿ç¨‹éƒ½æ²¡æœ‰æŠŠå˜é‡counterå†™å…¥ä¸»å†…å­˜ï¼Œå¯¼è‡´ä¸»å†…å­˜çš„å˜é‡counterè¿˜æ˜¯0ï¼Œå³ä½¿æœ€ç»ˆçº¿ç¨‹1å’Œ2å°†å˜é‡counterå†™å…¥ä¸»å†…å­˜ä¹Ÿæ˜¯é”™è¯¯çš„ã€‚<h1 id=\"4-æ€ä¹ˆä¿è¯volatileåŸå­æ€§å‘¢ï¼Ÿ\"><a href=\"#4-æ€ä¹ˆä¿è¯volatileåŸå­æ€§å‘¢ï¼Ÿ\" class=\"headerlink\" title=\"4. æ€ä¹ˆä¿è¯volatileåŸå­æ€§å‘¢ï¼Ÿ\"></a>4. æ€ä¹ˆä¿è¯volatileåŸå­æ€§å‘¢ï¼Ÿ</h1>å¦‚æœä¸¤ä¸ªä»¥ä¸Šçš„çº¿ç¨‹å¯¹å…±äº«å˜é‡è¯»å†™æ“ä½œï¼Œä½¿ç”¨volatileå¹¶ä¸èƒ½è§£å†³é—®é¢˜ã€‚ä½ éœ€è¦ä½¿ç”¨ synchronized æ¥ç¡®ä¿å¯¹å˜é‡è¯»å†™æ“ä½œä½¿åŸå­æ€§çš„ã€‚ä¸æ­¢å¯ä»¥é€šè¿‡synchronizedé”è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ java.util.concurrent package ä¸‹çš„ä¸€äº›åŸå­æ•°æ®ï¼Œæ¯”å¦‚ AtomicLongï¼ŒAtomicReference è¿˜æœ‰å…¶ä»–ä¸€äº›ã€‚volatileå…³é”®å­—èƒ½ä¿è¯åœ¨32å’Œ64ä½çš„å˜é‡è¿è¡Œã€‚</li>\n</ol>\n<h1 id=\"5-volatile-æ€§èƒ½è€ƒè™‘\"><a href=\"#5-volatile-æ€§èƒ½è€ƒè™‘\" class=\"headerlink\" title=\"5. volatile æ€§èƒ½è€ƒè™‘\"></a>5. volatile æ€§èƒ½è€ƒè™‘</h1><p>è¯»å–å’Œå†™å…¥volatileå˜é‡ä¼šå¯¼è‡´å˜é‡è¢«è¯»å–æˆ–å†™å…¥ä¸»å­˜å‚¨å™¨ã€‚è¯»å–å’Œå†™å…¥ä¸»å†…å­˜æ¯”è®¿é—®CPUç¼“å­˜æ›´æ˜‚è´µã€‚è®¿é—®volatileå˜é‡ä¹Ÿä¼šé˜»æ­¢æŒ‡ä»¤é‡æ–°æ’åºï¼Œè¿™æ˜¯ä¸€ç§æ­£å¸¸çš„æ€§èƒ½å¢å¼ºæŠ€æœ¯ã€‚å› æ­¤ï¼Œå½“æ‚¨ç¡®å®éœ€è¦å¼ºåˆ¶å®æ–½å˜é‡å¯è§æ€§æ—¶ï¼Œåº”è¯¥åªä½¿ç”¨volatileå˜é‡ã€‚</p>\n<h1 id=\"6-æ€»ç»“\"><a href=\"#6-æ€»ç»“\" class=\"headerlink\" title=\"6. æ€»ç»“\"></a>6. æ€»ç»“</h1><p>ä¸»è¦è®²äº†ä¸€äº› volatile çš„åº•å±‚å®ç°å’Œå¦‚ä½•ä¿è¯volatileåŸå­æ€§ï¼Œæœ€åè®²äº†ä¸€ä¸‹ éœ€è¦è€ƒè™‘ä¸€äº› volatile æ€§èƒ½ã€‚<br>æ³¨æ„ï¼š<strong>ä½¿ç”¨ volatile ä¿®é¥°çš„å˜é‡é¿å…è¯¥å˜é‡è®¡ç®—éœ€è¦ä¾èµ–ä¹‹å‰çš„å€¼ã€‚</strong></p>\n<p>å‚è€ƒæ–‡æ¡£ï¼š<br><a href=\"http://tutorials.jenkov.com/java-concurrency/volatile.html\" target=\"_blank\" rel=\"noopener\">Java Volatile Keyword</a><br><a href=\"https://www.infoq.cn/article/ftf-java-volatile\" target=\"_blank\" rel=\"noopener\">èŠèŠå¹¶å‘ï¼ˆä¸€ï¼‰â€”â€”æ·±å…¥åˆ†æ Volatile çš„å®ç°åŸç†</a></p>\n"},{"title":"spring mvc @RequestBody å’Œ @RequestParam æ¯”è¾ƒ","date":"2019-02-19T10:03:23.000Z","_content":"1ï¼š @RequestBody\n\n    @RequestBodyÂ æ³¨è§£ é€šè¿‡Â HttpMessageReaderÂ ä½¿è¯·æ±‚çš„bodyååºåˆ—åŒ–æˆä¸€ä¸ªå¯¹è±¡ã€‚\n    \n    GETã€POSTæ–¹å¼æäº¤æ—¶ï¼Œ æ ¹æ® request header Content-Type çš„å€¼æ¥åˆ¤æ–­:\n    \n    application/x-www-form-urlencodedï¼Œ å¯é€‰ï¼ˆå³éå¿…é¡»ï¼Œå› ä¸ºè¿™ç§æƒ…å†µçš„æ•°æ®@RequestParam, @ModelAttributeä¹Ÿå¯ä»¥å¤„ç†ï¼Œå½“ç„¶@RequestBodyä¹Ÿèƒ½å¤„ç†ï¼‰ï¼›\n    multipart/form-data, ä¸èƒ½å¤„ç†ï¼ˆå³ä½¿ç”¨@RequestBodyä¸èƒ½å¤„ç†è¿™ç§æ ¼å¼çš„æ•°æ®ï¼‰ï¼›\n    å…¶ä»–æ ¼å¼ï¼Œ å¿…é¡»ï¼ˆå…¶ä»–æ ¼å¼åŒ…æ‹¬application/json, application/xmlç­‰ã€‚è¿™äº›æ ¼å¼çš„æ•°æ®ï¼Œä½¿ç”¨@RequestBodyæ¥å¤„ç†ï¼‰ï¼›\n    $.ajax({\n        type: \"POST\",\n        url: \"/coupon/del\",\n        dataType : 'json',\n        contentType : 'application/json;charset=UTF-8', // è®¾ç½®è¯·æ±‚çš„æ–‡æœ¬ç±»å‹\n        data: JSON.stringify(ids),\n        success: function (result) {\n            layer.msg(result.msg)\n        }\n    });\n    æ§åˆ¶å±‚æ¥æ”¶\n    \n    public JSONObject del(@RequestBody String[] cids){\n           RecordBean<String> result = couponService.delBatch(cids);\n       if (result.isSuccessCode()) {\n          return JsonBean.success(result.getMsg());\n       }\n       return JsonBean.error(result.getMsg());\n2ï¼š@RequestParam\n\n    @RequestParamÂ \n    \n    Aï¼‰ å¸¸ç”¨æ¥å¤„ç†ç®€å•ç±»å‹çš„ç»‘å®šï¼Œé€šè¿‡Request.getParameter() è·å–çš„Stringå¯ç›´æ¥è½¬æ¢ä¸ºç®€å•ç±»å‹çš„æƒ…å†µï¼ˆ String--> ç®€å•ç±»å‹çš„è½¬æ¢æ“ä½œç”±ConversionServiceé…ç½®çš„è½¬æ¢å™¨æ¥å®Œæˆï¼‰ï¼›å› ä¸ºä½¿ç”¨request.getParameter()æ–¹å¼è·å–å‚æ•°ï¼Œæ‰€ä»¥å¯ä»¥å¤„ç†get æ–¹å¼ä¸­queryStringçš„å€¼ï¼Œä¹Ÿå¯ä»¥å¤„ç†postæ–¹å¼ä¸­ body dataçš„å€¼ï¼›\n    \n    Bï¼‰ç”¨æ¥å¤„ç†Content-Type: ä¸ºÂ application/x-www-form-urlencodedç¼–ç çš„å†…å®¹ï¼Œæäº¤æ–¹å¼GETã€POSTï¼›\n    \n    C) è¯¥æ³¨è§£æœ‰ä¸¤ä¸ªå±æ€§ï¼š nameã€requiredï¼›Â \n    \n    nameï¼šç”¨æ¥æŒ‡å®šè¦ä¼ å…¥å€¼çš„keyåç§°\n    \n    requiredï¼šç”¨æ¥æŒ‡ç¤ºå‚æ•°æ˜¯å¦å¿…é¡»ç»‘å®šï¼›å½“@RequestParam è¢«å£°æ˜æ˜¯Map<String, String>Â orÂ MultiValueMap<String, String>Â required ä¸ºfalse\n    \n    ç›¸æ¯”Â Request.getParameter() è·å– ä¼˜ç‚¹ï¼š\n    \n    é€šè¿‡æ³¨è§£çš„æ–¹å¼å¯ä»¥å‡å°‘ä»£ç é‡ï¼Œä»£ç æ›´æ•´æ´\n    \n    ç¤ºä¾‹ä»£ç ï¼š\n    \n    $.ajax({\n        type: \"POST\",\n        url: \"/coupon/del\",\n        data: {ids:123},\n        success: function (result) {\n            layer.msg(result.msg)\n        }\n    });\n    æ§åˆ¶å±‚\n    \n    \n    Â \n     * åˆ é™¤\n        */\n       @ResponseBody\n       @RequestMapping(\"/dels\")\n       public JSONObject dels(@RequestParam(name = \"ids\") Integer cids){\n          System.out.println(cids);\n          return JsonBean.success(\"ok\",cids);\n       }\n3:@ModelAttribute æ³¨è§£è·å–å‚æ•°\n\n    /**\n        * åˆ é™¤\n        */\n       @RequestMapping(\"/coupon\")\n       @ResponseBody\n    // @RequiresPermissions(\"coupon:del\")\n       public JSONObject coupon(@ModelAttribute Coupon coupon){\n      return JsonBean.success(\"\",coupon);\n\n","source":"_posts/spring-mvc-RequestBody-å’Œ-RequestParam-æ¯”è¾ƒ.md","raw":"---\ntitle: spring mvc @RequestBody å’Œ @RequestParam æ¯”è¾ƒ\ndate: 2019-02-19 18:03:23\ntags:\n---\n1ï¼š @RequestBody\n\n    @RequestBodyÂ æ³¨è§£ é€šè¿‡Â HttpMessageReaderÂ ä½¿è¯·æ±‚çš„bodyååºåˆ—åŒ–æˆä¸€ä¸ªå¯¹è±¡ã€‚\n    \n    GETã€POSTæ–¹å¼æäº¤æ—¶ï¼Œ æ ¹æ® request header Content-Type çš„å€¼æ¥åˆ¤æ–­:\n    \n    application/x-www-form-urlencodedï¼Œ å¯é€‰ï¼ˆå³éå¿…é¡»ï¼Œå› ä¸ºè¿™ç§æƒ…å†µçš„æ•°æ®@RequestParam, @ModelAttributeä¹Ÿå¯ä»¥å¤„ç†ï¼Œå½“ç„¶@RequestBodyä¹Ÿèƒ½å¤„ç†ï¼‰ï¼›\n    multipart/form-data, ä¸èƒ½å¤„ç†ï¼ˆå³ä½¿ç”¨@RequestBodyä¸èƒ½å¤„ç†è¿™ç§æ ¼å¼çš„æ•°æ®ï¼‰ï¼›\n    å…¶ä»–æ ¼å¼ï¼Œ å¿…é¡»ï¼ˆå…¶ä»–æ ¼å¼åŒ…æ‹¬application/json, application/xmlç­‰ã€‚è¿™äº›æ ¼å¼çš„æ•°æ®ï¼Œä½¿ç”¨@RequestBodyæ¥å¤„ç†ï¼‰ï¼›\n    $.ajax({\n        type: \"POST\",\n        url: \"/coupon/del\",\n        dataType : 'json',\n        contentType : 'application/json;charset=UTF-8', // è®¾ç½®è¯·æ±‚çš„æ–‡æœ¬ç±»å‹\n        data: JSON.stringify(ids),\n        success: function (result) {\n            layer.msg(result.msg)\n        }\n    });\n    æ§åˆ¶å±‚æ¥æ”¶\n    \n    public JSONObject del(@RequestBody String[] cids){\n           RecordBean<String> result = couponService.delBatch(cids);\n       if (result.isSuccessCode()) {\n          return JsonBean.success(result.getMsg());\n       }\n       return JsonBean.error(result.getMsg());\n2ï¼š@RequestParam\n\n    @RequestParamÂ \n    \n    Aï¼‰ å¸¸ç”¨æ¥å¤„ç†ç®€å•ç±»å‹çš„ç»‘å®šï¼Œé€šè¿‡Request.getParameter() è·å–çš„Stringå¯ç›´æ¥è½¬æ¢ä¸ºç®€å•ç±»å‹çš„æƒ…å†µï¼ˆ String--> ç®€å•ç±»å‹çš„è½¬æ¢æ“ä½œç”±ConversionServiceé…ç½®çš„è½¬æ¢å™¨æ¥å®Œæˆï¼‰ï¼›å› ä¸ºä½¿ç”¨request.getParameter()æ–¹å¼è·å–å‚æ•°ï¼Œæ‰€ä»¥å¯ä»¥å¤„ç†get æ–¹å¼ä¸­queryStringçš„å€¼ï¼Œä¹Ÿå¯ä»¥å¤„ç†postæ–¹å¼ä¸­ body dataçš„å€¼ï¼›\n    \n    Bï¼‰ç”¨æ¥å¤„ç†Content-Type: ä¸ºÂ application/x-www-form-urlencodedç¼–ç çš„å†…å®¹ï¼Œæäº¤æ–¹å¼GETã€POSTï¼›\n    \n    C) è¯¥æ³¨è§£æœ‰ä¸¤ä¸ªå±æ€§ï¼š nameã€requiredï¼›Â \n    \n    nameï¼šç”¨æ¥æŒ‡å®šè¦ä¼ å…¥å€¼çš„keyåç§°\n    \n    requiredï¼šç”¨æ¥æŒ‡ç¤ºå‚æ•°æ˜¯å¦å¿…é¡»ç»‘å®šï¼›å½“@RequestParam è¢«å£°æ˜æ˜¯Map<String, String>Â orÂ MultiValueMap<String, String>Â required ä¸ºfalse\n    \n    ç›¸æ¯”Â Request.getParameter() è·å– ä¼˜ç‚¹ï¼š\n    \n    é€šè¿‡æ³¨è§£çš„æ–¹å¼å¯ä»¥å‡å°‘ä»£ç é‡ï¼Œä»£ç æ›´æ•´æ´\n    \n    ç¤ºä¾‹ä»£ç ï¼š\n    \n    $.ajax({\n        type: \"POST\",\n        url: \"/coupon/del\",\n        data: {ids:123},\n        success: function (result) {\n            layer.msg(result.msg)\n        }\n    });\n    æ§åˆ¶å±‚\n    \n    \n    Â \n     * åˆ é™¤\n        */\n       @ResponseBody\n       @RequestMapping(\"/dels\")\n       public JSONObject dels(@RequestParam(name = \"ids\") Integer cids){\n          System.out.println(cids);\n          return JsonBean.success(\"ok\",cids);\n       }\n3:@ModelAttribute æ³¨è§£è·å–å‚æ•°\n\n    /**\n        * åˆ é™¤\n        */\n       @RequestMapping(\"/coupon\")\n       @ResponseBody\n    // @RequiresPermissions(\"coupon:del\")\n       public JSONObject coupon(@ModelAttribute Coupon coupon){\n      return JsonBean.success(\"\",coupon);\n\n","slug":"spring-mvc-RequestBody-å’Œ-RequestParam-æ¯”è¾ƒ","published":1,"updated":"2019-07-14T03:11:26.978Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkctuw00154osx5fzjak9z","content":"<p>1ï¼š @RequestBody</p>\n<pre><code>@RequestBody æ³¨è§£ é€šè¿‡ HttpMessageReader ä½¿è¯·æ±‚çš„bodyååºåˆ—åŒ–æˆä¸€ä¸ªå¯¹è±¡ã€‚\n\nGETã€POSTæ–¹å¼æäº¤æ—¶ï¼Œ æ ¹æ® request header Content-Type çš„å€¼æ¥åˆ¤æ–­:\n\napplication/x-www-form-urlencodedï¼Œ å¯é€‰ï¼ˆå³éå¿…é¡»ï¼Œå› ä¸ºè¿™ç§æƒ…å†µçš„æ•°æ®@RequestParam, @ModelAttributeä¹Ÿå¯ä»¥å¤„ç†ï¼Œå½“ç„¶@RequestBodyä¹Ÿèƒ½å¤„ç†ï¼‰ï¼›\nmultipart/form-data, ä¸èƒ½å¤„ç†ï¼ˆå³ä½¿ç”¨@RequestBodyä¸èƒ½å¤„ç†è¿™ç§æ ¼å¼çš„æ•°æ®ï¼‰ï¼›\nå…¶ä»–æ ¼å¼ï¼Œ å¿…é¡»ï¼ˆå…¶ä»–æ ¼å¼åŒ…æ‹¬application/json, application/xmlç­‰ã€‚è¿™äº›æ ¼å¼çš„æ•°æ®ï¼Œä½¿ç”¨@RequestBodyæ¥å¤„ç†ï¼‰ï¼›\n$.ajax({\n    type: &quot;POST&quot;,\n    url: &quot;/coupon/del&quot;,\n    dataType : &apos;json&apos;,\n    contentType : &apos;application/json;charset=UTF-8&apos;, // è®¾ç½®è¯·æ±‚çš„æ–‡æœ¬ç±»å‹\n    data: JSON.stringify(ids),\n    success: function (result) {\n        layer.msg(result.msg)\n    }\n});\næ§åˆ¶å±‚æ¥æ”¶\n\npublic JSONObject del(@RequestBody String[] cids){\n       RecordBean&lt;String&gt; result = couponService.delBatch(cids);\n   if (result.isSuccessCode()) {\n      return JsonBean.success(result.getMsg());\n   }\n   return JsonBean.error(result.getMsg());\n</code></pre><p>2ï¼š@RequestParam</p>\n<pre><code>@RequestParam \n\nAï¼‰ å¸¸ç”¨æ¥å¤„ç†ç®€å•ç±»å‹çš„ç»‘å®šï¼Œé€šè¿‡Request.getParameter() è·å–çš„Stringå¯ç›´æ¥è½¬æ¢ä¸ºç®€å•ç±»å‹çš„æƒ…å†µï¼ˆ String--&gt; ç®€å•ç±»å‹çš„è½¬æ¢æ“ä½œç”±ConversionServiceé…ç½®çš„è½¬æ¢å™¨æ¥å®Œæˆï¼‰ï¼›å› ä¸ºä½¿ç”¨request.getParameter()æ–¹å¼è·å–å‚æ•°ï¼Œæ‰€ä»¥å¯ä»¥å¤„ç†get æ–¹å¼ä¸­queryStringçš„å€¼ï¼Œä¹Ÿå¯ä»¥å¤„ç†postæ–¹å¼ä¸­ body dataçš„å€¼ï¼›\n\nBï¼‰ç”¨æ¥å¤„ç†Content-Type: ä¸º application/x-www-form-urlencodedç¼–ç çš„å†…å®¹ï¼Œæäº¤æ–¹å¼GETã€POSTï¼›\n\nC) è¯¥æ³¨è§£æœ‰ä¸¤ä¸ªå±æ€§ï¼š nameã€requiredï¼› \n\nnameï¼šç”¨æ¥æŒ‡å®šè¦ä¼ å…¥å€¼çš„keyåç§°\n\nrequiredï¼šç”¨æ¥æŒ‡ç¤ºå‚æ•°æ˜¯å¦å¿…é¡»ç»‘å®šï¼›å½“@RequestParam è¢«å£°æ˜æ˜¯Map&lt;String, String&gt; or MultiValueMap&lt;String, String&gt; required ä¸ºfalse\n\nç›¸æ¯” Request.getParameter() è·å– ä¼˜ç‚¹ï¼š\n\né€šè¿‡æ³¨è§£çš„æ–¹å¼å¯ä»¥å‡å°‘ä»£ç é‡ï¼Œä»£ç æ›´æ•´æ´\n\nç¤ºä¾‹ä»£ç ï¼š\n\n$.ajax({\n    type: &quot;POST&quot;,\n    url: &quot;/coupon/del&quot;,\n    data: {ids:123},\n    success: function (result) {\n        layer.msg(result.msg)\n    }\n});\næ§åˆ¶å±‚\n\n\n\n * åˆ é™¤\n    */\n   @ResponseBody\n   @RequestMapping(&quot;/dels&quot;)\n   public JSONObject dels(@RequestParam(name = &quot;ids&quot;) Integer cids){\n      System.out.println(cids);\n      return JsonBean.success(&quot;ok&quot;,cids);\n   }\n</code></pre><p>3:@ModelAttribute æ³¨è§£è·å–å‚æ•°</p>\n<pre><code>/**\n    * åˆ é™¤\n    */\n   @RequestMapping(&quot;/coupon&quot;)\n   @ResponseBody\n// @RequiresPermissions(&quot;coupon:del&quot;)\n   public JSONObject coupon(@ModelAttribute Coupon coupon){\n  return JsonBean.success(&quot;&quot;,coupon);\n</code></pre>","site":{"data":{}},"excerpt":"","more":"<p>1ï¼š @RequestBody</p>\n<pre><code>@RequestBody æ³¨è§£ é€šè¿‡ HttpMessageReader ä½¿è¯·æ±‚çš„bodyååºåˆ—åŒ–æˆä¸€ä¸ªå¯¹è±¡ã€‚\n\nGETã€POSTæ–¹å¼æäº¤æ—¶ï¼Œ æ ¹æ® request header Content-Type çš„å€¼æ¥åˆ¤æ–­:\n\napplication/x-www-form-urlencodedï¼Œ å¯é€‰ï¼ˆå³éå¿…é¡»ï¼Œå› ä¸ºè¿™ç§æƒ…å†µçš„æ•°æ®@RequestParam, @ModelAttributeä¹Ÿå¯ä»¥å¤„ç†ï¼Œå½“ç„¶@RequestBodyä¹Ÿèƒ½å¤„ç†ï¼‰ï¼›\nmultipart/form-data, ä¸èƒ½å¤„ç†ï¼ˆå³ä½¿ç”¨@RequestBodyä¸èƒ½å¤„ç†è¿™ç§æ ¼å¼çš„æ•°æ®ï¼‰ï¼›\nå…¶ä»–æ ¼å¼ï¼Œ å¿…é¡»ï¼ˆå…¶ä»–æ ¼å¼åŒ…æ‹¬application/json, application/xmlç­‰ã€‚è¿™äº›æ ¼å¼çš„æ•°æ®ï¼Œä½¿ç”¨@RequestBodyæ¥å¤„ç†ï¼‰ï¼›\n$.ajax({\n    type: &quot;POST&quot;,\n    url: &quot;/coupon/del&quot;,\n    dataType : &apos;json&apos;,\n    contentType : &apos;application/json;charset=UTF-8&apos;, // è®¾ç½®è¯·æ±‚çš„æ–‡æœ¬ç±»å‹\n    data: JSON.stringify(ids),\n    success: function (result) {\n        layer.msg(result.msg)\n    }\n});\næ§åˆ¶å±‚æ¥æ”¶\n\npublic JSONObject del(@RequestBody String[] cids){\n       RecordBean&lt;String&gt; result = couponService.delBatch(cids);\n   if (result.isSuccessCode()) {\n      return JsonBean.success(result.getMsg());\n   }\n   return JsonBean.error(result.getMsg());\n</code></pre><p>2ï¼š@RequestParam</p>\n<pre><code>@RequestParam \n\nAï¼‰ å¸¸ç”¨æ¥å¤„ç†ç®€å•ç±»å‹çš„ç»‘å®šï¼Œé€šè¿‡Request.getParameter() è·å–çš„Stringå¯ç›´æ¥è½¬æ¢ä¸ºç®€å•ç±»å‹çš„æƒ…å†µï¼ˆ String--&gt; ç®€å•ç±»å‹çš„è½¬æ¢æ“ä½œç”±ConversionServiceé…ç½®çš„è½¬æ¢å™¨æ¥å®Œæˆï¼‰ï¼›å› ä¸ºä½¿ç”¨request.getParameter()æ–¹å¼è·å–å‚æ•°ï¼Œæ‰€ä»¥å¯ä»¥å¤„ç†get æ–¹å¼ä¸­queryStringçš„å€¼ï¼Œä¹Ÿå¯ä»¥å¤„ç†postæ–¹å¼ä¸­ body dataçš„å€¼ï¼›\n\nBï¼‰ç”¨æ¥å¤„ç†Content-Type: ä¸º application/x-www-form-urlencodedç¼–ç çš„å†…å®¹ï¼Œæäº¤æ–¹å¼GETã€POSTï¼›\n\nC) è¯¥æ³¨è§£æœ‰ä¸¤ä¸ªå±æ€§ï¼š nameã€requiredï¼› \n\nnameï¼šç”¨æ¥æŒ‡å®šè¦ä¼ å…¥å€¼çš„keyåç§°\n\nrequiredï¼šç”¨æ¥æŒ‡ç¤ºå‚æ•°æ˜¯å¦å¿…é¡»ç»‘å®šï¼›å½“@RequestParam è¢«å£°æ˜æ˜¯Map&lt;String, String&gt; or MultiValueMap&lt;String, String&gt; required ä¸ºfalse\n\nç›¸æ¯” Request.getParameter() è·å– ä¼˜ç‚¹ï¼š\n\né€šè¿‡æ³¨è§£çš„æ–¹å¼å¯ä»¥å‡å°‘ä»£ç é‡ï¼Œä»£ç æ›´æ•´æ´\n\nç¤ºä¾‹ä»£ç ï¼š\n\n$.ajax({\n    type: &quot;POST&quot;,\n    url: &quot;/coupon/del&quot;,\n    data: {ids:123},\n    success: function (result) {\n        layer.msg(result.msg)\n    }\n});\næ§åˆ¶å±‚\n\n\n\n * åˆ é™¤\n    */\n   @ResponseBody\n   @RequestMapping(&quot;/dels&quot;)\n   public JSONObject dels(@RequestParam(name = &quot;ids&quot;) Integer cids){\n      System.out.println(cids);\n      return JsonBean.success(&quot;ok&quot;,cids);\n   }\n</code></pre><p>3:@ModelAttribute æ³¨è§£è·å–å‚æ•°</p>\n<pre><code>/**\n    * åˆ é™¤\n    */\n   @RequestMapping(&quot;/coupon&quot;)\n   @ResponseBody\n// @RequiresPermissions(&quot;coupon:del&quot;)\n   public JSONObject coupon(@ModelAttribute Coupon coupon){\n  return JsonBean.success(&quot;&quot;,coupon);\n</code></pre>"},{"title":"ä½¿ç”¨iframeé‡åˆ°çš„é—®é¢˜","date":"2019-03-15T01:58:07.000Z","_content":"# 1ï¼šåœ¨iframeä¸­ä½¿ç”¨layerå¼¹æ¡†å¼•å‘çš„ä¸€äº›é—®é¢˜\n1. å¼¹æ¡†åï¼Œå‡ºç°å­çª—å£é«˜åº¦ä¸å¤Ÿï¼Œå¯¼è‡´æ˜¾ç¤ºå†…å®¹ä¸å…¨\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190227175949596.png)\n\nä½¿ç”¨iframe ä»£ç å¦‚ä¸‹ï¼š\n\n\t<div class=\"layui-tab-content\" style=\"min-height: 150px; padding: 0 0 0 0;\">\n\t\t<div class=\"layui-tab-item layui-show\">\n\t\t\t<iframe src=\"/main\" name=\"main\" scrolling=\"auto\"></iframe>\n\t\t</div>\n\t</div>\nå‡ºç°è¿™ä¸ªé—®é¢˜çš„åŸå› ä¸»è¦æ˜¯ iframe è®¾ç½®çš„é«˜åº¦æ˜¯100%ï¼Œæ²¡æœ‰è®¾ç½®å…·ä½“çš„é«˜åº¦ï¼Œå¯¼è‡´å­çª—å£æ²¡æœ‰å‚è€ƒç‰©å¯¼è‡´å…¶å³ä½¿è®¾ç½®äº†é«˜åº¦ä¹Ÿä¸èƒ½è®²çˆ¶å…ƒç´ æ’‘å¼€ã€‚å‡ºç°è¿™ç§æƒ…å†µç›®å‰æœ‰äºŒç§æ–¹å¼ï¼š\n* ç»™iframe è®¾ç½®æ ·å¼ overflow: auto;\n* é€šè¿‡ js è·å–çª—ä½“çš„é«˜åº¦ï¼Œå‡å»å¤´éƒ¨å’Œåº•éƒ¨çš„é«˜åº¦å‰©ä¸‹çš„å°±æ˜¯å†…å®¹çš„é«˜åº¦ï¼Œç„¶åç»™iframe è®¾ç½®é«˜åº¦ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š\n\n\t\t$(window).on('resize', function () {\n\t\t        let resizeTimer = null;\n\t\t        if (resizeTimer) {\n\t\t            clearTimeout(resizeTimer);\n\t\t        }\n\t\t        resizeTimer = setTimeout(function () {\n\t\t            setContentSize();\n\t\t        }, 500);\n\t\t    }).resize();\n\n\t    function setContentSize() {\n\t        var $content = $('.admin-nav-card .layui-tab-content');\n\t        $content.height($(this).height() - 147);\n\t        $content.find('iframe').each(function () {\n\t            $(this).height($content.height());\n\t            $(this).width($content.width());\n\t            $(this).contents().find(\".layui-layer-iframe\").width($content.width())\n\t        });\n\t    }\nè§£é‡Šä¸€ä¸‹ï¼Œä¸»è¦æ˜¯ç›‘å¬çª—ä½“è°ƒæ•´ï¼Œè·å–çª—ä½“çš„é«˜åº¦ï¼Œå‡å»å¤´éƒ¨å’Œåº•éƒ¨çš„é«˜åº¦å‰©ä¸‹çš„å°±æ˜¯\\$contentçš„é«˜åº¦ï¼Œç„¶åç»™iframeè®¾ç½®é«˜åº¦ï¼Œä»£ç ä¸­è¿è¡Œäº†å»¶è¿ŸåŠ è½½ï¼Œé˜²æ­¢å‡½æ•°æ‰§è¡Œè¿‡å¿«ã€‚\n\n2. é«˜åº¦è™½ç„¶è§£å†³äº†ï¼Œä½†æ˜¯åˆå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œå½“å¼¹çª—ä½¿ç”¨å…¨å±æ˜¾ç¤ºçš„æ—¶å€™ï¼Œè°ƒæ•´çª—ä½“å®½åº¦ï¼Œé‡Œé¢å†…å®¹ä¸ä¼šè·Ÿç€æ”¹å˜ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†å‡ºç°è¿™ç§æ•ˆæœï¼š\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190227184346806.png)\né‡Œé¢çš„å†…å®¹è¢«è¦†ç›–äº†ï¼Œå¯¼è‡´è¿™ä¸ªåŸå› ä¸»è¦æ˜¯é‡Œé¢iframeå’Œå¼¹çª—å†…å®¹divçš„å®½åº¦æ²¡æœ‰è·Ÿç€æ”¹å˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆè§£å†³å‘¢ï¼Œæƒ³åˆ°ä¸Šä¸€èŠ‚è®²äº†é«˜åº¦è®¾ç½®ï¼Œé‚£ä¹ˆæˆ‘ä»¬å®½åº¦ä¹Ÿè·Ÿç€è®¾ç½®å‘€ã€‚å¸¦ç€è¿™ä¸ªæƒ³æ³•ï¼Œæˆ‘è¯•ä¸€ä¸‹ä¿®æ”¹iframeçš„å®½åº¦\n\n```\n\t\tfunction setContentSize() {\n\t        var $content = $('.admin-nav-card .layui-tab-content');\n\t        $content.height($(this).height() - 147);\n\t        $content.find('iframe').each(function () {\n\t            $(this).height($content.height());\n\t            $(this).width($content.width());\n\t        });\n\t    }\n   ```\nç»“æœè¿˜æ˜¯å‡ºç°ä¸Šè¿°é‚£ä¸ªé—®é¢˜ï¼Œé‚£åˆ°åº•ä¸ºå•¥å‘¢ï¼Ÿç„¶åé€šè¿‡F12 æ¨¡å¼ è°ƒè¯•äº†ä¸€ä¸‹ï¼ŒåŸæ¥å¼¹æ¡†é‡Œé¢æœ‰ä¸€ä¸ªdivä¹Ÿè®¾ç½®äº†å®½åº¦ï¼Œé‚£æˆ‘è·Ÿiframeä¸€èµ·ä¸€å¹¶ä¿®æ”¹å‘¢?\n\n```\n\tfunction setContentSize() {\n        var $content = $('.admin-nav-card .layui-tab-content');\n        if ($(this).width > 768) {\n\n        }\n        $content.height($(this).height() - 147);\n        $content.find('iframe').each(function () {\n            $(this).height($content.height());\n            $(this).width($content.width());\n            $(this).contents().find(\".layui-layer-iframe\").width($content.width())\n        });\n    }.\n```\nå°è¯•äº†ä¸€ä¸‹æœçœŸå¯ä»¥ï¼Œç°åœ¨çœ‹æ•ˆæœï¼š\n![è°ƒæ•´çª—ä½“å‰](https://img.mupaie.com/20190227185309289.png)\n\n![è°ƒæ•´çª—ä½“å](https://img.mupaie.com/20190227185353924.png)\nè¿™æ ·ç»ˆäºç®—è§£å†³é—®é¢˜äº†ï¼Œæœ‰ä¸€ä¸ªå‰ç«¯å°ä¼™ä¼´å‘Šè¯‰æˆ‘è¿˜æœ‰ä¸€ç§æ–¹å¼ï¼Œå°±æ˜¯æ”¹å˜çª—ä½“å®½åº¦çš„æ—¶å€™ï¼Œè°ƒç”¨ä¸€ä¸ªlayer.full(index)ï¼Œindex æ˜¯åˆ›å»ºå¼¹çª—çš„ç¼–å·ã€‚è¿™ç§æ–¹å¼å¥½å¤„å°±æ˜¯å†…éƒ¨è‡ªåŠ¨æ ¹æ®çª—ä½“å®½åº¦è°ƒæ•´å¼¹çª—å®½åº¦ï¼Œä½†æ˜¯æœ‰ä¸ªé—®é¢˜æˆ‘æ€ä¹ˆå»è·å–é‚£ä¸ªindexå‘¢ï¼Ÿè¿™ä¸ªé—®é¢˜ç­‰ä»¥åè§£å†³å§ï¼Œå…ˆæ”¾æ”¾ã€‚ã€‚ã€‚\n\n# 2. æ‰‹æœºç«¯è§£å†³iframe ä¸­å†…å®¹ä¸èƒ½å·¦å³ç§»åŠ¨çš„é—®é¢˜\nç°åœ¨æ˜¯pcç«¯è§£å†³äº†é€‚é…ï¼Œä½†æ˜¯æ‰‹æœºç«¯å‘¢ï¼Œç”¨ä¸Šè¿°çš„ä»£ç æ˜¾ç¤ºçš„é¡µé¢ä¸èƒ½å·¦å³ç§»åŠ¨ã€‚è¿™ä¸‹å°±éœ€è¦Googleä¸€æŠŠäº†ï¼Œå¸¦ç€é—®é¢˜å»æœç´¢äº†ä¸€ä¸‹ç½‘ä¸Šå¤§ä½¬è¯´ï¼šå…ˆç»™iframe å¥—ä¸€ä¸ªdiv ç„¶åç»™divè®¾ç½®æ ·å¼\n\n```\n@media screen and (max-width: 768px) {\n\t/* ä¸»ä½“å®¹å™¨ */\n    .admin-nav-card .layui-tab-item {\n        -webkit-overflow-scrolling: touch;\n        overflow: auto;\n    }\n }\n ```\nç»“æœè¯•äº†ä¸€æ¬¡æœçœŸå¯ä»¥å®ç°ï¼Œä½†æ˜¯ç”±äºæ‰‹æœºå“ç‰Œå¾ˆå¤šï¼Œéœ€è¦é€‚é…å°±éš¾ä¸ŠåŠ éš¾ï¼Œç”±äºè‡ªå·±åˆä¸æ˜¯ä¸€ä¸ªå‰ç«¯äººå‘˜å°±å…ˆæ”¾æ”¾äº†ï¼Œç­‰æœ‰æ—¶é—´åœ¨è·Ÿç€ä¸Šè¿°çš„é—®é¢˜ä¸€èµ·è§£å†³ã€‚\n\nå‚è€ƒæ–‡æ¡£ï¼š\n\n[å­çª—å£é«˜åº¦ä¸å¤Ÿ](https://fly.layui.com/jie/33662/)\n[iphoneä¸‹iframeé—®é¢˜è®°å½•](https://www.jianshu.com/p/bd9fbf5a14f0)\n\n","source":"_posts/ä½¿ç”¨iframeé‡åˆ°çš„é—®é¢˜.md","raw":"---\ntitle: ä½¿ç”¨iframeé‡åˆ°çš„é—®é¢˜\ndate: 2019-03-15 09:58:07\ntags:\n- HTML\n---\n# 1ï¼šåœ¨iframeä¸­ä½¿ç”¨layerå¼¹æ¡†å¼•å‘çš„ä¸€äº›é—®é¢˜\n1. å¼¹æ¡†åï¼Œå‡ºç°å­çª—å£é«˜åº¦ä¸å¤Ÿï¼Œå¯¼è‡´æ˜¾ç¤ºå†…å®¹ä¸å…¨\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190227175949596.png)\n\nä½¿ç”¨iframe ä»£ç å¦‚ä¸‹ï¼š\n\n\t<div class=\"layui-tab-content\" style=\"min-height: 150px; padding: 0 0 0 0;\">\n\t\t<div class=\"layui-tab-item layui-show\">\n\t\t\t<iframe src=\"/main\" name=\"main\" scrolling=\"auto\"></iframe>\n\t\t</div>\n\t</div>\nå‡ºç°è¿™ä¸ªé—®é¢˜çš„åŸå› ä¸»è¦æ˜¯ iframe è®¾ç½®çš„é«˜åº¦æ˜¯100%ï¼Œæ²¡æœ‰è®¾ç½®å…·ä½“çš„é«˜åº¦ï¼Œå¯¼è‡´å­çª—å£æ²¡æœ‰å‚è€ƒç‰©å¯¼è‡´å…¶å³ä½¿è®¾ç½®äº†é«˜åº¦ä¹Ÿä¸èƒ½è®²çˆ¶å…ƒç´ æ’‘å¼€ã€‚å‡ºç°è¿™ç§æƒ…å†µç›®å‰æœ‰äºŒç§æ–¹å¼ï¼š\n* ç»™iframe è®¾ç½®æ ·å¼ overflow: auto;\n* é€šè¿‡ js è·å–çª—ä½“çš„é«˜åº¦ï¼Œå‡å»å¤´éƒ¨å’Œåº•éƒ¨çš„é«˜åº¦å‰©ä¸‹çš„å°±æ˜¯å†…å®¹çš„é«˜åº¦ï¼Œç„¶åç»™iframe è®¾ç½®é«˜åº¦ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š\n\n\t\t$(window).on('resize', function () {\n\t\t        let resizeTimer = null;\n\t\t        if (resizeTimer) {\n\t\t            clearTimeout(resizeTimer);\n\t\t        }\n\t\t        resizeTimer = setTimeout(function () {\n\t\t            setContentSize();\n\t\t        }, 500);\n\t\t    }).resize();\n\n\t    function setContentSize() {\n\t        var $content = $('.admin-nav-card .layui-tab-content');\n\t        $content.height($(this).height() - 147);\n\t        $content.find('iframe').each(function () {\n\t            $(this).height($content.height());\n\t            $(this).width($content.width());\n\t            $(this).contents().find(\".layui-layer-iframe\").width($content.width())\n\t        });\n\t    }\nè§£é‡Šä¸€ä¸‹ï¼Œä¸»è¦æ˜¯ç›‘å¬çª—ä½“è°ƒæ•´ï¼Œè·å–çª—ä½“çš„é«˜åº¦ï¼Œå‡å»å¤´éƒ¨å’Œåº•éƒ¨çš„é«˜åº¦å‰©ä¸‹çš„å°±æ˜¯\\$contentçš„é«˜åº¦ï¼Œç„¶åç»™iframeè®¾ç½®é«˜åº¦ï¼Œä»£ç ä¸­è¿è¡Œäº†å»¶è¿ŸåŠ è½½ï¼Œé˜²æ­¢å‡½æ•°æ‰§è¡Œè¿‡å¿«ã€‚\n\n2. é«˜åº¦è™½ç„¶è§£å†³äº†ï¼Œä½†æ˜¯åˆå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œå½“å¼¹çª—ä½¿ç”¨å…¨å±æ˜¾ç¤ºçš„æ—¶å€™ï¼Œè°ƒæ•´çª—ä½“å®½åº¦ï¼Œé‡Œé¢å†…å®¹ä¸ä¼šè·Ÿç€æ”¹å˜ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†å‡ºç°è¿™ç§æ•ˆæœï¼š\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190227184346806.png)\né‡Œé¢çš„å†…å®¹è¢«è¦†ç›–äº†ï¼Œå¯¼è‡´è¿™ä¸ªåŸå› ä¸»è¦æ˜¯é‡Œé¢iframeå’Œå¼¹çª—å†…å®¹divçš„å®½åº¦æ²¡æœ‰è·Ÿç€æ”¹å˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆè§£å†³å‘¢ï¼Œæƒ³åˆ°ä¸Šä¸€èŠ‚è®²äº†é«˜åº¦è®¾ç½®ï¼Œé‚£ä¹ˆæˆ‘ä»¬å®½åº¦ä¹Ÿè·Ÿç€è®¾ç½®å‘€ã€‚å¸¦ç€è¿™ä¸ªæƒ³æ³•ï¼Œæˆ‘è¯•ä¸€ä¸‹ä¿®æ”¹iframeçš„å®½åº¦\n\n```\n\t\tfunction setContentSize() {\n\t        var $content = $('.admin-nav-card .layui-tab-content');\n\t        $content.height($(this).height() - 147);\n\t        $content.find('iframe').each(function () {\n\t            $(this).height($content.height());\n\t            $(this).width($content.width());\n\t        });\n\t    }\n   ```\nç»“æœè¿˜æ˜¯å‡ºç°ä¸Šè¿°é‚£ä¸ªé—®é¢˜ï¼Œé‚£åˆ°åº•ä¸ºå•¥å‘¢ï¼Ÿç„¶åé€šè¿‡F12 æ¨¡å¼ è°ƒè¯•äº†ä¸€ä¸‹ï¼ŒåŸæ¥å¼¹æ¡†é‡Œé¢æœ‰ä¸€ä¸ªdivä¹Ÿè®¾ç½®äº†å®½åº¦ï¼Œé‚£æˆ‘è·Ÿiframeä¸€èµ·ä¸€å¹¶ä¿®æ”¹å‘¢?\n\n```\n\tfunction setContentSize() {\n        var $content = $('.admin-nav-card .layui-tab-content');\n        if ($(this).width > 768) {\n\n        }\n        $content.height($(this).height() - 147);\n        $content.find('iframe').each(function () {\n            $(this).height($content.height());\n            $(this).width($content.width());\n            $(this).contents().find(\".layui-layer-iframe\").width($content.width())\n        });\n    }.\n```\nå°è¯•äº†ä¸€ä¸‹æœçœŸå¯ä»¥ï¼Œç°åœ¨çœ‹æ•ˆæœï¼š\n![è°ƒæ•´çª—ä½“å‰](https://img.mupaie.com/20190227185309289.png)\n\n![è°ƒæ•´çª—ä½“å](https://img.mupaie.com/20190227185353924.png)\nè¿™æ ·ç»ˆäºç®—è§£å†³é—®é¢˜äº†ï¼Œæœ‰ä¸€ä¸ªå‰ç«¯å°ä¼™ä¼´å‘Šè¯‰æˆ‘è¿˜æœ‰ä¸€ç§æ–¹å¼ï¼Œå°±æ˜¯æ”¹å˜çª—ä½“å®½åº¦çš„æ—¶å€™ï¼Œè°ƒç”¨ä¸€ä¸ªlayer.full(index)ï¼Œindex æ˜¯åˆ›å»ºå¼¹çª—çš„ç¼–å·ã€‚è¿™ç§æ–¹å¼å¥½å¤„å°±æ˜¯å†…éƒ¨è‡ªåŠ¨æ ¹æ®çª—ä½“å®½åº¦è°ƒæ•´å¼¹çª—å®½åº¦ï¼Œä½†æ˜¯æœ‰ä¸ªé—®é¢˜æˆ‘æ€ä¹ˆå»è·å–é‚£ä¸ªindexå‘¢ï¼Ÿè¿™ä¸ªé—®é¢˜ç­‰ä»¥åè§£å†³å§ï¼Œå…ˆæ”¾æ”¾ã€‚ã€‚ã€‚\n\n# 2. æ‰‹æœºç«¯è§£å†³iframe ä¸­å†…å®¹ä¸èƒ½å·¦å³ç§»åŠ¨çš„é—®é¢˜\nç°åœ¨æ˜¯pcç«¯è§£å†³äº†é€‚é…ï¼Œä½†æ˜¯æ‰‹æœºç«¯å‘¢ï¼Œç”¨ä¸Šè¿°çš„ä»£ç æ˜¾ç¤ºçš„é¡µé¢ä¸èƒ½å·¦å³ç§»åŠ¨ã€‚è¿™ä¸‹å°±éœ€è¦Googleä¸€æŠŠäº†ï¼Œå¸¦ç€é—®é¢˜å»æœç´¢äº†ä¸€ä¸‹ç½‘ä¸Šå¤§ä½¬è¯´ï¼šå…ˆç»™iframe å¥—ä¸€ä¸ªdiv ç„¶åç»™divè®¾ç½®æ ·å¼\n\n```\n@media screen and (max-width: 768px) {\n\t/* ä¸»ä½“å®¹å™¨ */\n    .admin-nav-card .layui-tab-item {\n        -webkit-overflow-scrolling: touch;\n        overflow: auto;\n    }\n }\n ```\nç»“æœè¯•äº†ä¸€æ¬¡æœçœŸå¯ä»¥å®ç°ï¼Œä½†æ˜¯ç”±äºæ‰‹æœºå“ç‰Œå¾ˆå¤šï¼Œéœ€è¦é€‚é…å°±éš¾ä¸ŠåŠ éš¾ï¼Œç”±äºè‡ªå·±åˆä¸æ˜¯ä¸€ä¸ªå‰ç«¯äººå‘˜å°±å…ˆæ”¾æ”¾äº†ï¼Œç­‰æœ‰æ—¶é—´åœ¨è·Ÿç€ä¸Šè¿°çš„é—®é¢˜ä¸€èµ·è§£å†³ã€‚\n\nå‚è€ƒæ–‡æ¡£ï¼š\n\n[å­çª—å£é«˜åº¦ä¸å¤Ÿ](https://fly.layui.com/jie/33662/)\n[iphoneä¸‹iframeé—®é¢˜è®°å½•](https://www.jianshu.com/p/bd9fbf5a14f0)\n\n","slug":"ä½¿ç”¨iframeé‡åˆ°çš„é—®é¢˜","published":1,"updated":"2019-07-14T04:34:16.891Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkctux00174osxpxx51gmc","content":"<h1 id=\"1ï¼šåœ¨iframeä¸­ä½¿ç”¨layerå¼¹æ¡†å¼•å‘çš„ä¸€äº›é—®é¢˜\"><a href=\"#1ï¼šåœ¨iframeä¸­ä½¿ç”¨layerå¼¹æ¡†å¼•å‘çš„ä¸€äº›é—®é¢˜\" class=\"headerlink\" title=\"1ï¼šåœ¨iframeä¸­ä½¿ç”¨layerå¼¹æ¡†å¼•å‘çš„ä¸€äº›é—®é¢˜\"></a>1ï¼šåœ¨iframeä¸­ä½¿ç”¨layerå¼¹æ¡†å¼•å‘çš„ä¸€äº›é—®é¢˜</h1><ol>\n<li>å¼¹æ¡†åï¼Œå‡ºç°å­çª—å£é«˜åº¦ä¸å¤Ÿï¼Œå¯¼è‡´æ˜¾ç¤ºå†…å®¹ä¸å…¨<br><img src=\"https://img.mupaie.com/20190227175949596.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></li>\n</ol>\n<p>ä½¿ç”¨iframe ä»£ç å¦‚ä¸‹ï¼š</p>\n<pre><code>&lt;div class=&quot;layui-tab-content&quot; style=&quot;min-height: 150px; padding: 0 0 0 0;&quot;&gt;\n    &lt;div class=&quot;layui-tab-item layui-show&quot;&gt;\n        &lt;iframe src=&quot;/main&quot; name=&quot;main&quot; scrolling=&quot;auto&quot;&gt;&lt;/iframe&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre><p>å‡ºç°è¿™ä¸ªé—®é¢˜çš„åŸå› ä¸»è¦æ˜¯ iframe è®¾ç½®çš„é«˜åº¦æ˜¯100%ï¼Œæ²¡æœ‰è®¾ç½®å…·ä½“çš„é«˜åº¦ï¼Œå¯¼è‡´å­çª—å£æ²¡æœ‰å‚è€ƒç‰©å¯¼è‡´å…¶å³ä½¿è®¾ç½®äº†é«˜åº¦ä¹Ÿä¸èƒ½è®²çˆ¶å…ƒç´ æ’‘å¼€ã€‚å‡ºç°è¿™ç§æƒ…å†µç›®å‰æœ‰äºŒç§æ–¹å¼ï¼š</p>\n<ul>\n<li>ç»™iframe è®¾ç½®æ ·å¼ overflow: auto;</li>\n<li><p>é€šè¿‡ js è·å–çª—ä½“çš„é«˜åº¦ï¼Œå‡å»å¤´éƒ¨å’Œåº•éƒ¨çš„é«˜åº¦å‰©ä¸‹çš„å°±æ˜¯å†…å®¹çš„é«˜åº¦ï¼Œç„¶åç»™iframe è®¾ç½®é«˜åº¦ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>\n<pre><code>$(window).on(&apos;resize&apos;, function () {\n        let resizeTimer = null;\n        if (resizeTimer) {\n            clearTimeout(resizeTimer);\n        }\n        resizeTimer = setTimeout(function () {\n            setContentSize();\n        }, 500);\n    }).resize();\n\nfunction setContentSize() {\n    var $content = $(&apos;.admin-nav-card .layui-tab-content&apos;);\n    $content.height($(this).height() - 147);\n    $content.find(&apos;iframe&apos;).each(function () {\n        $(this).height($content.height());\n        $(this).width($content.width());\n        $(this).contents().find(&quot;.layui-layer-iframe&quot;).width($content.width())\n    });\n}\n</code></pre><p>è§£é‡Šä¸€ä¸‹ï¼Œä¸»è¦æ˜¯ç›‘å¬çª—ä½“è°ƒæ•´ï¼Œè·å–çª—ä½“çš„é«˜åº¦ï¼Œå‡å»å¤´éƒ¨å’Œåº•éƒ¨çš„é«˜åº¦å‰©ä¸‹çš„å°±æ˜¯\\$contentçš„é«˜åº¦ï¼Œç„¶åç»™iframeè®¾ç½®é«˜åº¦ï¼Œä»£ç ä¸­è¿è¡Œäº†å»¶è¿ŸåŠ è½½ï¼Œé˜²æ­¢å‡½æ•°æ‰§è¡Œè¿‡å¿«ã€‚</p>\n</li>\n</ul>\n<ol start=\"2\">\n<li>é«˜åº¦è™½ç„¶è§£å†³äº†ï¼Œä½†æ˜¯åˆå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œå½“å¼¹çª—ä½¿ç”¨å…¨å±æ˜¾ç¤ºçš„æ—¶å€™ï¼Œè°ƒæ•´çª—ä½“å®½åº¦ï¼Œé‡Œé¢å†…å®¹ä¸ä¼šè·Ÿç€æ”¹å˜ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†å‡ºç°è¿™ç§æ•ˆæœï¼š<br><img src=\"https://img.mupaie.com/20190227184346806.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>é‡Œé¢çš„å†…å®¹è¢«è¦†ç›–äº†ï¼Œå¯¼è‡´è¿™ä¸ªåŸå› ä¸»è¦æ˜¯é‡Œé¢iframeå’Œå¼¹çª—å†…å®¹divçš„å®½åº¦æ²¡æœ‰è·Ÿç€æ”¹å˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆè§£å†³å‘¢ï¼Œæƒ³åˆ°ä¸Šä¸€èŠ‚è®²äº†é«˜åº¦è®¾ç½®ï¼Œé‚£ä¹ˆæˆ‘ä»¬å®½åº¦ä¹Ÿè·Ÿç€è®¾ç½®å‘€ã€‚å¸¦ç€è¿™ä¸ªæƒ³æ³•ï¼Œæˆ‘è¯•ä¸€ä¸‹ä¿®æ”¹iframeçš„å®½åº¦</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function setContentSize() &#123;</span><br><span class=\"line\">       var $content = $(&apos;.admin-nav-card .layui-tab-content&apos;);</span><br><span class=\"line\">       $content.height($(this).height() - 147);</span><br><span class=\"line\">       $content.find(&apos;iframe&apos;).each(function () &#123;</span><br><span class=\"line\">           $(this).height($content.height());</span><br><span class=\"line\">           $(this).width($content.width());</span><br><span class=\"line\">       &#125;);</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n<p>ç»“æœè¿˜æ˜¯å‡ºç°ä¸Šè¿°é‚£ä¸ªé—®é¢˜ï¼Œé‚£åˆ°åº•ä¸ºå•¥å‘¢ï¼Ÿç„¶åé€šè¿‡F12 æ¨¡å¼ è°ƒè¯•äº†ä¸€ä¸‹ï¼ŒåŸæ¥å¼¹æ¡†é‡Œé¢æœ‰ä¸€ä¸ªdivä¹Ÿè®¾ç½®äº†å®½åº¦ï¼Œé‚£æˆ‘è·Ÿiframeä¸€èµ·ä¸€å¹¶ä¿®æ”¹å‘¢?</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function setContentSize() &#123;</span><br><span class=\"line\">       var $content = $(&apos;.admin-nav-card .layui-tab-content&apos;);</span><br><span class=\"line\">       if ($(this).width &gt; 768) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       $content.height($(this).height() - 147);</span><br><span class=\"line\">       $content.find(&apos;iframe&apos;).each(function () &#123;</span><br><span class=\"line\">           $(this).height($content.height());</span><br><span class=\"line\">           $(this).width($content.width());</span><br><span class=\"line\">           $(this).contents().find(&quot;.layui-layer-iframe&quot;).width($content.width())</span><br><span class=\"line\">       &#125;);</span><br><span class=\"line\">   &#125;.</span><br></pre></td></tr></table></figure>\n<p>å°è¯•äº†ä¸€ä¸‹æœçœŸå¯ä»¥ï¼Œç°åœ¨çœ‹æ•ˆæœï¼š<br><img src=\"https://img.mupaie.com/20190227185309289.png\" alt=\"è°ƒæ•´çª—ä½“å‰\"></p>\n<p><img src=\"https://img.mupaie.com/20190227185353924.png\" alt=\"è°ƒæ•´çª—ä½“å\"><br>è¿™æ ·ç»ˆäºç®—è§£å†³é—®é¢˜äº†ï¼Œæœ‰ä¸€ä¸ªå‰ç«¯å°ä¼™ä¼´å‘Šè¯‰æˆ‘è¿˜æœ‰ä¸€ç§æ–¹å¼ï¼Œå°±æ˜¯æ”¹å˜çª—ä½“å®½åº¦çš„æ—¶å€™ï¼Œè°ƒç”¨ä¸€ä¸ªlayer.full(index)ï¼Œindex æ˜¯åˆ›å»ºå¼¹çª—çš„ç¼–å·ã€‚è¿™ç§æ–¹å¼å¥½å¤„å°±æ˜¯å†…éƒ¨è‡ªåŠ¨æ ¹æ®çª—ä½“å®½åº¦è°ƒæ•´å¼¹çª—å®½åº¦ï¼Œä½†æ˜¯æœ‰ä¸ªé—®é¢˜æˆ‘æ€ä¹ˆå»è·å–é‚£ä¸ªindexå‘¢ï¼Ÿè¿™ä¸ªé—®é¢˜ç­‰ä»¥åè§£å†³å§ï¼Œå…ˆæ”¾æ”¾ã€‚ã€‚ã€‚</p>\n<h1 id=\"2-æ‰‹æœºç«¯è§£å†³iframe-ä¸­å†…å®¹ä¸èƒ½å·¦å³ç§»åŠ¨çš„é—®é¢˜\"><a href=\"#2-æ‰‹æœºç«¯è§£å†³iframe-ä¸­å†…å®¹ä¸èƒ½å·¦å³ç§»åŠ¨çš„é—®é¢˜\" class=\"headerlink\" title=\"2. æ‰‹æœºç«¯è§£å†³iframe ä¸­å†…å®¹ä¸èƒ½å·¦å³ç§»åŠ¨çš„é—®é¢˜\"></a>2. æ‰‹æœºç«¯è§£å†³iframe ä¸­å†…å®¹ä¸èƒ½å·¦å³ç§»åŠ¨çš„é—®é¢˜</h1><p>ç°åœ¨æ˜¯pcç«¯è§£å†³äº†é€‚é…ï¼Œä½†æ˜¯æ‰‹æœºç«¯å‘¢ï¼Œç”¨ä¸Šè¿°çš„ä»£ç æ˜¾ç¤ºçš„é¡µé¢ä¸èƒ½å·¦å³ç§»åŠ¨ã€‚è¿™ä¸‹å°±éœ€è¦Googleä¸€æŠŠäº†ï¼Œå¸¦ç€é—®é¢˜å»æœç´¢äº†ä¸€ä¸‹ç½‘ä¸Šå¤§ä½¬è¯´ï¼šå…ˆç»™iframe å¥—ä¸€ä¸ªdiv ç„¶åç»™divè®¾ç½®æ ·å¼</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@media screen and (max-width: 768px) &#123;</span><br><span class=\"line\">\t/* ä¸»ä½“å®¹å™¨ */</span><br><span class=\"line\">    .admin-nav-card .layui-tab-item &#123;</span><br><span class=\"line\">        -webkit-overflow-scrolling: touch;</span><br><span class=\"line\">        overflow: auto;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n<p>ç»“æœè¯•äº†ä¸€æ¬¡æœçœŸå¯ä»¥å®ç°ï¼Œä½†æ˜¯ç”±äºæ‰‹æœºå“ç‰Œå¾ˆå¤šï¼Œéœ€è¦é€‚é…å°±éš¾ä¸ŠåŠ éš¾ï¼Œç”±äºè‡ªå·±åˆä¸æ˜¯ä¸€ä¸ªå‰ç«¯äººå‘˜å°±å…ˆæ”¾æ”¾äº†ï¼Œç­‰æœ‰æ—¶é—´åœ¨è·Ÿç€ä¸Šè¿°çš„é—®é¢˜ä¸€èµ·è§£å†³ã€‚</p>\n<p>å‚è€ƒæ–‡æ¡£ï¼š</p>\n<p><a href=\"https://fly.layui.com/jie/33662/\" target=\"_blank\" rel=\"noopener\">å­çª—å£é«˜åº¦ä¸å¤Ÿ</a><br><a href=\"https://www.jianshu.com/p/bd9fbf5a14f0\" target=\"_blank\" rel=\"noopener\">iphoneä¸‹iframeé—®é¢˜è®°å½•</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"1ï¼šåœ¨iframeä¸­ä½¿ç”¨layerå¼¹æ¡†å¼•å‘çš„ä¸€äº›é—®é¢˜\"><a href=\"#1ï¼šåœ¨iframeä¸­ä½¿ç”¨layerå¼¹æ¡†å¼•å‘çš„ä¸€äº›é—®é¢˜\" class=\"headerlink\" title=\"1ï¼šåœ¨iframeä¸­ä½¿ç”¨layerå¼¹æ¡†å¼•å‘çš„ä¸€äº›é—®é¢˜\"></a>1ï¼šåœ¨iframeä¸­ä½¿ç”¨layerå¼¹æ¡†å¼•å‘çš„ä¸€äº›é—®é¢˜</h1><ol>\n<li>å¼¹æ¡†åï¼Œå‡ºç°å­çª—å£é«˜åº¦ä¸å¤Ÿï¼Œå¯¼è‡´æ˜¾ç¤ºå†…å®¹ä¸å…¨<br><img src=\"https://img.mupaie.com/20190227175949596.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></li>\n</ol>\n<p>ä½¿ç”¨iframe ä»£ç å¦‚ä¸‹ï¼š</p>\n<pre><code>&lt;div class=&quot;layui-tab-content&quot; style=&quot;min-height: 150px; padding: 0 0 0 0;&quot;&gt;\n    &lt;div class=&quot;layui-tab-item layui-show&quot;&gt;\n        &lt;iframe src=&quot;/main&quot; name=&quot;main&quot; scrolling=&quot;auto&quot;&gt;&lt;/iframe&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre><p>å‡ºç°è¿™ä¸ªé—®é¢˜çš„åŸå› ä¸»è¦æ˜¯ iframe è®¾ç½®çš„é«˜åº¦æ˜¯100%ï¼Œæ²¡æœ‰è®¾ç½®å…·ä½“çš„é«˜åº¦ï¼Œå¯¼è‡´å­çª—å£æ²¡æœ‰å‚è€ƒç‰©å¯¼è‡´å…¶å³ä½¿è®¾ç½®äº†é«˜åº¦ä¹Ÿä¸èƒ½è®²çˆ¶å…ƒç´ æ’‘å¼€ã€‚å‡ºç°è¿™ç§æƒ…å†µç›®å‰æœ‰äºŒç§æ–¹å¼ï¼š</p>\n<ul>\n<li>ç»™iframe è®¾ç½®æ ·å¼ overflow: auto;</li>\n<li><p>é€šè¿‡ js è·å–çª—ä½“çš„é«˜åº¦ï¼Œå‡å»å¤´éƒ¨å’Œåº•éƒ¨çš„é«˜åº¦å‰©ä¸‹çš„å°±æ˜¯å†…å®¹çš„é«˜åº¦ï¼Œç„¶åç»™iframe è®¾ç½®é«˜åº¦ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>\n<pre><code>$(window).on(&apos;resize&apos;, function () {\n        let resizeTimer = null;\n        if (resizeTimer) {\n            clearTimeout(resizeTimer);\n        }\n        resizeTimer = setTimeout(function () {\n            setContentSize();\n        }, 500);\n    }).resize();\n\nfunction setContentSize() {\n    var $content = $(&apos;.admin-nav-card .layui-tab-content&apos;);\n    $content.height($(this).height() - 147);\n    $content.find(&apos;iframe&apos;).each(function () {\n        $(this).height($content.height());\n        $(this).width($content.width());\n        $(this).contents().find(&quot;.layui-layer-iframe&quot;).width($content.width())\n    });\n}\n</code></pre><p>è§£é‡Šä¸€ä¸‹ï¼Œä¸»è¦æ˜¯ç›‘å¬çª—ä½“è°ƒæ•´ï¼Œè·å–çª—ä½“çš„é«˜åº¦ï¼Œå‡å»å¤´éƒ¨å’Œåº•éƒ¨çš„é«˜åº¦å‰©ä¸‹çš„å°±æ˜¯\\$contentçš„é«˜åº¦ï¼Œç„¶åç»™iframeè®¾ç½®é«˜åº¦ï¼Œä»£ç ä¸­è¿è¡Œäº†å»¶è¿ŸåŠ è½½ï¼Œé˜²æ­¢å‡½æ•°æ‰§è¡Œè¿‡å¿«ã€‚</p>\n</li>\n</ul>\n<ol start=\"2\">\n<li>é«˜åº¦è™½ç„¶è§£å†³äº†ï¼Œä½†æ˜¯åˆå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œå½“å¼¹çª—ä½¿ç”¨å…¨å±æ˜¾ç¤ºçš„æ—¶å€™ï¼Œè°ƒæ•´çª—ä½“å®½åº¦ï¼Œé‡Œé¢å†…å®¹ä¸ä¼šè·Ÿç€æ”¹å˜ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†å‡ºç°è¿™ç§æ•ˆæœï¼š<br><img src=\"https://img.mupaie.com/20190227184346806.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>é‡Œé¢çš„å†…å®¹è¢«è¦†ç›–äº†ï¼Œå¯¼è‡´è¿™ä¸ªåŸå› ä¸»è¦æ˜¯é‡Œé¢iframeå’Œå¼¹çª—å†…å®¹divçš„å®½åº¦æ²¡æœ‰è·Ÿç€æ”¹å˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆè§£å†³å‘¢ï¼Œæƒ³åˆ°ä¸Šä¸€èŠ‚è®²äº†é«˜åº¦è®¾ç½®ï¼Œé‚£ä¹ˆæˆ‘ä»¬å®½åº¦ä¹Ÿè·Ÿç€è®¾ç½®å‘€ã€‚å¸¦ç€è¿™ä¸ªæƒ³æ³•ï¼Œæˆ‘è¯•ä¸€ä¸‹ä¿®æ”¹iframeçš„å®½åº¦</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function setContentSize() &#123;</span><br><span class=\"line\">       var $content = $(&apos;.admin-nav-card .layui-tab-content&apos;);</span><br><span class=\"line\">       $content.height($(this).height() - 147);</span><br><span class=\"line\">       $content.find(&apos;iframe&apos;).each(function () &#123;</span><br><span class=\"line\">           $(this).height($content.height());</span><br><span class=\"line\">           $(this).width($content.width());</span><br><span class=\"line\">       &#125;);</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n<p>ç»“æœè¿˜æ˜¯å‡ºç°ä¸Šè¿°é‚£ä¸ªé—®é¢˜ï¼Œé‚£åˆ°åº•ä¸ºå•¥å‘¢ï¼Ÿç„¶åé€šè¿‡F12 æ¨¡å¼ è°ƒè¯•äº†ä¸€ä¸‹ï¼ŒåŸæ¥å¼¹æ¡†é‡Œé¢æœ‰ä¸€ä¸ªdivä¹Ÿè®¾ç½®äº†å®½åº¦ï¼Œé‚£æˆ‘è·Ÿiframeä¸€èµ·ä¸€å¹¶ä¿®æ”¹å‘¢?</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function setContentSize() &#123;</span><br><span class=\"line\">       var $content = $(&apos;.admin-nav-card .layui-tab-content&apos;);</span><br><span class=\"line\">       if ($(this).width &gt; 768) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       $content.height($(this).height() - 147);</span><br><span class=\"line\">       $content.find(&apos;iframe&apos;).each(function () &#123;</span><br><span class=\"line\">           $(this).height($content.height());</span><br><span class=\"line\">           $(this).width($content.width());</span><br><span class=\"line\">           $(this).contents().find(&quot;.layui-layer-iframe&quot;).width($content.width())</span><br><span class=\"line\">       &#125;);</span><br><span class=\"line\">   &#125;.</span><br></pre></td></tr></table></figure>\n<p>å°è¯•äº†ä¸€ä¸‹æœçœŸå¯ä»¥ï¼Œç°åœ¨çœ‹æ•ˆæœï¼š<br><img src=\"https://img.mupaie.com/20190227185309289.png\" alt=\"è°ƒæ•´çª—ä½“å‰\"></p>\n<p><img src=\"https://img.mupaie.com/20190227185353924.png\" alt=\"è°ƒæ•´çª—ä½“å\"><br>è¿™æ ·ç»ˆäºç®—è§£å†³é—®é¢˜äº†ï¼Œæœ‰ä¸€ä¸ªå‰ç«¯å°ä¼™ä¼´å‘Šè¯‰æˆ‘è¿˜æœ‰ä¸€ç§æ–¹å¼ï¼Œå°±æ˜¯æ”¹å˜çª—ä½“å®½åº¦çš„æ—¶å€™ï¼Œè°ƒç”¨ä¸€ä¸ªlayer.full(index)ï¼Œindex æ˜¯åˆ›å»ºå¼¹çª—çš„ç¼–å·ã€‚è¿™ç§æ–¹å¼å¥½å¤„å°±æ˜¯å†…éƒ¨è‡ªåŠ¨æ ¹æ®çª—ä½“å®½åº¦è°ƒæ•´å¼¹çª—å®½åº¦ï¼Œä½†æ˜¯æœ‰ä¸ªé—®é¢˜æˆ‘æ€ä¹ˆå»è·å–é‚£ä¸ªindexå‘¢ï¼Ÿè¿™ä¸ªé—®é¢˜ç­‰ä»¥åè§£å†³å§ï¼Œå…ˆæ”¾æ”¾ã€‚ã€‚ã€‚</p>\n<h1 id=\"2-æ‰‹æœºç«¯è§£å†³iframe-ä¸­å†…å®¹ä¸èƒ½å·¦å³ç§»åŠ¨çš„é—®é¢˜\"><a href=\"#2-æ‰‹æœºç«¯è§£å†³iframe-ä¸­å†…å®¹ä¸èƒ½å·¦å³ç§»åŠ¨çš„é—®é¢˜\" class=\"headerlink\" title=\"2. æ‰‹æœºç«¯è§£å†³iframe ä¸­å†…å®¹ä¸èƒ½å·¦å³ç§»åŠ¨çš„é—®é¢˜\"></a>2. æ‰‹æœºç«¯è§£å†³iframe ä¸­å†…å®¹ä¸èƒ½å·¦å³ç§»åŠ¨çš„é—®é¢˜</h1><p>ç°åœ¨æ˜¯pcç«¯è§£å†³äº†é€‚é…ï¼Œä½†æ˜¯æ‰‹æœºç«¯å‘¢ï¼Œç”¨ä¸Šè¿°çš„ä»£ç æ˜¾ç¤ºçš„é¡µé¢ä¸èƒ½å·¦å³ç§»åŠ¨ã€‚è¿™ä¸‹å°±éœ€è¦Googleä¸€æŠŠäº†ï¼Œå¸¦ç€é—®é¢˜å»æœç´¢äº†ä¸€ä¸‹ç½‘ä¸Šå¤§ä½¬è¯´ï¼šå…ˆç»™iframe å¥—ä¸€ä¸ªdiv ç„¶åç»™divè®¾ç½®æ ·å¼</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@media screen and (max-width: 768px) &#123;</span><br><span class=\"line\">\t/* ä¸»ä½“å®¹å™¨ */</span><br><span class=\"line\">    .admin-nav-card .layui-tab-item &#123;</span><br><span class=\"line\">        -webkit-overflow-scrolling: touch;</span><br><span class=\"line\">        overflow: auto;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n<p>ç»“æœè¯•äº†ä¸€æ¬¡æœçœŸå¯ä»¥å®ç°ï¼Œä½†æ˜¯ç”±äºæ‰‹æœºå“ç‰Œå¾ˆå¤šï¼Œéœ€è¦é€‚é…å°±éš¾ä¸ŠåŠ éš¾ï¼Œç”±äºè‡ªå·±åˆä¸æ˜¯ä¸€ä¸ªå‰ç«¯äººå‘˜å°±å…ˆæ”¾æ”¾äº†ï¼Œç­‰æœ‰æ—¶é—´åœ¨è·Ÿç€ä¸Šè¿°çš„é—®é¢˜ä¸€èµ·è§£å†³ã€‚</p>\n<p>å‚è€ƒæ–‡æ¡£ï¼š</p>\n<p><a href=\"https://fly.layui.com/jie/33662/\" target=\"_blank\" rel=\"noopener\">å­çª—å£é«˜åº¦ä¸å¤Ÿ</a><br><a href=\"https://www.jianshu.com/p/bd9fbf5a14f0\" target=\"_blank\" rel=\"noopener\">iphoneä¸‹iframeé—®é¢˜è®°å½•</a></p>\n"},{"title":"jvm é¢è¯•é—®é¢˜æ€»ç»“(ä¸€)","date":"2019-03-15T01:49:26.000Z","_content":"\n\n# 1.java 8 å°† jvm ä¸­ æ°¸ä¹…ä»£å»é™¤å¸¦æ¥çš„å¥½å¤„ï¼Ÿ\n* å…ƒç©ºé—´å­˜æ”¾åœ¨æœ¬åœ°å†…å­˜ä¸­é¿å…ä¹‹å‰ä½¿ç”¨æ°¸ä¹…ä»£å‡ºç°å†…å­˜æº¢å‡ºçš„é—®é¢˜ã€‚\n* ç±»åŠæ–¹æ³•çš„ä¿¡æ¯ç­‰æ¯”è¾ƒéš¾ç¡®å®šå…¶å¤§å°ï¼Œå› æ­¤å¯¹äºæ°¸ä¹…ä»£çš„å¤§å°æŒ‡å®šæ¯”è¾ƒå›°éš¾ï¼Œå¤ªå°å®¹æ˜“å‡ºç°æ°¸ä¹…ä»£æº¢å‡ºï¼Œå¤ªå¤§åˆ™å®¹æ˜“å¯¼è‡´è€å¹´ä»£æº¢å‡ºã€‚\n* æ°¸ä¹…ä»£ä¼šé€šè¿‡ full GC è¿›è¡Œå›æ”¶ï¼Œè¿™ç§æ“ä½œå¤æ‚åº¦è¾ƒé«˜ï¼Œå›æ”¶æ•ˆç‡åä½ã€‚\n# 2.å¦‚ä½•åˆ¤æ–­å¯¹è±¡æ­»äº¡ï¼Œæœ‰å“ªä¸¤ç§æ–¹æ³•ï¼Ÿ\n1. å¼•ç”¨è®¡æ•°æ³•ï¼š\nå½“è¯¥å¯¹è±¡è¢«å¼•ç”¨æ—¶ï¼Œè®¡æ•°å™¨å°±åŠ 1ï¼›å½“å¼•ç”¨å¤±æ•ˆï¼Œè®¡æ•°å™¨å°±å‡1ï¼›ä»»ä½•æ—¶å€™è®¡æ•°å™¨ä¸º0çš„å¯¹è±¡å°±æ˜¯ä¸å¯èƒ½å†è¢«ä½¿ç”¨çš„ã€‚\nç¼ºç‚¹ï¼šè¿™ä¸ªæ–¹æ³•å®ç°ç®€å•ï¼Œæ•ˆç‡é«˜ï¼Œä½†æ˜¯ç›®å‰ä¸»æµçš„è™šæ‹Ÿæœºä¸­å¹¶æ²¡æœ‰é€‰æ‹©è¿™ä¸ªç®—æ³•æ¥ç®¡ç†å†…å­˜ï¼Œå…¶æœ€ä¸»è¦çš„åŸå› æ˜¯å®ƒå¾ˆéš¾è§£å†³å¯¹è±¡ä¹‹é—´ç›¸äº’å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚ æ‰€è°“å¯¹è±¡ä¹‹é—´çš„ç›¸äº’å¼•ç”¨é—®é¢˜ï¼Œå¦‚ä¸‹é¢ä»£ç æ‰€ç¤ºï¼šé™¤äº†å¯¹è±¡objA å’Œ objB ç›¸äº’å¼•ç”¨ç€å¯¹æ–¹ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´å†æ— ä»»ä½•å¼•ç”¨ã€‚ä½†æ˜¯ä»–ä»¬å› ä¸ºäº’ç›¸å¼•ç”¨å¯¹æ–¹ï¼Œå¯¼è‡´å®ƒä»¬çš„å¼•ç”¨è®¡æ•°å™¨éƒ½ä¸ä¸º0ï¼Œäºæ˜¯å¼•ç”¨è®¡æ•°ç®—æ³•æ— æ³•é€šçŸ¥ GC å›æ”¶å™¨å›æ”¶ä»–ä»¬ã€‚\n2. å¯è¾¾æ€§åˆ†æç®—æ³•ï¼š\né€šè¿‡ä¸€ç³»åˆ—â€œGC Rootsâ€ çš„å¯¹è±¡ä¸ºèµ·ç‚¹ï¼Œä»è¿™äº›èŠ‚ç‚¹å¼€å§‹å‘ä¸‹æœç´¢ï¼Œæœç´¢å¤šèµ°è¿‡çš„è·¯å¾„ç§°ä¸ºå¼•ç”¨é“¾ï¼Œå½“å¯¹è±¡åˆ°GC Rootsæ²¡æœ‰ä»»ä½•çš„å¼•ç”¨é“¾ç›¸è¿å°±åˆ¤æ–­è¯¥å¯¹è±¡å·²ç»å¤±æ•ˆã€‚\n# 3.å†è°ˆå¼•ç”¨ï¼š\n1. å¼ºå¼•ç”¨\n\t* æ¦‚è¿°ï¼šå¼ºå¼•ç”¨åœ¨ä»£ç ä¸­å¾ˆæ™®éï¼Œå¹³æ—¶æˆ‘ä»¬é€šè¿‡new å…³é”®å­—åˆ›å»ºçš„å¼•ç”¨éƒ½æ˜¯å¼ºå¼•ç”¨ï¼Œåªè¦å¼ºå¼•ç”¨å­˜åœ¨ï¼Œåƒåœ¾æ”¶é›†å™¨å°±ä¸ä¼šå›æ”¶å¼•ç”¨å¯¹è±¡å¼ºå¼•ç”¨åœ¨ä»£ç ä¸­å¾ˆæ™®éï¼Œå¹³æ—¶æˆ‘ä»¬é€šè¿‡new å…³é”®å­—åˆ›å»ºçš„å¼•ç”¨éƒ½æ˜¯å¼ºå¼•ç”¨ï¼Œåªè¦å¼ºå¼•ç”¨å­˜åœ¨ï¼Œåƒåœ¾æ”¶é›†å™¨å°±ä¸ä¼šå›æ”¶å¼•ç”¨å¯¹è±¡\n\t* å®ç°ï¼šé€šè¿‡new å…³é”®å­—åˆ›å»ºçš„å¼•ç”¨\n2. è½¯å¼•ç”¨\n\t* æ¦‚è¿°ï¼šæè¿°ä¸€äº›è¿˜æœ‰ç”¨ä½†æ˜¯å¹¶ä¸å¿…éœ€çš„å¯¹è±¡ï¼Œå¦‚æœå†…å­˜ç©ºé—´è¶³å¤Ÿï¼Œåƒåœ¾å›æ”¶å™¨å°±ä¸ä¼šå›æ”¶å®ƒï¼Œå¦‚æœå‘ç”Ÿå†…å­˜æº¢å‡ºä¹‹å‰ï¼Œåƒåœ¾å›æ”¶å™¨å°†è¿™äº›å¯¹è±¡åˆ—è¿›å›æ”¶èŒƒå›´ä¹‹ä¸­è¿›è¡Œç¬¬äºŒæ¬¡å›æ”¶ã€‚å¦‚æœè¿™æ¬¡å›æ”¶è¿˜æ˜¯æ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜ï¼Œå°±ä¼šå‘ç”Ÿå†…å­˜æº¢å‡ºã€‚\n\t* ç”¨é€”ï¼šè½¯å¼•ç”¨å¯ç”¨æ¥å®ç°å†…å­˜æ•æ„Ÿçš„é«˜é€Ÿç¼“å­˜ã€‚\n\t* å®ç°ï¼šJdk æä¾› SoftReference ç±»æ¥å®ç°è½¯å¼•ç”¨ã€‚\n3. å¼±å¼•ç”¨\n   * æ¦‚è¿°ï¼šéå¿…è¦å¯¹è±¡ï¼Œå½“GCå‘ç”Ÿå°±ä¼šè¢«å›æ”¶ï¼Œç”Ÿå‘½å‘¨æœŸå¾ˆçŸ­æš‚\n   * å®ç°ï¼šJdk æä¾› WeakReference ç±»æ¥å®ç°å¼±å¼•ç”¨ã€‚\n   **æ³¨æ„ï¼šç”±äºåƒåœ¾å›æ”¶å™¨æ˜¯ä¸€ä¸ªä¼˜å…ˆçº§å¾ˆä½çš„çº¿ç¨‹ï¼Œ å› æ­¤ä¸ä¸€å®šä¼šå¾ˆå¿«å‘ç°é‚£äº›åªå…·æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡**\n4. è™šå¼•ç”¨\n\t* æ¦‚è¿°ï¼šä¸å…¶ä»–å‡ ç§å¼•ç”¨éƒ½ä¸åŒï¼Œè™šå¼•ç”¨å®Œå…¨ä¸ä¼šå¯¹å…¶ç”Ÿå­˜æ—¶é—´æ„æˆå½±å“ï¼Œä¹Ÿæ— æ³•é€šè¿‡è™šå¼•ç”¨æ¥å–å¾—ä¸€ä¸ªå¯¹è±¡å®ä¾‹ã€‚\n\t* ç”¨é€”ï¼šä½¿å¯¹è±¡è¢«æ”¶é›†å™¨å›æ”¶æ—¶æ”¶åˆ°ä¸€ä¸ªç³»ç»Ÿé€šçŸ¥ã€‚\n\t* å®ç°ï¼šJdk æä¾› PhantomkReference ç±»æ¥å®ç°è™šå¼•ç”¨ã€‚\n5. å¼±å¼•ç”¨å’Œè½¯å¼•ç”¨çš„åŒºåˆ«\nåªå…·æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡æ‹¥æœ‰æ›´çŸ­æš‚çš„ç”Ÿå‘½å‘¨æœŸã€‚åœ¨åƒåœ¾å›æ”¶å™¨çº¿ç¨‹æ‰«æå®ƒ æ‰€ç®¡è¾–çš„å†…å­˜åŒºåŸŸçš„è¿‡ç¨‹ä¸­ï¼Œä¸€æ—¦å‘ç°äº†åªå…·æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡ï¼Œä¸ç®¡å½“å‰å†…å­˜ç©ºé—´è¶³å¤Ÿä¸å¦ï¼Œéƒ½ä¼šå›æ”¶æ‰åªè¢«å¼±å¼•ç”¨å…³è”çš„å¯¹è±¡ã€‚\n# 4.HotSpotä¸ºä»€ä¹ˆè¦åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Ÿ\nä¸€èˆ¬å°†javaå †åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ ¹æ®å„ä¸ªå¹´ä»£çš„ç‰¹ç‚¹é€‰æ‹©åˆé€‚çš„åƒåœ¾æ”¶é›†ç®—æ³•ã€‚\n* æ–°ç”Ÿä»£ï¼šæ¯æ¬¡æ”¶é›†éƒ½ä¼šæœ‰å¤§é‡å¯¹è±¡æ­»å»ï¼Œæ‰€ä»¥å¯ä»¥é€‰æ‹©å¤åˆ¶ç®—æ³•\n* è€å¹´ä»£ï¼šå¯¹è±¡å­˜æ´»å‡ ç‡æ˜¯æ¯”è¾ƒé«˜çš„ï¼Œè€Œä¸”æ²¡æœ‰é¢å¤–çš„ç©ºé—´å¯¹å®ƒè¿›è¡Œåˆ†é…æ‹…ä¿ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»é€‰æ‹©â€œæ ‡è®°-æ¸…é™¤â€æˆ–â€œæ ‡è®°-æ•´ç†â€ç®—æ³•è¿›è¡Œåƒåœ¾æ”¶é›†\n# 5.Minor GCå’ŒFull GC åˆ†åˆ«æŒ‡ä»€ä¹ˆï¼Ÿ\n* æ–°ç”Ÿä»£ï¼ˆMinor GCï¼‰:æŒ‡æ–°ç”Ÿä»£çš„åƒåœ¾æ”¶é›†ï¼Œæ‰§è¡Œæ“ä½œé¢‘ç¹ï¼Œå›æ”¶é€Ÿåº¦è¾ƒå¿«ã€‚\n* è€å¹´ä»£ï¼ˆMajor GC/Full GCï¼‰:æŒ‡å‘ç”Ÿè€å¹´ä»£çš„åƒåœ¾å›æ”¶ï¼Œå‡ºç°Major GCç»å¸¸ä¼šä¼´éšä¸€æ¬¡Minor GC ï¼ˆå¹¶éç»å¯¹ï¼Œåªæœ‰å½“å‘ç”ŸMajor GCæ—¶ æ™‹å‡åˆ°è€å¹´ä»£çš„å†…å­˜ å¤§äºè€å¹´ä»£çš„å‰©ä½™å†…å­˜ï¼Œè¿™ç§æƒ…å†µä¸‹ ä¼šå‘ç”ŸFull GCï¼‰ï¼ŒMajor GCçš„é€Ÿåº¦ä¸€èˆ¬ä¼šæ¯”Minor GCçš„æ…¢10å€ä»¥ä¸Šã€‚\né»˜è®¤æƒ…å†µä¸‹ æ–°ç”Ÿä»£å’Œè€å¹´ä»£çš„å †ç©ºé—´çš„åˆ†å¸ƒæƒ…å†µ\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190228151004551.png)\næ³¨æ„ï¼šè™šæ‹Ÿæœºæ¯æ¬¡åªä¼šä½¿ç”¨ Eden å’Œå…¶ä¸­çš„ä¸€å— Survivor åŒºåŸŸæ¥ä¸ºå¯¹è±¡æœåŠ¡ï¼Œæ‰€ä»¥æ— è®ºä»€ä¹ˆæ—¶å€™ï¼Œæ€»æ˜¯æœ‰ä¸€å— Survivor åŒºåŸŸæ˜¯ç©ºé—²ç€çš„ã€‚ å› æ­¤ï¼Œæ–°ç”Ÿä»£å®é™…å¯ç”¨çš„å†…å­˜ç©ºé—´ä¸º90%çš„æ–°ç”Ÿä»£ç©ºé—´ã€‚\nå¤§æ•°æ®ï¼ˆæ•°ç»„å’Œå­—ç¬¦ä¸²ã€å­—ç¬¦æ•°ç»„ã€‘ ï¼‰ç›´æ¥è¢«å­˜æ”¾åœ¨è€å¹´ä»£ä¸­ï¼ŒåŸå› æ˜¯ï¼ˆä¸ºäº†é¿å…ä¸ºå¤§å¯¹è±¡åˆ†é…å†…å­˜æ—¶ç”±äºåˆ†é…æ‹…ä¿æœºåˆ¶å¸¦æ¥çš„å¤åˆ¶è€Œé™ä½æ•ˆç‡ï¼‰\n* é•¿æœŸå­˜æ´»çš„å¯¹è±¡è¿›å…¥è€å¹´ä»£\næ¯æ¬¡è¿›è¡Œåƒåœ¾å›æ”¶å­˜æ´»ä¸‹æ¥çš„å¯¹è±¡å¹´é¾„éƒ½ä¼šåŠ ä¸€å²ï¼Œç­‰è¾¾åˆ°ä¸€å®šç¨‹åº¦åè¯¥å¯¹è±¡å°±ä¼šè¿›è¡Œè€å¹´ä»£ã€‚å…·ä½“è®¾ç½®å¹´é¾„é˜ˆå€¼ï¼Œé€šè¿‡å‚æ•° -XX:MaxTenuringThreshold æ¥è®¾ç½®ã€‚\n* åŠ¨æ€å¯¹è±¡å¹´é¾„åˆ¤å®š\næœ‰ä¸€ç§æƒ…å†µå½“ç›¸åŒå¹´é¾„çš„å¯¹è±¡æ€»å’Œå¤§äºSurvivor ç©ºé—´çš„ä¸€åŠæ—¶ï¼Œå¹´é¾„å¤§äºæˆ–ç­‰äºè¯¥å€¼çš„å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£\n# 6. åƒåœ¾å›æ”¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿä¼˜ç¼ºç‚¹ï¼Ÿ\n* æ ‡è®° - æ¸…é™¤ç®—æ³•\næ ‡è®°éœ€è¦å›æ”¶çš„å¯¹è±¡ï¼Œæ ‡è®°å®Œæˆååœ¨åƒåœ¾å›æ”¶å™¨ç»Ÿä¸€æ”¶é›†é‚£äº›è¢«æ ‡è®°çš„å¯¹è±¡ã€‚\nç¼ºç‚¹ï¼š\n  * æ•ˆç‡ä¸é«˜ï¼šæ ‡è®°å’Œæ¸…é™¤è¿‡ç¨‹æ•ˆç‡ä¸é«˜ï¼Œä¸»è¦åŸå› æ˜¯æ ‡è®°çš„å¯¹è±¡åˆ†å¸ƒä¸å‡åŒ€\n  * ç©ºé—´é—®é¢˜ï¼šæ¸…é™¤åäº§ç”Ÿå¤§é‡å†…å­˜ç¢ç‰‡ï¼Œå¯¼è‡´ä»¥åç¨‹åºä¸èƒ½ç»™å¤§å¯¹è±¡åˆ†é…è¿ç»­çš„å†…å­˜ç©ºé—´\n* å¤åˆ¶ç®—æ³•\nå°†å†…å­˜åˆ†æˆä¸¤å—å®¹é‡å¤§å°ç›¸åŒåŒºåŸŸï¼Œå½“ä¸€å—åŒºåŸŸå†…å­˜ç”¨å®Œåï¼Œç»è¿‡GCä¹‹åå¹¸å­˜çš„å¯¹è±¡å°†å¤åˆ¶åˆ°å¦å¤–ä¸€ä¸ªåŒºåŸŸä¸­ï¼Œå‰©ä½™çš„å†…å­˜ç©ºé—´ä¸€æ¬¡æ¸…é™¤å³å¯ï¼Œä¸ç®¡ä»€ä¹ˆæ—¶åˆ»æ€»æœ‰ä¸€å—åŒºåŸŸæ˜¯ç©ºé—²çš„ã€‚\n\t* æ•ˆç‡é«˜ï¼šæ¯æ¬¡åªéœ€è¦å›æ”¶å¤åˆ¶åå‰©ä½™çš„å†…å­˜ï¼Œè¿™æ ·ä¹Ÿä¸ä¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡çš„é—®é¢˜ï¼Œç§»åŠ¨å¯¹é¡¶æŒ‡é’ˆï¼ŒæŒ‰é¡ºåºåˆ†é…å†…å­˜å³å¯ï¼Œå®ç°ç®€å•ï¼Œè¿è¡Œé«˜æ•ˆï¼Œä½†æ˜¯å¦‚æœå­˜æ´»ç‡è¾ƒé«˜çš„æƒ…å†µï¼Œå¤åˆ¶ç®—æ³•çš„æ•ˆç‡ä¹Ÿä¼šéšç€ä¸‹é™\n\t* æˆæœ¬é«˜ï¼šæ—¶åˆ»ä¿è¯æœ‰ä¸€å—åŒºåŸŸæ˜¯ç©ºé—²çš„ï¼Œè¿™æ ·å¯¼è‡´æ–°ç”Ÿä»£æœ‰10%çš„å†…å­˜æ˜¯æµªè´¹çš„ã€‚ç”±äº Eden : from : to = 8:1:1\n\t![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190307141705245.png)\n* æ ‡è®°-æ•´ç†ç®—æ³•\nè·Ÿä¸Šè¿°è¯´çš„æ ‡è®°-æ¸…é™¤ç®—æ³•å¾ˆç±»ä¼¼ï¼Œä½†æ˜¯åç»­æ­¥éª¤ä¸æ˜¯å¯¹å¯å›æ”¶çš„å¯¹è±¡ç›´æ¥å›æ”¶ï¼Œè€Œæ˜¯è®©è¿™ä¸€éƒ¨åˆ†æ ‡è®°çš„å¯¹è±¡éƒ½å‘ä¸€ç«¯ç§»åŠ¨ï¼Œæœ€ç»ˆæ¸…é™¤é è¿‘ç«¯è¾¹çš„å†…å­˜ï¼Œè¿™æ ·å¥½å¤„å‡å°‘å†…å­˜ç¢ç‰‡çš„äº§ç”Ÿã€‚\nç¼ºç‚¹ï¼šå®ç°èµ·æ¥å¤æ‚ï¼Œæ‰§è¡Œæ­¥éª¤è¾ƒå¤š\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190307142226586.png)\n* åˆ†ä»£æ”¶é›†ç®—æ³•\nç›®å‰å¾ˆå¤šè™šæ‹Ÿæœºçš„åƒåœ¾å›æ”¶å™¨éƒ½é‡‡ç”¨åˆ†ä»£æ”¶é›†ç®—æ³•ï¼Œä¸»è¦åŸå› åˆ†ä»£å›æ”¶èƒ½æ ¹æ®å¯¹è±¡çš„ç”Ÿå­˜å‘¨æœŸè¿›è¡Œå†…å­˜åˆ’åˆ†ï¼Œä¸»è¦åˆ†æ–°ç”Ÿä»£å’Œè€å¹´ä»£å¹¶æ ¹æ®æ¯ä¸ªå¹´ä»£çš„ç‰¹ç‚¹é‡‡ç”¨ä¸åŒçš„å›æ”¶ç®—æ³•ï¼Œä½¿å†…å­˜å›æ”¶æ›´åŠ é«˜æ•ˆã€‚ç”±äºæ–°ç”Ÿä»£ï¼Œæ¯æ¬¡åƒåœ¾å›æ”¶éƒ½æœ‰å¤§ç‰‡å¯¹è±¡æ­»äº¡ï¼Œåªæœ‰å°‘æ•°å¯¹è±¡å­˜æ´»è¿™æ ·æˆ‘ä»¬ä½¿ç”¨å¤åˆ¶ç®—æ³•ã€‚è€å¹´ä»£æ¯æ¬¡åƒåœ¾å›æ”¶åªæœ‰å°‘é‡å¯¹è±¡æ­»äº¡ï¼Œæ•´ä½“å­˜æ´»ç‡è¾ƒé«˜ï¼Œæ²¡æœ‰é¢å¤–çš„å†…å­˜å¯¹å®ƒè¿›è¡Œåˆ†é…ï¼Œæ‰€ä»¥é‡‡ç”¨æ ‡è®°-æ•´ç†ç®—æ³•æˆ–æ ‡è®°-æ¸…é™¤ç®—æ³•\n# 7.åƒåœ¾å›æ”¶å™¨æœ‰å“ªäº›ï¼Ÿ\n* Serial æ”¶é›†å™¨\nå•çº¿ç¨‹è¿›è¡Œåƒåœ¾å›æ”¶å·¥ä½œï¼Œåœ¨æ”¶é›†è¿‡ç¨‹ä¸­ï¼Œå¿…é¡»åœæ­¢å…¶ä»–æ‰€æœ‰çš„å·¥ä½œçº¿ç¨‹ï¼Œç›´åˆ°å›æ”¶ç»“æŸå…¶ä»–å·¥ä½œçº¿ç¨‹æ‰èƒ½ç»§ç»­å·¥ä½œã€‚\nç®—æ³•ï¼šå¤åˆ¶ç®—æ³•\n* ParNew æ”¶é›†å™¨\nå¯¹ä¸Šè¿°æ”¶é›†å™¨è¿›è¡Œè¡¥å……ï¼Œé‡‡ç”¨å¤šçº¿ç¨‹å¯¹åƒåœ¾è¿›è¡Œå›æ”¶ï¼Œè¿™æ ·ç›¸æ¯”å•çº¿ç¨‹æ•´ä½“çš„æ•ˆç‡å¾—åˆ°æé«˜ã€‚\nç®—æ³•ï¼šå¤åˆ¶ç®—æ³•\n* Parallel Scavenge æ”¶é›†å™¨\nå’Œä¸Šè¿°æ”¶é›†å™¨ä¸åŒçš„æ˜¯ï¼ŒParallel Scavenge å…³æ³¨ç‚¹ä¸»è¦æ˜¯è¾¾åˆ°ä¸€ä¸ªå¯æ§åˆ¶çš„ååé‡ã€‚æ‰€è°“çš„ååé‡å°±æ˜¯CPU ç”¨äºè¿è¡Œä»£ç çš„æ—¶é—´ä¸CPUæ€»æ¶ˆè€—æ—¶é—´çš„æ¯”å€¼ï¼Œååé‡ = è¿è¡Œä»£ç çš„æ—¶é—´/(è¿è¡Œä»£ç çš„æ—¶é—´ +åƒåœ¾å›æ”¶çš„æ—¶é—´)ï¼Œååé‡è¶Šé«˜ï¼Œåˆ™ç›¸å¯¹çš„åƒåœ¾å›æ”¶æ—¶é—´é™ä½ã€‚é‚£å¹³æ—¶æˆ‘ä»¬å¦‚ä½•æ§åˆ¶ååé‡å‘¢ï¼ŒParallel Scavengeç»™äº†æˆ‘ä»¬ä¸¤ä¸ªå‚æ•°æ¥æ§åˆ¶ååé‡ æœ€å¤§åƒåœ¾æ”¶é›†åœé¡¿æ—¶é—´ -XXï¼šMaxGCPauseMillis å’Œ è®¾ç½®ååé‡å¤§å° -XX:GCTimeRatio å‚æ•°ï¼Œå…·ä½“å‚è€ƒ [æ·±å…¥ç†è§£Javaè™šæ‹Ÿå™¨]()\nç®—æ³•ï¼šå¤åˆ¶ç®—æ³•\n* Serial old æ”¶é›†å™¨\nä¸»è¦ç”¨äºè€å¹´ä»£çš„åƒåœ¾å›æ”¶ï¼Œé‡‡ç”¨å•çº¿ç¨‹è¿›è¡Œåƒåœ¾å›æ”¶ã€‚\nç®—æ³•ï¼šæ ‡è®°-æ•´ç†\n* Parallel old æ”¶é›†å™¨\nä¸»è¦ç”¨äºè€å¹´ä»£çš„åƒåœ¾å›æ”¶ï¼Œé‡‡ç”¨å¤šçº¿ç¨‹è¿›è¡Œåƒåœ¾å›æ”¶ã€‚å’Œ Parallel Scavenge æ”¶é›†å™¨ä¸€æ ·ï¼Œ Parallel old å…³æ³¨ç‚¹ä¹Ÿæ˜¯ååé‡\nç®—æ³•ï¼šæ ‡è®°-æ•´ç†\n* cms æ”¶é›†å™¨\nCMS æ”¶é›†å™¨æ˜¯ä¸€ç§ä»¥è·å–æœ€çŸ­å›æ”¶åœé¡¿æ—¶é—´ä¸ºç›®æ ‡çš„æ”¶é›†å™¨ï¼ŒåŸºäºæ ‡è®°-æ¸…é™¤ç®—æ³•å®ç°ï¼Œå…·ä½“åŒ…æ‹¬å››ä¸ªæ­¥éª¤ï¼š\n\t* åˆå§‹åŒ–æ ‡è®°\n\t* å¹¶å‘æ ‡è®°\n\t* é‡æ–°æ ‡è®°\n\t* å¹¶å‘æ¸…é™¤\næ•´ä½“æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190307151001702.png)\nä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œé™¤äº†åˆå§‹æ ‡è®°å’Œé‡æ–°æ ‡è®°éœ€è¦â€œStop The Worldâ€,å…¶ä½™éƒ½æ˜¯å¯ä»¥å’Œç”¨æˆ·çº¿ç¨‹ä¸€èµ·æ‰§è¡Œçš„ã€‚\nç¼ºç‚¹ï¼š\n   * å¯¹CPU èµ„æºéå¸¸æ•æ„Ÿ\n   * æ— æ³•å¤„ç†æµ®åŠ¨åƒåœ¾ï¼Œç”±äºæ¸…é™¤è¿‡ç¨‹ä¼´éšç€ç”¨æˆ·çº¿ç¨‹ï¼Œç”¨æˆ·çº¿ç¨‹äº§ç”Ÿçš„æ–°åƒåœ¾åœ¨æ ‡è®°è¿‡åï¼ŒCMS æ— æ³•åœ¨å½“æ¬¡æ”¶é›†ä¸­å¤„ç†å®ƒä»¬ï¼Œç•™ç»™ä¸‹æ¬¡GCå†è¿›è¡Œå¤„ç†ï¼Œè¿™éƒ¨åˆ†åƒåœ¾å°±å«åšæµ®åŠ¨åƒåœ¾\n   * ç”±äºé‡‡ç”¨ æ ‡è®°-æ¸…é™¤ç®—æ³•ä¼šäº§ç”Ÿå¤§é‡å†…å­˜ç¢ç‰‡\n* G1 æ”¶é›†å™¨\nG1 æ˜¯å½“ä»Šæ”¶é›†å™¨æŠ€æœ¯ä¸­çš„æœ€å‰æ²¿æŠ€æœ¯ï¼Œç›¸æ¯”å…¶ä»–æ”¶é›†å™¨å®ƒå…·æœ‰å‡ ä¸ªç‰¹ç‚¹ï¼š\n\t* å¹¶è¡Œä¸å¹¶å‘\n\t* åˆ†ä»£æ”¶é›†\n\t* ç©ºé—´æ•´ç†\n\t* å¯é¢„æµ‹çš„åœé¡¿\n\nç®—æ³•ï¼šå¤åˆ¶ç®—æ³•å’Œæ ‡è®°-æ•´ç†ç®—æ³•\n\n\nå‚è€ƒæ–‡æ¡£\n\t[æ·±å…¥ç†è§£Javaè™šæ‹Ÿå™¨]()\n\t[Javaé¢è¯•é€šå…³æ‰‹å†Œ](https://github.com/Snailclimb/JavaGuide/blob/master/Java%E7%9B%B8%E5%85%B3/Java%E8%99%9A%E6%8B%9F%E6%9C%BA%EF%BC%88jvm%EF%BC%89.md)\n\n","source":"_posts/jvm-é¢è¯•é—®é¢˜æ€»ç»“-ä¸€.md","raw":"---\ntitle: jvm é¢è¯•é—®é¢˜æ€»ç»“(ä¸€)\ndate: 2019-03-15 09:49:26\ntags:\n- JVM\n---\n\n\n# 1.java 8 å°† jvm ä¸­ æ°¸ä¹…ä»£å»é™¤å¸¦æ¥çš„å¥½å¤„ï¼Ÿ\n* å…ƒç©ºé—´å­˜æ”¾åœ¨æœ¬åœ°å†…å­˜ä¸­é¿å…ä¹‹å‰ä½¿ç”¨æ°¸ä¹…ä»£å‡ºç°å†…å­˜æº¢å‡ºçš„é—®é¢˜ã€‚\n* ç±»åŠæ–¹æ³•çš„ä¿¡æ¯ç­‰æ¯”è¾ƒéš¾ç¡®å®šå…¶å¤§å°ï¼Œå› æ­¤å¯¹äºæ°¸ä¹…ä»£çš„å¤§å°æŒ‡å®šæ¯”è¾ƒå›°éš¾ï¼Œå¤ªå°å®¹æ˜“å‡ºç°æ°¸ä¹…ä»£æº¢å‡ºï¼Œå¤ªå¤§åˆ™å®¹æ˜“å¯¼è‡´è€å¹´ä»£æº¢å‡ºã€‚\n* æ°¸ä¹…ä»£ä¼šé€šè¿‡ full GC è¿›è¡Œå›æ”¶ï¼Œè¿™ç§æ“ä½œå¤æ‚åº¦è¾ƒé«˜ï¼Œå›æ”¶æ•ˆç‡åä½ã€‚\n# 2.å¦‚ä½•åˆ¤æ–­å¯¹è±¡æ­»äº¡ï¼Œæœ‰å“ªä¸¤ç§æ–¹æ³•ï¼Ÿ\n1. å¼•ç”¨è®¡æ•°æ³•ï¼š\nå½“è¯¥å¯¹è±¡è¢«å¼•ç”¨æ—¶ï¼Œè®¡æ•°å™¨å°±åŠ 1ï¼›å½“å¼•ç”¨å¤±æ•ˆï¼Œè®¡æ•°å™¨å°±å‡1ï¼›ä»»ä½•æ—¶å€™è®¡æ•°å™¨ä¸º0çš„å¯¹è±¡å°±æ˜¯ä¸å¯èƒ½å†è¢«ä½¿ç”¨çš„ã€‚\nç¼ºç‚¹ï¼šè¿™ä¸ªæ–¹æ³•å®ç°ç®€å•ï¼Œæ•ˆç‡é«˜ï¼Œä½†æ˜¯ç›®å‰ä¸»æµçš„è™šæ‹Ÿæœºä¸­å¹¶æ²¡æœ‰é€‰æ‹©è¿™ä¸ªç®—æ³•æ¥ç®¡ç†å†…å­˜ï¼Œå…¶æœ€ä¸»è¦çš„åŸå› æ˜¯å®ƒå¾ˆéš¾è§£å†³å¯¹è±¡ä¹‹é—´ç›¸äº’å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚ æ‰€è°“å¯¹è±¡ä¹‹é—´çš„ç›¸äº’å¼•ç”¨é—®é¢˜ï¼Œå¦‚ä¸‹é¢ä»£ç æ‰€ç¤ºï¼šé™¤äº†å¯¹è±¡objA å’Œ objB ç›¸äº’å¼•ç”¨ç€å¯¹æ–¹ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´å†æ— ä»»ä½•å¼•ç”¨ã€‚ä½†æ˜¯ä»–ä»¬å› ä¸ºäº’ç›¸å¼•ç”¨å¯¹æ–¹ï¼Œå¯¼è‡´å®ƒä»¬çš„å¼•ç”¨è®¡æ•°å™¨éƒ½ä¸ä¸º0ï¼Œäºæ˜¯å¼•ç”¨è®¡æ•°ç®—æ³•æ— æ³•é€šçŸ¥ GC å›æ”¶å™¨å›æ”¶ä»–ä»¬ã€‚\n2. å¯è¾¾æ€§åˆ†æç®—æ³•ï¼š\né€šè¿‡ä¸€ç³»åˆ—â€œGC Rootsâ€ çš„å¯¹è±¡ä¸ºèµ·ç‚¹ï¼Œä»è¿™äº›èŠ‚ç‚¹å¼€å§‹å‘ä¸‹æœç´¢ï¼Œæœç´¢å¤šèµ°è¿‡çš„è·¯å¾„ç§°ä¸ºå¼•ç”¨é“¾ï¼Œå½“å¯¹è±¡åˆ°GC Rootsæ²¡æœ‰ä»»ä½•çš„å¼•ç”¨é“¾ç›¸è¿å°±åˆ¤æ–­è¯¥å¯¹è±¡å·²ç»å¤±æ•ˆã€‚\n# 3.å†è°ˆå¼•ç”¨ï¼š\n1. å¼ºå¼•ç”¨\n\t* æ¦‚è¿°ï¼šå¼ºå¼•ç”¨åœ¨ä»£ç ä¸­å¾ˆæ™®éï¼Œå¹³æ—¶æˆ‘ä»¬é€šè¿‡new å…³é”®å­—åˆ›å»ºçš„å¼•ç”¨éƒ½æ˜¯å¼ºå¼•ç”¨ï¼Œåªè¦å¼ºå¼•ç”¨å­˜åœ¨ï¼Œåƒåœ¾æ”¶é›†å™¨å°±ä¸ä¼šå›æ”¶å¼•ç”¨å¯¹è±¡å¼ºå¼•ç”¨åœ¨ä»£ç ä¸­å¾ˆæ™®éï¼Œå¹³æ—¶æˆ‘ä»¬é€šè¿‡new å…³é”®å­—åˆ›å»ºçš„å¼•ç”¨éƒ½æ˜¯å¼ºå¼•ç”¨ï¼Œåªè¦å¼ºå¼•ç”¨å­˜åœ¨ï¼Œåƒåœ¾æ”¶é›†å™¨å°±ä¸ä¼šå›æ”¶å¼•ç”¨å¯¹è±¡\n\t* å®ç°ï¼šé€šè¿‡new å…³é”®å­—åˆ›å»ºçš„å¼•ç”¨\n2. è½¯å¼•ç”¨\n\t* æ¦‚è¿°ï¼šæè¿°ä¸€äº›è¿˜æœ‰ç”¨ä½†æ˜¯å¹¶ä¸å¿…éœ€çš„å¯¹è±¡ï¼Œå¦‚æœå†…å­˜ç©ºé—´è¶³å¤Ÿï¼Œåƒåœ¾å›æ”¶å™¨å°±ä¸ä¼šå›æ”¶å®ƒï¼Œå¦‚æœå‘ç”Ÿå†…å­˜æº¢å‡ºä¹‹å‰ï¼Œåƒåœ¾å›æ”¶å™¨å°†è¿™äº›å¯¹è±¡åˆ—è¿›å›æ”¶èŒƒå›´ä¹‹ä¸­è¿›è¡Œç¬¬äºŒæ¬¡å›æ”¶ã€‚å¦‚æœè¿™æ¬¡å›æ”¶è¿˜æ˜¯æ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜ï¼Œå°±ä¼šå‘ç”Ÿå†…å­˜æº¢å‡ºã€‚\n\t* ç”¨é€”ï¼šè½¯å¼•ç”¨å¯ç”¨æ¥å®ç°å†…å­˜æ•æ„Ÿçš„é«˜é€Ÿç¼“å­˜ã€‚\n\t* å®ç°ï¼šJdk æä¾› SoftReference ç±»æ¥å®ç°è½¯å¼•ç”¨ã€‚\n3. å¼±å¼•ç”¨\n   * æ¦‚è¿°ï¼šéå¿…è¦å¯¹è±¡ï¼Œå½“GCå‘ç”Ÿå°±ä¼šè¢«å›æ”¶ï¼Œç”Ÿå‘½å‘¨æœŸå¾ˆçŸ­æš‚\n   * å®ç°ï¼šJdk æä¾› WeakReference ç±»æ¥å®ç°å¼±å¼•ç”¨ã€‚\n   **æ³¨æ„ï¼šç”±äºåƒåœ¾å›æ”¶å™¨æ˜¯ä¸€ä¸ªä¼˜å…ˆçº§å¾ˆä½çš„çº¿ç¨‹ï¼Œ å› æ­¤ä¸ä¸€å®šä¼šå¾ˆå¿«å‘ç°é‚£äº›åªå…·æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡**\n4. è™šå¼•ç”¨\n\t* æ¦‚è¿°ï¼šä¸å…¶ä»–å‡ ç§å¼•ç”¨éƒ½ä¸åŒï¼Œè™šå¼•ç”¨å®Œå…¨ä¸ä¼šå¯¹å…¶ç”Ÿå­˜æ—¶é—´æ„æˆå½±å“ï¼Œä¹Ÿæ— æ³•é€šè¿‡è™šå¼•ç”¨æ¥å–å¾—ä¸€ä¸ªå¯¹è±¡å®ä¾‹ã€‚\n\t* ç”¨é€”ï¼šä½¿å¯¹è±¡è¢«æ”¶é›†å™¨å›æ”¶æ—¶æ”¶åˆ°ä¸€ä¸ªç³»ç»Ÿé€šçŸ¥ã€‚\n\t* å®ç°ï¼šJdk æä¾› PhantomkReference ç±»æ¥å®ç°è™šå¼•ç”¨ã€‚\n5. å¼±å¼•ç”¨å’Œè½¯å¼•ç”¨çš„åŒºåˆ«\nåªå…·æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡æ‹¥æœ‰æ›´çŸ­æš‚çš„ç”Ÿå‘½å‘¨æœŸã€‚åœ¨åƒåœ¾å›æ”¶å™¨çº¿ç¨‹æ‰«æå®ƒ æ‰€ç®¡è¾–çš„å†…å­˜åŒºåŸŸçš„è¿‡ç¨‹ä¸­ï¼Œä¸€æ—¦å‘ç°äº†åªå…·æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡ï¼Œä¸ç®¡å½“å‰å†…å­˜ç©ºé—´è¶³å¤Ÿä¸å¦ï¼Œéƒ½ä¼šå›æ”¶æ‰åªè¢«å¼±å¼•ç”¨å…³è”çš„å¯¹è±¡ã€‚\n# 4.HotSpotä¸ºä»€ä¹ˆè¦åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Ÿ\nä¸€èˆ¬å°†javaå †åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ ¹æ®å„ä¸ªå¹´ä»£çš„ç‰¹ç‚¹é€‰æ‹©åˆé€‚çš„åƒåœ¾æ”¶é›†ç®—æ³•ã€‚\n* æ–°ç”Ÿä»£ï¼šæ¯æ¬¡æ”¶é›†éƒ½ä¼šæœ‰å¤§é‡å¯¹è±¡æ­»å»ï¼Œæ‰€ä»¥å¯ä»¥é€‰æ‹©å¤åˆ¶ç®—æ³•\n* è€å¹´ä»£ï¼šå¯¹è±¡å­˜æ´»å‡ ç‡æ˜¯æ¯”è¾ƒé«˜çš„ï¼Œè€Œä¸”æ²¡æœ‰é¢å¤–çš„ç©ºé—´å¯¹å®ƒè¿›è¡Œåˆ†é…æ‹…ä¿ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»é€‰æ‹©â€œæ ‡è®°-æ¸…é™¤â€æˆ–â€œæ ‡è®°-æ•´ç†â€ç®—æ³•è¿›è¡Œåƒåœ¾æ”¶é›†\n# 5.Minor GCå’ŒFull GC åˆ†åˆ«æŒ‡ä»€ä¹ˆï¼Ÿ\n* æ–°ç”Ÿä»£ï¼ˆMinor GCï¼‰:æŒ‡æ–°ç”Ÿä»£çš„åƒåœ¾æ”¶é›†ï¼Œæ‰§è¡Œæ“ä½œé¢‘ç¹ï¼Œå›æ”¶é€Ÿåº¦è¾ƒå¿«ã€‚\n* è€å¹´ä»£ï¼ˆMajor GC/Full GCï¼‰:æŒ‡å‘ç”Ÿè€å¹´ä»£çš„åƒåœ¾å›æ”¶ï¼Œå‡ºç°Major GCç»å¸¸ä¼šä¼´éšä¸€æ¬¡Minor GC ï¼ˆå¹¶éç»å¯¹ï¼Œåªæœ‰å½“å‘ç”ŸMajor GCæ—¶ æ™‹å‡åˆ°è€å¹´ä»£çš„å†…å­˜ å¤§äºè€å¹´ä»£çš„å‰©ä½™å†…å­˜ï¼Œè¿™ç§æƒ…å†µä¸‹ ä¼šå‘ç”ŸFull GCï¼‰ï¼ŒMajor GCçš„é€Ÿåº¦ä¸€èˆ¬ä¼šæ¯”Minor GCçš„æ…¢10å€ä»¥ä¸Šã€‚\né»˜è®¤æƒ…å†µä¸‹ æ–°ç”Ÿä»£å’Œè€å¹´ä»£çš„å †ç©ºé—´çš„åˆ†å¸ƒæƒ…å†µ\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190228151004551.png)\næ³¨æ„ï¼šè™šæ‹Ÿæœºæ¯æ¬¡åªä¼šä½¿ç”¨ Eden å’Œå…¶ä¸­çš„ä¸€å— Survivor åŒºåŸŸæ¥ä¸ºå¯¹è±¡æœåŠ¡ï¼Œæ‰€ä»¥æ— è®ºä»€ä¹ˆæ—¶å€™ï¼Œæ€»æ˜¯æœ‰ä¸€å— Survivor åŒºåŸŸæ˜¯ç©ºé—²ç€çš„ã€‚ å› æ­¤ï¼Œæ–°ç”Ÿä»£å®é™…å¯ç”¨çš„å†…å­˜ç©ºé—´ä¸º90%çš„æ–°ç”Ÿä»£ç©ºé—´ã€‚\nå¤§æ•°æ®ï¼ˆæ•°ç»„å’Œå­—ç¬¦ä¸²ã€å­—ç¬¦æ•°ç»„ã€‘ ï¼‰ç›´æ¥è¢«å­˜æ”¾åœ¨è€å¹´ä»£ä¸­ï¼ŒåŸå› æ˜¯ï¼ˆä¸ºäº†é¿å…ä¸ºå¤§å¯¹è±¡åˆ†é…å†…å­˜æ—¶ç”±äºåˆ†é…æ‹…ä¿æœºåˆ¶å¸¦æ¥çš„å¤åˆ¶è€Œé™ä½æ•ˆç‡ï¼‰\n* é•¿æœŸå­˜æ´»çš„å¯¹è±¡è¿›å…¥è€å¹´ä»£\næ¯æ¬¡è¿›è¡Œåƒåœ¾å›æ”¶å­˜æ´»ä¸‹æ¥çš„å¯¹è±¡å¹´é¾„éƒ½ä¼šåŠ ä¸€å²ï¼Œç­‰è¾¾åˆ°ä¸€å®šç¨‹åº¦åè¯¥å¯¹è±¡å°±ä¼šè¿›è¡Œè€å¹´ä»£ã€‚å…·ä½“è®¾ç½®å¹´é¾„é˜ˆå€¼ï¼Œé€šè¿‡å‚æ•° -XX:MaxTenuringThreshold æ¥è®¾ç½®ã€‚\n* åŠ¨æ€å¯¹è±¡å¹´é¾„åˆ¤å®š\næœ‰ä¸€ç§æƒ…å†µå½“ç›¸åŒå¹´é¾„çš„å¯¹è±¡æ€»å’Œå¤§äºSurvivor ç©ºé—´çš„ä¸€åŠæ—¶ï¼Œå¹´é¾„å¤§äºæˆ–ç­‰äºè¯¥å€¼çš„å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£\n# 6. åƒåœ¾å›æ”¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿä¼˜ç¼ºç‚¹ï¼Ÿ\n* æ ‡è®° - æ¸…é™¤ç®—æ³•\næ ‡è®°éœ€è¦å›æ”¶çš„å¯¹è±¡ï¼Œæ ‡è®°å®Œæˆååœ¨åƒåœ¾å›æ”¶å™¨ç»Ÿä¸€æ”¶é›†é‚£äº›è¢«æ ‡è®°çš„å¯¹è±¡ã€‚\nç¼ºç‚¹ï¼š\n  * æ•ˆç‡ä¸é«˜ï¼šæ ‡è®°å’Œæ¸…é™¤è¿‡ç¨‹æ•ˆç‡ä¸é«˜ï¼Œä¸»è¦åŸå› æ˜¯æ ‡è®°çš„å¯¹è±¡åˆ†å¸ƒä¸å‡åŒ€\n  * ç©ºé—´é—®é¢˜ï¼šæ¸…é™¤åäº§ç”Ÿå¤§é‡å†…å­˜ç¢ç‰‡ï¼Œå¯¼è‡´ä»¥åç¨‹åºä¸èƒ½ç»™å¤§å¯¹è±¡åˆ†é…è¿ç»­çš„å†…å­˜ç©ºé—´\n* å¤åˆ¶ç®—æ³•\nå°†å†…å­˜åˆ†æˆä¸¤å—å®¹é‡å¤§å°ç›¸åŒåŒºåŸŸï¼Œå½“ä¸€å—åŒºåŸŸå†…å­˜ç”¨å®Œåï¼Œç»è¿‡GCä¹‹åå¹¸å­˜çš„å¯¹è±¡å°†å¤åˆ¶åˆ°å¦å¤–ä¸€ä¸ªåŒºåŸŸä¸­ï¼Œå‰©ä½™çš„å†…å­˜ç©ºé—´ä¸€æ¬¡æ¸…é™¤å³å¯ï¼Œä¸ç®¡ä»€ä¹ˆæ—¶åˆ»æ€»æœ‰ä¸€å—åŒºåŸŸæ˜¯ç©ºé—²çš„ã€‚\n\t* æ•ˆç‡é«˜ï¼šæ¯æ¬¡åªéœ€è¦å›æ”¶å¤åˆ¶åå‰©ä½™çš„å†…å­˜ï¼Œè¿™æ ·ä¹Ÿä¸ä¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡çš„é—®é¢˜ï¼Œç§»åŠ¨å¯¹é¡¶æŒ‡é’ˆï¼ŒæŒ‰é¡ºåºåˆ†é…å†…å­˜å³å¯ï¼Œå®ç°ç®€å•ï¼Œè¿è¡Œé«˜æ•ˆï¼Œä½†æ˜¯å¦‚æœå­˜æ´»ç‡è¾ƒé«˜çš„æƒ…å†µï¼Œå¤åˆ¶ç®—æ³•çš„æ•ˆç‡ä¹Ÿä¼šéšç€ä¸‹é™\n\t* æˆæœ¬é«˜ï¼šæ—¶åˆ»ä¿è¯æœ‰ä¸€å—åŒºåŸŸæ˜¯ç©ºé—²çš„ï¼Œè¿™æ ·å¯¼è‡´æ–°ç”Ÿä»£æœ‰10%çš„å†…å­˜æ˜¯æµªè´¹çš„ã€‚ç”±äº Eden : from : to = 8:1:1\n\t![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190307141705245.png)\n* æ ‡è®°-æ•´ç†ç®—æ³•\nè·Ÿä¸Šè¿°è¯´çš„æ ‡è®°-æ¸…é™¤ç®—æ³•å¾ˆç±»ä¼¼ï¼Œä½†æ˜¯åç»­æ­¥éª¤ä¸æ˜¯å¯¹å¯å›æ”¶çš„å¯¹è±¡ç›´æ¥å›æ”¶ï¼Œè€Œæ˜¯è®©è¿™ä¸€éƒ¨åˆ†æ ‡è®°çš„å¯¹è±¡éƒ½å‘ä¸€ç«¯ç§»åŠ¨ï¼Œæœ€ç»ˆæ¸…é™¤é è¿‘ç«¯è¾¹çš„å†…å­˜ï¼Œè¿™æ ·å¥½å¤„å‡å°‘å†…å­˜ç¢ç‰‡çš„äº§ç”Ÿã€‚\nç¼ºç‚¹ï¼šå®ç°èµ·æ¥å¤æ‚ï¼Œæ‰§è¡Œæ­¥éª¤è¾ƒå¤š\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190307142226586.png)\n* åˆ†ä»£æ”¶é›†ç®—æ³•\nç›®å‰å¾ˆå¤šè™šæ‹Ÿæœºçš„åƒåœ¾å›æ”¶å™¨éƒ½é‡‡ç”¨åˆ†ä»£æ”¶é›†ç®—æ³•ï¼Œä¸»è¦åŸå› åˆ†ä»£å›æ”¶èƒ½æ ¹æ®å¯¹è±¡çš„ç”Ÿå­˜å‘¨æœŸè¿›è¡Œå†…å­˜åˆ’åˆ†ï¼Œä¸»è¦åˆ†æ–°ç”Ÿä»£å’Œè€å¹´ä»£å¹¶æ ¹æ®æ¯ä¸ªå¹´ä»£çš„ç‰¹ç‚¹é‡‡ç”¨ä¸åŒçš„å›æ”¶ç®—æ³•ï¼Œä½¿å†…å­˜å›æ”¶æ›´åŠ é«˜æ•ˆã€‚ç”±äºæ–°ç”Ÿä»£ï¼Œæ¯æ¬¡åƒåœ¾å›æ”¶éƒ½æœ‰å¤§ç‰‡å¯¹è±¡æ­»äº¡ï¼Œåªæœ‰å°‘æ•°å¯¹è±¡å­˜æ´»è¿™æ ·æˆ‘ä»¬ä½¿ç”¨å¤åˆ¶ç®—æ³•ã€‚è€å¹´ä»£æ¯æ¬¡åƒåœ¾å›æ”¶åªæœ‰å°‘é‡å¯¹è±¡æ­»äº¡ï¼Œæ•´ä½“å­˜æ´»ç‡è¾ƒé«˜ï¼Œæ²¡æœ‰é¢å¤–çš„å†…å­˜å¯¹å®ƒè¿›è¡Œåˆ†é…ï¼Œæ‰€ä»¥é‡‡ç”¨æ ‡è®°-æ•´ç†ç®—æ³•æˆ–æ ‡è®°-æ¸…é™¤ç®—æ³•\n# 7.åƒåœ¾å›æ”¶å™¨æœ‰å“ªäº›ï¼Ÿ\n* Serial æ”¶é›†å™¨\nå•çº¿ç¨‹è¿›è¡Œåƒåœ¾å›æ”¶å·¥ä½œï¼Œåœ¨æ”¶é›†è¿‡ç¨‹ä¸­ï¼Œå¿…é¡»åœæ­¢å…¶ä»–æ‰€æœ‰çš„å·¥ä½œçº¿ç¨‹ï¼Œç›´åˆ°å›æ”¶ç»“æŸå…¶ä»–å·¥ä½œçº¿ç¨‹æ‰èƒ½ç»§ç»­å·¥ä½œã€‚\nç®—æ³•ï¼šå¤åˆ¶ç®—æ³•\n* ParNew æ”¶é›†å™¨\nå¯¹ä¸Šè¿°æ”¶é›†å™¨è¿›è¡Œè¡¥å……ï¼Œé‡‡ç”¨å¤šçº¿ç¨‹å¯¹åƒåœ¾è¿›è¡Œå›æ”¶ï¼Œè¿™æ ·ç›¸æ¯”å•çº¿ç¨‹æ•´ä½“çš„æ•ˆç‡å¾—åˆ°æé«˜ã€‚\nç®—æ³•ï¼šå¤åˆ¶ç®—æ³•\n* Parallel Scavenge æ”¶é›†å™¨\nå’Œä¸Šè¿°æ”¶é›†å™¨ä¸åŒçš„æ˜¯ï¼ŒParallel Scavenge å…³æ³¨ç‚¹ä¸»è¦æ˜¯è¾¾åˆ°ä¸€ä¸ªå¯æ§åˆ¶çš„ååé‡ã€‚æ‰€è°“çš„ååé‡å°±æ˜¯CPU ç”¨äºè¿è¡Œä»£ç çš„æ—¶é—´ä¸CPUæ€»æ¶ˆè€—æ—¶é—´çš„æ¯”å€¼ï¼Œååé‡ = è¿è¡Œä»£ç çš„æ—¶é—´/(è¿è¡Œä»£ç çš„æ—¶é—´ +åƒåœ¾å›æ”¶çš„æ—¶é—´)ï¼Œååé‡è¶Šé«˜ï¼Œåˆ™ç›¸å¯¹çš„åƒåœ¾å›æ”¶æ—¶é—´é™ä½ã€‚é‚£å¹³æ—¶æˆ‘ä»¬å¦‚ä½•æ§åˆ¶ååé‡å‘¢ï¼ŒParallel Scavengeç»™äº†æˆ‘ä»¬ä¸¤ä¸ªå‚æ•°æ¥æ§åˆ¶ååé‡ æœ€å¤§åƒåœ¾æ”¶é›†åœé¡¿æ—¶é—´ -XXï¼šMaxGCPauseMillis å’Œ è®¾ç½®ååé‡å¤§å° -XX:GCTimeRatio å‚æ•°ï¼Œå…·ä½“å‚è€ƒ [æ·±å…¥ç†è§£Javaè™šæ‹Ÿå™¨]()\nç®—æ³•ï¼šå¤åˆ¶ç®—æ³•\n* Serial old æ”¶é›†å™¨\nä¸»è¦ç”¨äºè€å¹´ä»£çš„åƒåœ¾å›æ”¶ï¼Œé‡‡ç”¨å•çº¿ç¨‹è¿›è¡Œåƒåœ¾å›æ”¶ã€‚\nç®—æ³•ï¼šæ ‡è®°-æ•´ç†\n* Parallel old æ”¶é›†å™¨\nä¸»è¦ç”¨äºè€å¹´ä»£çš„åƒåœ¾å›æ”¶ï¼Œé‡‡ç”¨å¤šçº¿ç¨‹è¿›è¡Œåƒåœ¾å›æ”¶ã€‚å’Œ Parallel Scavenge æ”¶é›†å™¨ä¸€æ ·ï¼Œ Parallel old å…³æ³¨ç‚¹ä¹Ÿæ˜¯ååé‡\nç®—æ³•ï¼šæ ‡è®°-æ•´ç†\n* cms æ”¶é›†å™¨\nCMS æ”¶é›†å™¨æ˜¯ä¸€ç§ä»¥è·å–æœ€çŸ­å›æ”¶åœé¡¿æ—¶é—´ä¸ºç›®æ ‡çš„æ”¶é›†å™¨ï¼ŒåŸºäºæ ‡è®°-æ¸…é™¤ç®—æ³•å®ç°ï¼Œå…·ä½“åŒ…æ‹¬å››ä¸ªæ­¥éª¤ï¼š\n\t* åˆå§‹åŒ–æ ‡è®°\n\t* å¹¶å‘æ ‡è®°\n\t* é‡æ–°æ ‡è®°\n\t* å¹¶å‘æ¸…é™¤\næ•´ä½“æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190307151001702.png)\nä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œé™¤äº†åˆå§‹æ ‡è®°å’Œé‡æ–°æ ‡è®°éœ€è¦â€œStop The Worldâ€,å…¶ä½™éƒ½æ˜¯å¯ä»¥å’Œç”¨æˆ·çº¿ç¨‹ä¸€èµ·æ‰§è¡Œçš„ã€‚\nç¼ºç‚¹ï¼š\n   * å¯¹CPU èµ„æºéå¸¸æ•æ„Ÿ\n   * æ— æ³•å¤„ç†æµ®åŠ¨åƒåœ¾ï¼Œç”±äºæ¸…é™¤è¿‡ç¨‹ä¼´éšç€ç”¨æˆ·çº¿ç¨‹ï¼Œç”¨æˆ·çº¿ç¨‹äº§ç”Ÿçš„æ–°åƒåœ¾åœ¨æ ‡è®°è¿‡åï¼ŒCMS æ— æ³•åœ¨å½“æ¬¡æ”¶é›†ä¸­å¤„ç†å®ƒä»¬ï¼Œç•™ç»™ä¸‹æ¬¡GCå†è¿›è¡Œå¤„ç†ï¼Œè¿™éƒ¨åˆ†åƒåœ¾å°±å«åšæµ®åŠ¨åƒåœ¾\n   * ç”±äºé‡‡ç”¨ æ ‡è®°-æ¸…é™¤ç®—æ³•ä¼šäº§ç”Ÿå¤§é‡å†…å­˜ç¢ç‰‡\n* G1 æ”¶é›†å™¨\nG1 æ˜¯å½“ä»Šæ”¶é›†å™¨æŠ€æœ¯ä¸­çš„æœ€å‰æ²¿æŠ€æœ¯ï¼Œç›¸æ¯”å…¶ä»–æ”¶é›†å™¨å®ƒå…·æœ‰å‡ ä¸ªç‰¹ç‚¹ï¼š\n\t* å¹¶è¡Œä¸å¹¶å‘\n\t* åˆ†ä»£æ”¶é›†\n\t* ç©ºé—´æ•´ç†\n\t* å¯é¢„æµ‹çš„åœé¡¿\n\nç®—æ³•ï¼šå¤åˆ¶ç®—æ³•å’Œæ ‡è®°-æ•´ç†ç®—æ³•\n\n\nå‚è€ƒæ–‡æ¡£\n\t[æ·±å…¥ç†è§£Javaè™šæ‹Ÿå™¨]()\n\t[Javaé¢è¯•é€šå…³æ‰‹å†Œ](https://github.com/Snailclimb/JavaGuide/blob/master/Java%E7%9B%B8%E5%85%B3/Java%E8%99%9A%E6%8B%9F%E6%9C%BA%EF%BC%88jvm%EF%BC%89.md)\n\n","slug":"jvm-é¢è¯•é—®é¢˜æ€»ç»“-ä¸€","published":1,"updated":"2019-07-14T04:16:44.345Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkctuy00184osxij0d9u1v","content":"<h1 id=\"1-java-8-å°†-jvm-ä¸­-æ°¸ä¹…ä»£å»é™¤å¸¦æ¥çš„å¥½å¤„ï¼Ÿ\"><a href=\"#1-java-8-å°†-jvm-ä¸­-æ°¸ä¹…ä»£å»é™¤å¸¦æ¥çš„å¥½å¤„ï¼Ÿ\" class=\"headerlink\" title=\"1.java 8 å°† jvm ä¸­ æ°¸ä¹…ä»£å»é™¤å¸¦æ¥çš„å¥½å¤„ï¼Ÿ\"></a>1.java 8 å°† jvm ä¸­ æ°¸ä¹…ä»£å»é™¤å¸¦æ¥çš„å¥½å¤„ï¼Ÿ</h1><ul>\n<li>å…ƒç©ºé—´å­˜æ”¾åœ¨æœ¬åœ°å†…å­˜ä¸­é¿å…ä¹‹å‰ä½¿ç”¨æ°¸ä¹…ä»£å‡ºç°å†…å­˜æº¢å‡ºçš„é—®é¢˜ã€‚</li>\n<li>ç±»åŠæ–¹æ³•çš„ä¿¡æ¯ç­‰æ¯”è¾ƒéš¾ç¡®å®šå…¶å¤§å°ï¼Œå› æ­¤å¯¹äºæ°¸ä¹…ä»£çš„å¤§å°æŒ‡å®šæ¯”è¾ƒå›°éš¾ï¼Œå¤ªå°å®¹æ˜“å‡ºç°æ°¸ä¹…ä»£æº¢å‡ºï¼Œå¤ªå¤§åˆ™å®¹æ˜“å¯¼è‡´è€å¹´ä»£æº¢å‡ºã€‚</li>\n<li>æ°¸ä¹…ä»£ä¼šé€šè¿‡ full GC è¿›è¡Œå›æ”¶ï¼Œè¿™ç§æ“ä½œå¤æ‚åº¦è¾ƒé«˜ï¼Œå›æ”¶æ•ˆç‡åä½ã€‚<h1 id=\"2-å¦‚ä½•åˆ¤æ–­å¯¹è±¡æ­»äº¡ï¼Œæœ‰å“ªä¸¤ç§æ–¹æ³•ï¼Ÿ\"><a href=\"#2-å¦‚ä½•åˆ¤æ–­å¯¹è±¡æ­»äº¡ï¼Œæœ‰å“ªä¸¤ç§æ–¹æ³•ï¼Ÿ\" class=\"headerlink\" title=\"2.å¦‚ä½•åˆ¤æ–­å¯¹è±¡æ­»äº¡ï¼Œæœ‰å“ªä¸¤ç§æ–¹æ³•ï¼Ÿ\"></a>2.å¦‚ä½•åˆ¤æ–­å¯¹è±¡æ­»äº¡ï¼Œæœ‰å“ªä¸¤ç§æ–¹æ³•ï¼Ÿ</h1></li>\n</ul>\n<ol>\n<li>å¼•ç”¨è®¡æ•°æ³•ï¼š<br>å½“è¯¥å¯¹è±¡è¢«å¼•ç”¨æ—¶ï¼Œè®¡æ•°å™¨å°±åŠ 1ï¼›å½“å¼•ç”¨å¤±æ•ˆï¼Œè®¡æ•°å™¨å°±å‡1ï¼›ä»»ä½•æ—¶å€™è®¡æ•°å™¨ä¸º0çš„å¯¹è±¡å°±æ˜¯ä¸å¯èƒ½å†è¢«ä½¿ç”¨çš„ã€‚<br>ç¼ºç‚¹ï¼šè¿™ä¸ªæ–¹æ³•å®ç°ç®€å•ï¼Œæ•ˆç‡é«˜ï¼Œä½†æ˜¯ç›®å‰ä¸»æµçš„è™šæ‹Ÿæœºä¸­å¹¶æ²¡æœ‰é€‰æ‹©è¿™ä¸ªç®—æ³•æ¥ç®¡ç†å†…å­˜ï¼Œå…¶æœ€ä¸»è¦çš„åŸå› æ˜¯å®ƒå¾ˆéš¾è§£å†³å¯¹è±¡ä¹‹é—´ç›¸äº’å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚ æ‰€è°“å¯¹è±¡ä¹‹é—´çš„ç›¸äº’å¼•ç”¨é—®é¢˜ï¼Œå¦‚ä¸‹é¢ä»£ç æ‰€ç¤ºï¼šé™¤äº†å¯¹è±¡objA å’Œ objB ç›¸äº’å¼•ç”¨ç€å¯¹æ–¹ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´å†æ— ä»»ä½•å¼•ç”¨ã€‚ä½†æ˜¯ä»–ä»¬å› ä¸ºäº’ç›¸å¼•ç”¨å¯¹æ–¹ï¼Œå¯¼è‡´å®ƒä»¬çš„å¼•ç”¨è®¡æ•°å™¨éƒ½ä¸ä¸º0ï¼Œäºæ˜¯å¼•ç”¨è®¡æ•°ç®—æ³•æ— æ³•é€šçŸ¥ GC å›æ”¶å™¨å›æ”¶ä»–ä»¬ã€‚</li>\n<li>å¯è¾¾æ€§åˆ†æç®—æ³•ï¼š<br>é€šè¿‡ä¸€ç³»åˆ—â€œGC Rootsâ€ çš„å¯¹è±¡ä¸ºèµ·ç‚¹ï¼Œä»è¿™äº›èŠ‚ç‚¹å¼€å§‹å‘ä¸‹æœç´¢ï¼Œæœç´¢å¤šèµ°è¿‡çš„è·¯å¾„ç§°ä¸ºå¼•ç”¨é“¾ï¼Œå½“å¯¹è±¡åˆ°GC Rootsæ²¡æœ‰ä»»ä½•çš„å¼•ç”¨é“¾ç›¸è¿å°±åˆ¤æ–­è¯¥å¯¹è±¡å·²ç»å¤±æ•ˆã€‚<h1 id=\"3-å†è°ˆå¼•ç”¨ï¼š\"><a href=\"#3-å†è°ˆå¼•ç”¨ï¼š\" class=\"headerlink\" title=\"3.å†è°ˆå¼•ç”¨ï¼š\"></a>3.å†è°ˆå¼•ç”¨ï¼š</h1></li>\n<li>å¼ºå¼•ç”¨<ul>\n<li>æ¦‚è¿°ï¼šå¼ºå¼•ç”¨åœ¨ä»£ç ä¸­å¾ˆæ™®éï¼Œå¹³æ—¶æˆ‘ä»¬é€šè¿‡new å…³é”®å­—åˆ›å»ºçš„å¼•ç”¨éƒ½æ˜¯å¼ºå¼•ç”¨ï¼Œåªè¦å¼ºå¼•ç”¨å­˜åœ¨ï¼Œåƒåœ¾æ”¶é›†å™¨å°±ä¸ä¼šå›æ”¶å¼•ç”¨å¯¹è±¡å¼ºå¼•ç”¨åœ¨ä»£ç ä¸­å¾ˆæ™®éï¼Œå¹³æ—¶æˆ‘ä»¬é€šè¿‡new å…³é”®å­—åˆ›å»ºçš„å¼•ç”¨éƒ½æ˜¯å¼ºå¼•ç”¨ï¼Œåªè¦å¼ºå¼•ç”¨å­˜åœ¨ï¼Œåƒåœ¾æ”¶é›†å™¨å°±ä¸ä¼šå›æ”¶å¼•ç”¨å¯¹è±¡</li>\n<li>å®ç°ï¼šé€šè¿‡new å…³é”®å­—åˆ›å»ºçš„å¼•ç”¨</li>\n</ul>\n</li>\n<li>è½¯å¼•ç”¨<ul>\n<li>æ¦‚è¿°ï¼šæè¿°ä¸€äº›è¿˜æœ‰ç”¨ä½†æ˜¯å¹¶ä¸å¿…éœ€çš„å¯¹è±¡ï¼Œå¦‚æœå†…å­˜ç©ºé—´è¶³å¤Ÿï¼Œåƒåœ¾å›æ”¶å™¨å°±ä¸ä¼šå›æ”¶å®ƒï¼Œå¦‚æœå‘ç”Ÿå†…å­˜æº¢å‡ºä¹‹å‰ï¼Œåƒåœ¾å›æ”¶å™¨å°†è¿™äº›å¯¹è±¡åˆ—è¿›å›æ”¶èŒƒå›´ä¹‹ä¸­è¿›è¡Œç¬¬äºŒæ¬¡å›æ”¶ã€‚å¦‚æœè¿™æ¬¡å›æ”¶è¿˜æ˜¯æ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜ï¼Œå°±ä¼šå‘ç”Ÿå†…å­˜æº¢å‡ºã€‚</li>\n<li>ç”¨é€”ï¼šè½¯å¼•ç”¨å¯ç”¨æ¥å®ç°å†…å­˜æ•æ„Ÿçš„é«˜é€Ÿç¼“å­˜ã€‚</li>\n<li>å®ç°ï¼šJdk æä¾› SoftReference ç±»æ¥å®ç°è½¯å¼•ç”¨ã€‚</li>\n</ul>\n</li>\n<li>å¼±å¼•ç”¨<ul>\n<li>æ¦‚è¿°ï¼šéå¿…è¦å¯¹è±¡ï¼Œå½“GCå‘ç”Ÿå°±ä¼šè¢«å›æ”¶ï¼Œç”Ÿå‘½å‘¨æœŸå¾ˆçŸ­æš‚</li>\n<li>å®ç°ï¼šJdk æä¾› WeakReference ç±»æ¥å®ç°å¼±å¼•ç”¨ã€‚<br><strong>æ³¨æ„ï¼šç”±äºåƒåœ¾å›æ”¶å™¨æ˜¯ä¸€ä¸ªä¼˜å…ˆçº§å¾ˆä½çš„çº¿ç¨‹ï¼Œ å› æ­¤ä¸ä¸€å®šä¼šå¾ˆå¿«å‘ç°é‚£äº›åªå…·æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡</strong></li>\n</ul>\n</li>\n<li>è™šå¼•ç”¨<ul>\n<li>æ¦‚è¿°ï¼šä¸å…¶ä»–å‡ ç§å¼•ç”¨éƒ½ä¸åŒï¼Œè™šå¼•ç”¨å®Œå…¨ä¸ä¼šå¯¹å…¶ç”Ÿå­˜æ—¶é—´æ„æˆå½±å“ï¼Œä¹Ÿæ— æ³•é€šè¿‡è™šå¼•ç”¨æ¥å–å¾—ä¸€ä¸ªå¯¹è±¡å®ä¾‹ã€‚</li>\n<li>ç”¨é€”ï¼šä½¿å¯¹è±¡è¢«æ”¶é›†å™¨å›æ”¶æ—¶æ”¶åˆ°ä¸€ä¸ªç³»ç»Ÿé€šçŸ¥ã€‚</li>\n<li>å®ç°ï¼šJdk æä¾› PhantomkReference ç±»æ¥å®ç°è™šå¼•ç”¨ã€‚</li>\n</ul>\n</li>\n<li>å¼±å¼•ç”¨å’Œè½¯å¼•ç”¨çš„åŒºåˆ«<br>åªå…·æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡æ‹¥æœ‰æ›´çŸ­æš‚çš„ç”Ÿå‘½å‘¨æœŸã€‚åœ¨åƒåœ¾å›æ”¶å™¨çº¿ç¨‹æ‰«æå®ƒ æ‰€ç®¡è¾–çš„å†…å­˜åŒºåŸŸçš„è¿‡ç¨‹ä¸­ï¼Œä¸€æ—¦å‘ç°äº†åªå…·æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡ï¼Œä¸ç®¡å½“å‰å†…å­˜ç©ºé—´è¶³å¤Ÿä¸å¦ï¼Œéƒ½ä¼šå›æ”¶æ‰åªè¢«å¼±å¼•ç”¨å…³è”çš„å¯¹è±¡ã€‚<h1 id=\"4-HotSpotä¸ºä»€ä¹ˆè¦åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Ÿ\"><a href=\"#4-HotSpotä¸ºä»€ä¹ˆè¦åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Ÿ\" class=\"headerlink\" title=\"4.HotSpotä¸ºä»€ä¹ˆè¦åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Ÿ\"></a>4.HotSpotä¸ºä»€ä¹ˆè¦åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Ÿ</h1>ä¸€èˆ¬å°†javaå †åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ ¹æ®å„ä¸ªå¹´ä»£çš„ç‰¹ç‚¹é€‰æ‹©åˆé€‚çš„åƒåœ¾æ”¶é›†ç®—æ³•ã€‚</li>\n</ol>\n<ul>\n<li>æ–°ç”Ÿä»£ï¼šæ¯æ¬¡æ”¶é›†éƒ½ä¼šæœ‰å¤§é‡å¯¹è±¡æ­»å»ï¼Œæ‰€ä»¥å¯ä»¥é€‰æ‹©å¤åˆ¶ç®—æ³•</li>\n<li>è€å¹´ä»£ï¼šå¯¹è±¡å­˜æ´»å‡ ç‡æ˜¯æ¯”è¾ƒé«˜çš„ï¼Œè€Œä¸”æ²¡æœ‰é¢å¤–çš„ç©ºé—´å¯¹å®ƒè¿›è¡Œåˆ†é…æ‹…ä¿ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»é€‰æ‹©â€œæ ‡è®°-æ¸…é™¤â€æˆ–â€œæ ‡è®°-æ•´ç†â€ç®—æ³•è¿›è¡Œåƒåœ¾æ”¶é›†<h1 id=\"5-Minor-GCå’ŒFull-GC-åˆ†åˆ«æŒ‡ä»€ä¹ˆï¼Ÿ\"><a href=\"#5-Minor-GCå’ŒFull-GC-åˆ†åˆ«æŒ‡ä»€ä¹ˆï¼Ÿ\" class=\"headerlink\" title=\"5.Minor GCå’ŒFull GC åˆ†åˆ«æŒ‡ä»€ä¹ˆï¼Ÿ\"></a>5.Minor GCå’ŒFull GC åˆ†åˆ«æŒ‡ä»€ä¹ˆï¼Ÿ</h1></li>\n<li>æ–°ç”Ÿä»£ï¼ˆMinor GCï¼‰:æŒ‡æ–°ç”Ÿä»£çš„åƒåœ¾æ”¶é›†ï¼Œæ‰§è¡Œæ“ä½œé¢‘ç¹ï¼Œå›æ”¶é€Ÿåº¦è¾ƒå¿«ã€‚</li>\n<li>è€å¹´ä»£ï¼ˆMajor GC/Full GCï¼‰:æŒ‡å‘ç”Ÿè€å¹´ä»£çš„åƒåœ¾å›æ”¶ï¼Œå‡ºç°Major GCç»å¸¸ä¼šä¼´éšä¸€æ¬¡Minor GC ï¼ˆå¹¶éç»å¯¹ï¼Œåªæœ‰å½“å‘ç”ŸMajor GCæ—¶ æ™‹å‡åˆ°è€å¹´ä»£çš„å†…å­˜ å¤§äºè€å¹´ä»£çš„å‰©ä½™å†…å­˜ï¼Œè¿™ç§æƒ…å†µä¸‹ ä¼šå‘ç”ŸFull GCï¼‰ï¼ŒMajor GCçš„é€Ÿåº¦ä¸€èˆ¬ä¼šæ¯”Minor GCçš„æ…¢10å€ä»¥ä¸Šã€‚<br>é»˜è®¤æƒ…å†µä¸‹ æ–°ç”Ÿä»£å’Œè€å¹´ä»£çš„å †ç©ºé—´çš„åˆ†å¸ƒæƒ…å†µ<br><img src=\"https://img.mupaie.com/20190228151004551.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>æ³¨æ„ï¼šè™šæ‹Ÿæœºæ¯æ¬¡åªä¼šä½¿ç”¨ Eden å’Œå…¶ä¸­çš„ä¸€å— Survivor åŒºåŸŸæ¥ä¸ºå¯¹è±¡æœåŠ¡ï¼Œæ‰€ä»¥æ— è®ºä»€ä¹ˆæ—¶å€™ï¼Œæ€»æ˜¯æœ‰ä¸€å— Survivor åŒºåŸŸæ˜¯ç©ºé—²ç€çš„ã€‚ å› æ­¤ï¼Œæ–°ç”Ÿä»£å®é™…å¯ç”¨çš„å†…å­˜ç©ºé—´ä¸º90%çš„æ–°ç”Ÿä»£ç©ºé—´ã€‚<br>å¤§æ•°æ®ï¼ˆæ•°ç»„å’Œå­—ç¬¦ä¸²ã€å­—ç¬¦æ•°ç»„ã€‘ ï¼‰ç›´æ¥è¢«å­˜æ”¾åœ¨è€å¹´ä»£ä¸­ï¼ŒåŸå› æ˜¯ï¼ˆä¸ºäº†é¿å…ä¸ºå¤§å¯¹è±¡åˆ†é…å†…å­˜æ—¶ç”±äºåˆ†é…æ‹…ä¿æœºåˆ¶å¸¦æ¥çš„å¤åˆ¶è€Œé™ä½æ•ˆç‡ï¼‰</li>\n<li>é•¿æœŸå­˜æ´»çš„å¯¹è±¡è¿›å…¥è€å¹´ä»£<br>æ¯æ¬¡è¿›è¡Œåƒåœ¾å›æ”¶å­˜æ´»ä¸‹æ¥çš„å¯¹è±¡å¹´é¾„éƒ½ä¼šåŠ ä¸€å²ï¼Œç­‰è¾¾åˆ°ä¸€å®šç¨‹åº¦åè¯¥å¯¹è±¡å°±ä¼šè¿›è¡Œè€å¹´ä»£ã€‚å…·ä½“è®¾ç½®å¹´é¾„é˜ˆå€¼ï¼Œé€šè¿‡å‚æ•° -XX:MaxTenuringThreshold æ¥è®¾ç½®ã€‚</li>\n<li>åŠ¨æ€å¯¹è±¡å¹´é¾„åˆ¤å®š<br>æœ‰ä¸€ç§æƒ…å†µå½“ç›¸åŒå¹´é¾„çš„å¯¹è±¡æ€»å’Œå¤§äºSurvivor ç©ºé—´çš„ä¸€åŠæ—¶ï¼Œå¹´é¾„å¤§äºæˆ–ç­‰äºè¯¥å€¼çš„å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£<h1 id=\"6-åƒåœ¾å›æ”¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿä¼˜ç¼ºç‚¹ï¼Ÿ\"><a href=\"#6-åƒåœ¾å›æ”¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿä¼˜ç¼ºç‚¹ï¼Ÿ\" class=\"headerlink\" title=\"6. åƒåœ¾å›æ”¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿä¼˜ç¼ºç‚¹ï¼Ÿ\"></a>6. åƒåœ¾å›æ”¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿä¼˜ç¼ºç‚¹ï¼Ÿ</h1></li>\n<li>æ ‡è®° - æ¸…é™¤ç®—æ³•<br>æ ‡è®°éœ€è¦å›æ”¶çš„å¯¹è±¡ï¼Œæ ‡è®°å®Œæˆååœ¨åƒåœ¾å›æ”¶å™¨ç»Ÿä¸€æ”¶é›†é‚£äº›è¢«æ ‡è®°çš„å¯¹è±¡ã€‚<br>ç¼ºç‚¹ï¼š<ul>\n<li>æ•ˆç‡ä¸é«˜ï¼šæ ‡è®°å’Œæ¸…é™¤è¿‡ç¨‹æ•ˆç‡ä¸é«˜ï¼Œä¸»è¦åŸå› æ˜¯æ ‡è®°çš„å¯¹è±¡åˆ†å¸ƒä¸å‡åŒ€</li>\n<li>ç©ºé—´é—®é¢˜ï¼šæ¸…é™¤åäº§ç”Ÿå¤§é‡å†…å­˜ç¢ç‰‡ï¼Œå¯¼è‡´ä»¥åç¨‹åºä¸èƒ½ç»™å¤§å¯¹è±¡åˆ†é…è¿ç»­çš„å†…å­˜ç©ºé—´</li>\n</ul>\n</li>\n<li>å¤åˆ¶ç®—æ³•<br>å°†å†…å­˜åˆ†æˆä¸¤å—å®¹é‡å¤§å°ç›¸åŒåŒºåŸŸï¼Œå½“ä¸€å—åŒºåŸŸå†…å­˜ç”¨å®Œåï¼Œç»è¿‡GCä¹‹åå¹¸å­˜çš„å¯¹è±¡å°†å¤åˆ¶åˆ°å¦å¤–ä¸€ä¸ªåŒºåŸŸä¸­ï¼Œå‰©ä½™çš„å†…å­˜ç©ºé—´ä¸€æ¬¡æ¸…é™¤å³å¯ï¼Œä¸ç®¡ä»€ä¹ˆæ—¶åˆ»æ€»æœ‰ä¸€å—åŒºåŸŸæ˜¯ç©ºé—²çš„ã€‚<ul>\n<li>æ•ˆç‡é«˜ï¼šæ¯æ¬¡åªéœ€è¦å›æ”¶å¤åˆ¶åå‰©ä½™çš„å†…å­˜ï¼Œè¿™æ ·ä¹Ÿä¸ä¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡çš„é—®é¢˜ï¼Œç§»åŠ¨å¯¹é¡¶æŒ‡é’ˆï¼ŒæŒ‰é¡ºåºåˆ†é…å†…å­˜å³å¯ï¼Œå®ç°ç®€å•ï¼Œè¿è¡Œé«˜æ•ˆï¼Œä½†æ˜¯å¦‚æœå­˜æ´»ç‡è¾ƒé«˜çš„æƒ…å†µï¼Œå¤åˆ¶ç®—æ³•çš„æ•ˆç‡ä¹Ÿä¼šéšç€ä¸‹é™</li>\n<li>æˆæœ¬é«˜ï¼šæ—¶åˆ»ä¿è¯æœ‰ä¸€å—åŒºåŸŸæ˜¯ç©ºé—²çš„ï¼Œè¿™æ ·å¯¼è‡´æ–°ç”Ÿä»£æœ‰10%çš„å†…å­˜æ˜¯æµªè´¹çš„ã€‚ç”±äº Eden : from : to = 8:1:1<br><img src=\"https://img.mupaie.com/20190307141705245.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></li>\n</ul>\n</li>\n<li>æ ‡è®°-æ•´ç†ç®—æ³•<br>è·Ÿä¸Šè¿°è¯´çš„æ ‡è®°-æ¸…é™¤ç®—æ³•å¾ˆç±»ä¼¼ï¼Œä½†æ˜¯åç»­æ­¥éª¤ä¸æ˜¯å¯¹å¯å›æ”¶çš„å¯¹è±¡ç›´æ¥å›æ”¶ï¼Œè€Œæ˜¯è®©è¿™ä¸€éƒ¨åˆ†æ ‡è®°çš„å¯¹è±¡éƒ½å‘ä¸€ç«¯ç§»åŠ¨ï¼Œæœ€ç»ˆæ¸…é™¤é è¿‘ç«¯è¾¹çš„å†…å­˜ï¼Œè¿™æ ·å¥½å¤„å‡å°‘å†…å­˜ç¢ç‰‡çš„äº§ç”Ÿã€‚<br>ç¼ºç‚¹ï¼šå®ç°èµ·æ¥å¤æ‚ï¼Œæ‰§è¡Œæ­¥éª¤è¾ƒå¤š<br><img src=\"https://img.mupaie.com/20190307142226586.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></li>\n<li>åˆ†ä»£æ”¶é›†ç®—æ³•<br>ç›®å‰å¾ˆå¤šè™šæ‹Ÿæœºçš„åƒåœ¾å›æ”¶å™¨éƒ½é‡‡ç”¨åˆ†ä»£æ”¶é›†ç®—æ³•ï¼Œä¸»è¦åŸå› åˆ†ä»£å›æ”¶èƒ½æ ¹æ®å¯¹è±¡çš„ç”Ÿå­˜å‘¨æœŸè¿›è¡Œå†…å­˜åˆ’åˆ†ï¼Œä¸»è¦åˆ†æ–°ç”Ÿä»£å’Œè€å¹´ä»£å¹¶æ ¹æ®æ¯ä¸ªå¹´ä»£çš„ç‰¹ç‚¹é‡‡ç”¨ä¸åŒçš„å›æ”¶ç®—æ³•ï¼Œä½¿å†…å­˜å›æ”¶æ›´åŠ é«˜æ•ˆã€‚ç”±äºæ–°ç”Ÿä»£ï¼Œæ¯æ¬¡åƒåœ¾å›æ”¶éƒ½æœ‰å¤§ç‰‡å¯¹è±¡æ­»äº¡ï¼Œåªæœ‰å°‘æ•°å¯¹è±¡å­˜æ´»è¿™æ ·æˆ‘ä»¬ä½¿ç”¨å¤åˆ¶ç®—æ³•ã€‚è€å¹´ä»£æ¯æ¬¡åƒåœ¾å›æ”¶åªæœ‰å°‘é‡å¯¹è±¡æ­»äº¡ï¼Œæ•´ä½“å­˜æ´»ç‡è¾ƒé«˜ï¼Œæ²¡æœ‰é¢å¤–çš„å†…å­˜å¯¹å®ƒè¿›è¡Œåˆ†é…ï¼Œæ‰€ä»¥é‡‡ç”¨æ ‡è®°-æ•´ç†ç®—æ³•æˆ–æ ‡è®°-æ¸…é™¤ç®—æ³•<h1 id=\"7-åƒåœ¾å›æ”¶å™¨æœ‰å“ªäº›ï¼Ÿ\"><a href=\"#7-åƒåœ¾å›æ”¶å™¨æœ‰å“ªäº›ï¼Ÿ\" class=\"headerlink\" title=\"7.åƒåœ¾å›æ”¶å™¨æœ‰å“ªäº›ï¼Ÿ\"></a>7.åƒåœ¾å›æ”¶å™¨æœ‰å“ªäº›ï¼Ÿ</h1></li>\n<li>Serial æ”¶é›†å™¨<br>å•çº¿ç¨‹è¿›è¡Œåƒåœ¾å›æ”¶å·¥ä½œï¼Œåœ¨æ”¶é›†è¿‡ç¨‹ä¸­ï¼Œå¿…é¡»åœæ­¢å…¶ä»–æ‰€æœ‰çš„å·¥ä½œçº¿ç¨‹ï¼Œç›´åˆ°å›æ”¶ç»“æŸå…¶ä»–å·¥ä½œçº¿ç¨‹æ‰èƒ½ç»§ç»­å·¥ä½œã€‚<br>ç®—æ³•ï¼šå¤åˆ¶ç®—æ³•</li>\n<li>ParNew æ”¶é›†å™¨<br>å¯¹ä¸Šè¿°æ”¶é›†å™¨è¿›è¡Œè¡¥å……ï¼Œé‡‡ç”¨å¤šçº¿ç¨‹å¯¹åƒåœ¾è¿›è¡Œå›æ”¶ï¼Œè¿™æ ·ç›¸æ¯”å•çº¿ç¨‹æ•´ä½“çš„æ•ˆç‡å¾—åˆ°æé«˜ã€‚<br>ç®—æ³•ï¼šå¤åˆ¶ç®—æ³•</li>\n<li>Parallel Scavenge æ”¶é›†å™¨<br>å’Œä¸Šè¿°æ”¶é›†å™¨ä¸åŒçš„æ˜¯ï¼ŒParallel Scavenge å…³æ³¨ç‚¹ä¸»è¦æ˜¯è¾¾åˆ°ä¸€ä¸ªå¯æ§åˆ¶çš„ååé‡ã€‚æ‰€è°“çš„ååé‡å°±æ˜¯CPU ç”¨äºè¿è¡Œä»£ç çš„æ—¶é—´ä¸CPUæ€»æ¶ˆè€—æ—¶é—´çš„æ¯”å€¼ï¼Œååé‡ = è¿è¡Œä»£ç çš„æ—¶é—´/(è¿è¡Œä»£ç çš„æ—¶é—´ +åƒåœ¾å›æ”¶çš„æ—¶é—´)ï¼Œååé‡è¶Šé«˜ï¼Œåˆ™ç›¸å¯¹çš„åƒåœ¾å›æ”¶æ—¶é—´é™ä½ã€‚é‚£å¹³æ—¶æˆ‘ä»¬å¦‚ä½•æ§åˆ¶ååé‡å‘¢ï¼ŒParallel Scavengeç»™äº†æˆ‘ä»¬ä¸¤ä¸ªå‚æ•°æ¥æ§åˆ¶ååé‡ æœ€å¤§åƒåœ¾æ”¶é›†åœé¡¿æ—¶é—´ -XXï¼šMaxGCPauseMillis å’Œ è®¾ç½®ååé‡å¤§å° -XX:GCTimeRatio å‚æ•°ï¼Œå…·ä½“å‚è€ƒ <a href=\"\">æ·±å…¥ç†è§£Javaè™šæ‹Ÿå™¨</a><br>ç®—æ³•ï¼šå¤åˆ¶ç®—æ³•</li>\n<li>Serial old æ”¶é›†å™¨<br>ä¸»è¦ç”¨äºè€å¹´ä»£çš„åƒåœ¾å›æ”¶ï¼Œé‡‡ç”¨å•çº¿ç¨‹è¿›è¡Œåƒåœ¾å›æ”¶ã€‚<br>ç®—æ³•ï¼šæ ‡è®°-æ•´ç†</li>\n<li>Parallel old æ”¶é›†å™¨<br>ä¸»è¦ç”¨äºè€å¹´ä»£çš„åƒåœ¾å›æ”¶ï¼Œé‡‡ç”¨å¤šçº¿ç¨‹è¿›è¡Œåƒåœ¾å›æ”¶ã€‚å’Œ Parallel Scavenge æ”¶é›†å™¨ä¸€æ ·ï¼Œ Parallel old å…³æ³¨ç‚¹ä¹Ÿæ˜¯ååé‡<br>ç®—æ³•ï¼šæ ‡è®°-æ•´ç†</li>\n<li>cms æ”¶é›†å™¨<br>CMS æ”¶é›†å™¨æ˜¯ä¸€ç§ä»¥è·å–æœ€çŸ­å›æ”¶åœé¡¿æ—¶é—´ä¸ºç›®æ ‡çš„æ”¶é›†å™¨ï¼ŒåŸºäºæ ‡è®°-æ¸…é™¤ç®—æ³•å®ç°ï¼Œå…·ä½“åŒ…æ‹¬å››ä¸ªæ­¥éª¤ï¼š<ul>\n<li>åˆå§‹åŒ–æ ‡è®°</li>\n<li>å¹¶å‘æ ‡è®°</li>\n<li>é‡æ–°æ ‡è®°</li>\n<li>å¹¶å‘æ¸…é™¤<br>æ•´ä½“æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src=\"https://img.mupaie.com/20190307151001702.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œé™¤äº†åˆå§‹æ ‡è®°å’Œé‡æ–°æ ‡è®°éœ€è¦â€œStop The Worldâ€,å…¶ä½™éƒ½æ˜¯å¯ä»¥å’Œç”¨æˆ·çº¿ç¨‹ä¸€èµ·æ‰§è¡Œçš„ã€‚<br>ç¼ºç‚¹ï¼š<ul>\n<li>å¯¹CPU èµ„æºéå¸¸æ•æ„Ÿ</li>\n<li>æ— æ³•å¤„ç†æµ®åŠ¨åƒåœ¾ï¼Œç”±äºæ¸…é™¤è¿‡ç¨‹ä¼´éšç€ç”¨æˆ·çº¿ç¨‹ï¼Œç”¨æˆ·çº¿ç¨‹äº§ç”Ÿçš„æ–°åƒåœ¾åœ¨æ ‡è®°è¿‡åï¼ŒCMS æ— æ³•åœ¨å½“æ¬¡æ”¶é›†ä¸­å¤„ç†å®ƒä»¬ï¼Œç•™ç»™ä¸‹æ¬¡GCå†è¿›è¡Œå¤„ç†ï¼Œè¿™éƒ¨åˆ†åƒåœ¾å°±å«åšæµ®åŠ¨åƒåœ¾</li>\n<li>ç”±äºé‡‡ç”¨ æ ‡è®°-æ¸…é™¤ç®—æ³•ä¼šäº§ç”Ÿå¤§é‡å†…å­˜ç¢ç‰‡</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>G1 æ”¶é›†å™¨<br>G1 æ˜¯å½“ä»Šæ”¶é›†å™¨æŠ€æœ¯ä¸­çš„æœ€å‰æ²¿æŠ€æœ¯ï¼Œç›¸æ¯”å…¶ä»–æ”¶é›†å™¨å®ƒå…·æœ‰å‡ ä¸ªç‰¹ç‚¹ï¼š<ul>\n<li>å¹¶è¡Œä¸å¹¶å‘</li>\n<li>åˆ†ä»£æ”¶é›†</li>\n<li>ç©ºé—´æ•´ç†</li>\n<li>å¯é¢„æµ‹çš„åœé¡¿</li>\n</ul>\n</li>\n</ul>\n<p>ç®—æ³•ï¼šå¤åˆ¶ç®—æ³•å’Œæ ‡è®°-æ•´ç†ç®—æ³•</p>\n<p>å‚è€ƒæ–‡æ¡£<br>    <a href=\"\">æ·±å…¥ç†è§£Javaè™šæ‹Ÿå™¨</a><br>    <a href=\"https://github.com/Snailclimb/JavaGuide/blob/master/Java%E7%9B%B8%E5%85%B3/Java%E8%99%9A%E6%8B%9F%E6%9C%BA%EF%BC%88jvm%EF%BC%89.md\" target=\"_blank\" rel=\"noopener\">Javaé¢è¯•é€šå…³æ‰‹å†Œ</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"1-java-8-å°†-jvm-ä¸­-æ°¸ä¹…ä»£å»é™¤å¸¦æ¥çš„å¥½å¤„ï¼Ÿ\"><a href=\"#1-java-8-å°†-jvm-ä¸­-æ°¸ä¹…ä»£å»é™¤å¸¦æ¥çš„å¥½å¤„ï¼Ÿ\" class=\"headerlink\" title=\"1.java 8 å°† jvm ä¸­ æ°¸ä¹…ä»£å»é™¤å¸¦æ¥çš„å¥½å¤„ï¼Ÿ\"></a>1.java 8 å°† jvm ä¸­ æ°¸ä¹…ä»£å»é™¤å¸¦æ¥çš„å¥½å¤„ï¼Ÿ</h1><ul>\n<li>å…ƒç©ºé—´å­˜æ”¾åœ¨æœ¬åœ°å†…å­˜ä¸­é¿å…ä¹‹å‰ä½¿ç”¨æ°¸ä¹…ä»£å‡ºç°å†…å­˜æº¢å‡ºçš„é—®é¢˜ã€‚</li>\n<li>ç±»åŠæ–¹æ³•çš„ä¿¡æ¯ç­‰æ¯”è¾ƒéš¾ç¡®å®šå…¶å¤§å°ï¼Œå› æ­¤å¯¹äºæ°¸ä¹…ä»£çš„å¤§å°æŒ‡å®šæ¯”è¾ƒå›°éš¾ï¼Œå¤ªå°å®¹æ˜“å‡ºç°æ°¸ä¹…ä»£æº¢å‡ºï¼Œå¤ªå¤§åˆ™å®¹æ˜“å¯¼è‡´è€å¹´ä»£æº¢å‡ºã€‚</li>\n<li>æ°¸ä¹…ä»£ä¼šé€šè¿‡ full GC è¿›è¡Œå›æ”¶ï¼Œè¿™ç§æ“ä½œå¤æ‚åº¦è¾ƒé«˜ï¼Œå›æ”¶æ•ˆç‡åä½ã€‚<h1 id=\"2-å¦‚ä½•åˆ¤æ–­å¯¹è±¡æ­»äº¡ï¼Œæœ‰å“ªä¸¤ç§æ–¹æ³•ï¼Ÿ\"><a href=\"#2-å¦‚ä½•åˆ¤æ–­å¯¹è±¡æ­»äº¡ï¼Œæœ‰å“ªä¸¤ç§æ–¹æ³•ï¼Ÿ\" class=\"headerlink\" title=\"2.å¦‚ä½•åˆ¤æ–­å¯¹è±¡æ­»äº¡ï¼Œæœ‰å“ªä¸¤ç§æ–¹æ³•ï¼Ÿ\"></a>2.å¦‚ä½•åˆ¤æ–­å¯¹è±¡æ­»äº¡ï¼Œæœ‰å“ªä¸¤ç§æ–¹æ³•ï¼Ÿ</h1></li>\n</ul>\n<ol>\n<li>å¼•ç”¨è®¡æ•°æ³•ï¼š<br>å½“è¯¥å¯¹è±¡è¢«å¼•ç”¨æ—¶ï¼Œè®¡æ•°å™¨å°±åŠ 1ï¼›å½“å¼•ç”¨å¤±æ•ˆï¼Œè®¡æ•°å™¨å°±å‡1ï¼›ä»»ä½•æ—¶å€™è®¡æ•°å™¨ä¸º0çš„å¯¹è±¡å°±æ˜¯ä¸å¯èƒ½å†è¢«ä½¿ç”¨çš„ã€‚<br>ç¼ºç‚¹ï¼šè¿™ä¸ªæ–¹æ³•å®ç°ç®€å•ï¼Œæ•ˆç‡é«˜ï¼Œä½†æ˜¯ç›®å‰ä¸»æµçš„è™šæ‹Ÿæœºä¸­å¹¶æ²¡æœ‰é€‰æ‹©è¿™ä¸ªç®—æ³•æ¥ç®¡ç†å†…å­˜ï¼Œå…¶æœ€ä¸»è¦çš„åŸå› æ˜¯å®ƒå¾ˆéš¾è§£å†³å¯¹è±¡ä¹‹é—´ç›¸äº’å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚ æ‰€è°“å¯¹è±¡ä¹‹é—´çš„ç›¸äº’å¼•ç”¨é—®é¢˜ï¼Œå¦‚ä¸‹é¢ä»£ç æ‰€ç¤ºï¼šé™¤äº†å¯¹è±¡objA å’Œ objB ç›¸äº’å¼•ç”¨ç€å¯¹æ–¹ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´å†æ— ä»»ä½•å¼•ç”¨ã€‚ä½†æ˜¯ä»–ä»¬å› ä¸ºäº’ç›¸å¼•ç”¨å¯¹æ–¹ï¼Œå¯¼è‡´å®ƒä»¬çš„å¼•ç”¨è®¡æ•°å™¨éƒ½ä¸ä¸º0ï¼Œäºæ˜¯å¼•ç”¨è®¡æ•°ç®—æ³•æ— æ³•é€šçŸ¥ GC å›æ”¶å™¨å›æ”¶ä»–ä»¬ã€‚</li>\n<li>å¯è¾¾æ€§åˆ†æç®—æ³•ï¼š<br>é€šè¿‡ä¸€ç³»åˆ—â€œGC Rootsâ€ çš„å¯¹è±¡ä¸ºèµ·ç‚¹ï¼Œä»è¿™äº›èŠ‚ç‚¹å¼€å§‹å‘ä¸‹æœç´¢ï¼Œæœç´¢å¤šèµ°è¿‡çš„è·¯å¾„ç§°ä¸ºå¼•ç”¨é“¾ï¼Œå½“å¯¹è±¡åˆ°GC Rootsæ²¡æœ‰ä»»ä½•çš„å¼•ç”¨é“¾ç›¸è¿å°±åˆ¤æ–­è¯¥å¯¹è±¡å·²ç»å¤±æ•ˆã€‚<h1 id=\"3-å†è°ˆå¼•ç”¨ï¼š\"><a href=\"#3-å†è°ˆå¼•ç”¨ï¼š\" class=\"headerlink\" title=\"3.å†è°ˆå¼•ç”¨ï¼š\"></a>3.å†è°ˆå¼•ç”¨ï¼š</h1></li>\n<li>å¼ºå¼•ç”¨<ul>\n<li>æ¦‚è¿°ï¼šå¼ºå¼•ç”¨åœ¨ä»£ç ä¸­å¾ˆæ™®éï¼Œå¹³æ—¶æˆ‘ä»¬é€šè¿‡new å…³é”®å­—åˆ›å»ºçš„å¼•ç”¨éƒ½æ˜¯å¼ºå¼•ç”¨ï¼Œåªè¦å¼ºå¼•ç”¨å­˜åœ¨ï¼Œåƒåœ¾æ”¶é›†å™¨å°±ä¸ä¼šå›æ”¶å¼•ç”¨å¯¹è±¡å¼ºå¼•ç”¨åœ¨ä»£ç ä¸­å¾ˆæ™®éï¼Œå¹³æ—¶æˆ‘ä»¬é€šè¿‡new å…³é”®å­—åˆ›å»ºçš„å¼•ç”¨éƒ½æ˜¯å¼ºå¼•ç”¨ï¼Œåªè¦å¼ºå¼•ç”¨å­˜åœ¨ï¼Œåƒåœ¾æ”¶é›†å™¨å°±ä¸ä¼šå›æ”¶å¼•ç”¨å¯¹è±¡</li>\n<li>å®ç°ï¼šé€šè¿‡new å…³é”®å­—åˆ›å»ºçš„å¼•ç”¨</li>\n</ul>\n</li>\n<li>è½¯å¼•ç”¨<ul>\n<li>æ¦‚è¿°ï¼šæè¿°ä¸€äº›è¿˜æœ‰ç”¨ä½†æ˜¯å¹¶ä¸å¿…éœ€çš„å¯¹è±¡ï¼Œå¦‚æœå†…å­˜ç©ºé—´è¶³å¤Ÿï¼Œåƒåœ¾å›æ”¶å™¨å°±ä¸ä¼šå›æ”¶å®ƒï¼Œå¦‚æœå‘ç”Ÿå†…å­˜æº¢å‡ºä¹‹å‰ï¼Œåƒåœ¾å›æ”¶å™¨å°†è¿™äº›å¯¹è±¡åˆ—è¿›å›æ”¶èŒƒå›´ä¹‹ä¸­è¿›è¡Œç¬¬äºŒæ¬¡å›æ”¶ã€‚å¦‚æœè¿™æ¬¡å›æ”¶è¿˜æ˜¯æ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜ï¼Œå°±ä¼šå‘ç”Ÿå†…å­˜æº¢å‡ºã€‚</li>\n<li>ç”¨é€”ï¼šè½¯å¼•ç”¨å¯ç”¨æ¥å®ç°å†…å­˜æ•æ„Ÿçš„é«˜é€Ÿç¼“å­˜ã€‚</li>\n<li>å®ç°ï¼šJdk æä¾› SoftReference ç±»æ¥å®ç°è½¯å¼•ç”¨ã€‚</li>\n</ul>\n</li>\n<li>å¼±å¼•ç”¨<ul>\n<li>æ¦‚è¿°ï¼šéå¿…è¦å¯¹è±¡ï¼Œå½“GCå‘ç”Ÿå°±ä¼šè¢«å›æ”¶ï¼Œç”Ÿå‘½å‘¨æœŸå¾ˆçŸ­æš‚</li>\n<li>å®ç°ï¼šJdk æä¾› WeakReference ç±»æ¥å®ç°å¼±å¼•ç”¨ã€‚<br><strong>æ³¨æ„ï¼šç”±äºåƒåœ¾å›æ”¶å™¨æ˜¯ä¸€ä¸ªä¼˜å…ˆçº§å¾ˆä½çš„çº¿ç¨‹ï¼Œ å› æ­¤ä¸ä¸€å®šä¼šå¾ˆå¿«å‘ç°é‚£äº›åªå…·æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡</strong></li>\n</ul>\n</li>\n<li>è™šå¼•ç”¨<ul>\n<li>æ¦‚è¿°ï¼šä¸å…¶ä»–å‡ ç§å¼•ç”¨éƒ½ä¸åŒï¼Œè™šå¼•ç”¨å®Œå…¨ä¸ä¼šå¯¹å…¶ç”Ÿå­˜æ—¶é—´æ„æˆå½±å“ï¼Œä¹Ÿæ— æ³•é€šè¿‡è™šå¼•ç”¨æ¥å–å¾—ä¸€ä¸ªå¯¹è±¡å®ä¾‹ã€‚</li>\n<li>ç”¨é€”ï¼šä½¿å¯¹è±¡è¢«æ”¶é›†å™¨å›æ”¶æ—¶æ”¶åˆ°ä¸€ä¸ªç³»ç»Ÿé€šçŸ¥ã€‚</li>\n<li>å®ç°ï¼šJdk æä¾› PhantomkReference ç±»æ¥å®ç°è™šå¼•ç”¨ã€‚</li>\n</ul>\n</li>\n<li>å¼±å¼•ç”¨å’Œè½¯å¼•ç”¨çš„åŒºåˆ«<br>åªå…·æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡æ‹¥æœ‰æ›´çŸ­æš‚çš„ç”Ÿå‘½å‘¨æœŸã€‚åœ¨åƒåœ¾å›æ”¶å™¨çº¿ç¨‹æ‰«æå®ƒ æ‰€ç®¡è¾–çš„å†…å­˜åŒºåŸŸçš„è¿‡ç¨‹ä¸­ï¼Œä¸€æ—¦å‘ç°äº†åªå…·æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡ï¼Œä¸ç®¡å½“å‰å†…å­˜ç©ºé—´è¶³å¤Ÿä¸å¦ï¼Œéƒ½ä¼šå›æ”¶æ‰åªè¢«å¼±å¼•ç”¨å…³è”çš„å¯¹è±¡ã€‚<h1 id=\"4-HotSpotä¸ºä»€ä¹ˆè¦åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Ÿ\"><a href=\"#4-HotSpotä¸ºä»€ä¹ˆè¦åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Ÿ\" class=\"headerlink\" title=\"4.HotSpotä¸ºä»€ä¹ˆè¦åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Ÿ\"></a>4.HotSpotä¸ºä»€ä¹ˆè¦åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Ÿ</h1>ä¸€èˆ¬å°†javaå †åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ ¹æ®å„ä¸ªå¹´ä»£çš„ç‰¹ç‚¹é€‰æ‹©åˆé€‚çš„åƒåœ¾æ”¶é›†ç®—æ³•ã€‚</li>\n</ol>\n<ul>\n<li>æ–°ç”Ÿä»£ï¼šæ¯æ¬¡æ”¶é›†éƒ½ä¼šæœ‰å¤§é‡å¯¹è±¡æ­»å»ï¼Œæ‰€ä»¥å¯ä»¥é€‰æ‹©å¤åˆ¶ç®—æ³•</li>\n<li>è€å¹´ä»£ï¼šå¯¹è±¡å­˜æ´»å‡ ç‡æ˜¯æ¯”è¾ƒé«˜çš„ï¼Œè€Œä¸”æ²¡æœ‰é¢å¤–çš„ç©ºé—´å¯¹å®ƒè¿›è¡Œåˆ†é…æ‹…ä¿ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»é€‰æ‹©â€œæ ‡è®°-æ¸…é™¤â€æˆ–â€œæ ‡è®°-æ•´ç†â€ç®—æ³•è¿›è¡Œåƒåœ¾æ”¶é›†<h1 id=\"5-Minor-GCå’ŒFull-GC-åˆ†åˆ«æŒ‡ä»€ä¹ˆï¼Ÿ\"><a href=\"#5-Minor-GCå’ŒFull-GC-åˆ†åˆ«æŒ‡ä»€ä¹ˆï¼Ÿ\" class=\"headerlink\" title=\"5.Minor GCå’ŒFull GC åˆ†åˆ«æŒ‡ä»€ä¹ˆï¼Ÿ\"></a>5.Minor GCå’ŒFull GC åˆ†åˆ«æŒ‡ä»€ä¹ˆï¼Ÿ</h1></li>\n<li>æ–°ç”Ÿä»£ï¼ˆMinor GCï¼‰:æŒ‡æ–°ç”Ÿä»£çš„åƒåœ¾æ”¶é›†ï¼Œæ‰§è¡Œæ“ä½œé¢‘ç¹ï¼Œå›æ”¶é€Ÿåº¦è¾ƒå¿«ã€‚</li>\n<li>è€å¹´ä»£ï¼ˆMajor GC/Full GCï¼‰:æŒ‡å‘ç”Ÿè€å¹´ä»£çš„åƒåœ¾å›æ”¶ï¼Œå‡ºç°Major GCç»å¸¸ä¼šä¼´éšä¸€æ¬¡Minor GC ï¼ˆå¹¶éç»å¯¹ï¼Œåªæœ‰å½“å‘ç”ŸMajor GCæ—¶ æ™‹å‡åˆ°è€å¹´ä»£çš„å†…å­˜ å¤§äºè€å¹´ä»£çš„å‰©ä½™å†…å­˜ï¼Œè¿™ç§æƒ…å†µä¸‹ ä¼šå‘ç”ŸFull GCï¼‰ï¼ŒMajor GCçš„é€Ÿåº¦ä¸€èˆ¬ä¼šæ¯”Minor GCçš„æ…¢10å€ä»¥ä¸Šã€‚<br>é»˜è®¤æƒ…å†µä¸‹ æ–°ç”Ÿä»£å’Œè€å¹´ä»£çš„å †ç©ºé—´çš„åˆ†å¸ƒæƒ…å†µ<br><img src=\"https://img.mupaie.com/20190228151004551.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>æ³¨æ„ï¼šè™šæ‹Ÿæœºæ¯æ¬¡åªä¼šä½¿ç”¨ Eden å’Œå…¶ä¸­çš„ä¸€å— Survivor åŒºåŸŸæ¥ä¸ºå¯¹è±¡æœåŠ¡ï¼Œæ‰€ä»¥æ— è®ºä»€ä¹ˆæ—¶å€™ï¼Œæ€»æ˜¯æœ‰ä¸€å— Survivor åŒºåŸŸæ˜¯ç©ºé—²ç€çš„ã€‚ å› æ­¤ï¼Œæ–°ç”Ÿä»£å®é™…å¯ç”¨çš„å†…å­˜ç©ºé—´ä¸º90%çš„æ–°ç”Ÿä»£ç©ºé—´ã€‚<br>å¤§æ•°æ®ï¼ˆæ•°ç»„å’Œå­—ç¬¦ä¸²ã€å­—ç¬¦æ•°ç»„ã€‘ ï¼‰ç›´æ¥è¢«å­˜æ”¾åœ¨è€å¹´ä»£ä¸­ï¼ŒåŸå› æ˜¯ï¼ˆä¸ºäº†é¿å…ä¸ºå¤§å¯¹è±¡åˆ†é…å†…å­˜æ—¶ç”±äºåˆ†é…æ‹…ä¿æœºåˆ¶å¸¦æ¥çš„å¤åˆ¶è€Œé™ä½æ•ˆç‡ï¼‰</li>\n<li>é•¿æœŸå­˜æ´»çš„å¯¹è±¡è¿›å…¥è€å¹´ä»£<br>æ¯æ¬¡è¿›è¡Œåƒåœ¾å›æ”¶å­˜æ´»ä¸‹æ¥çš„å¯¹è±¡å¹´é¾„éƒ½ä¼šåŠ ä¸€å²ï¼Œç­‰è¾¾åˆ°ä¸€å®šç¨‹åº¦åè¯¥å¯¹è±¡å°±ä¼šè¿›è¡Œè€å¹´ä»£ã€‚å…·ä½“è®¾ç½®å¹´é¾„é˜ˆå€¼ï¼Œé€šè¿‡å‚æ•° -XX:MaxTenuringThreshold æ¥è®¾ç½®ã€‚</li>\n<li>åŠ¨æ€å¯¹è±¡å¹´é¾„åˆ¤å®š<br>æœ‰ä¸€ç§æƒ…å†µå½“ç›¸åŒå¹´é¾„çš„å¯¹è±¡æ€»å’Œå¤§äºSurvivor ç©ºé—´çš„ä¸€åŠæ—¶ï¼Œå¹´é¾„å¤§äºæˆ–ç­‰äºè¯¥å€¼çš„å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£<h1 id=\"6-åƒåœ¾å›æ”¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿä¼˜ç¼ºç‚¹ï¼Ÿ\"><a href=\"#6-åƒåœ¾å›æ”¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿä¼˜ç¼ºç‚¹ï¼Ÿ\" class=\"headerlink\" title=\"6. åƒåœ¾å›æ”¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿä¼˜ç¼ºç‚¹ï¼Ÿ\"></a>6. åƒåœ¾å›æ”¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿä¼˜ç¼ºç‚¹ï¼Ÿ</h1></li>\n<li>æ ‡è®° - æ¸…é™¤ç®—æ³•<br>æ ‡è®°éœ€è¦å›æ”¶çš„å¯¹è±¡ï¼Œæ ‡è®°å®Œæˆååœ¨åƒåœ¾å›æ”¶å™¨ç»Ÿä¸€æ”¶é›†é‚£äº›è¢«æ ‡è®°çš„å¯¹è±¡ã€‚<br>ç¼ºç‚¹ï¼š<ul>\n<li>æ•ˆç‡ä¸é«˜ï¼šæ ‡è®°å’Œæ¸…é™¤è¿‡ç¨‹æ•ˆç‡ä¸é«˜ï¼Œä¸»è¦åŸå› æ˜¯æ ‡è®°çš„å¯¹è±¡åˆ†å¸ƒä¸å‡åŒ€</li>\n<li>ç©ºé—´é—®é¢˜ï¼šæ¸…é™¤åäº§ç”Ÿå¤§é‡å†…å­˜ç¢ç‰‡ï¼Œå¯¼è‡´ä»¥åç¨‹åºä¸èƒ½ç»™å¤§å¯¹è±¡åˆ†é…è¿ç»­çš„å†…å­˜ç©ºé—´</li>\n</ul>\n</li>\n<li>å¤åˆ¶ç®—æ³•<br>å°†å†…å­˜åˆ†æˆä¸¤å—å®¹é‡å¤§å°ç›¸åŒåŒºåŸŸï¼Œå½“ä¸€å—åŒºåŸŸå†…å­˜ç”¨å®Œåï¼Œç»è¿‡GCä¹‹åå¹¸å­˜çš„å¯¹è±¡å°†å¤åˆ¶åˆ°å¦å¤–ä¸€ä¸ªåŒºåŸŸä¸­ï¼Œå‰©ä½™çš„å†…å­˜ç©ºé—´ä¸€æ¬¡æ¸…é™¤å³å¯ï¼Œä¸ç®¡ä»€ä¹ˆæ—¶åˆ»æ€»æœ‰ä¸€å—åŒºåŸŸæ˜¯ç©ºé—²çš„ã€‚<ul>\n<li>æ•ˆç‡é«˜ï¼šæ¯æ¬¡åªéœ€è¦å›æ”¶å¤åˆ¶åå‰©ä½™çš„å†…å­˜ï¼Œè¿™æ ·ä¹Ÿä¸ä¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡çš„é—®é¢˜ï¼Œç§»åŠ¨å¯¹é¡¶æŒ‡é’ˆï¼ŒæŒ‰é¡ºåºåˆ†é…å†…å­˜å³å¯ï¼Œå®ç°ç®€å•ï¼Œè¿è¡Œé«˜æ•ˆï¼Œä½†æ˜¯å¦‚æœå­˜æ´»ç‡è¾ƒé«˜çš„æƒ…å†µï¼Œå¤åˆ¶ç®—æ³•çš„æ•ˆç‡ä¹Ÿä¼šéšç€ä¸‹é™</li>\n<li>æˆæœ¬é«˜ï¼šæ—¶åˆ»ä¿è¯æœ‰ä¸€å—åŒºåŸŸæ˜¯ç©ºé—²çš„ï¼Œè¿™æ ·å¯¼è‡´æ–°ç”Ÿä»£æœ‰10%çš„å†…å­˜æ˜¯æµªè´¹çš„ã€‚ç”±äº Eden : from : to = 8:1:1<br><img src=\"https://img.mupaie.com/20190307141705245.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></li>\n</ul>\n</li>\n<li>æ ‡è®°-æ•´ç†ç®—æ³•<br>è·Ÿä¸Šè¿°è¯´çš„æ ‡è®°-æ¸…é™¤ç®—æ³•å¾ˆç±»ä¼¼ï¼Œä½†æ˜¯åç»­æ­¥éª¤ä¸æ˜¯å¯¹å¯å›æ”¶çš„å¯¹è±¡ç›´æ¥å›æ”¶ï¼Œè€Œæ˜¯è®©è¿™ä¸€éƒ¨åˆ†æ ‡è®°çš„å¯¹è±¡éƒ½å‘ä¸€ç«¯ç§»åŠ¨ï¼Œæœ€ç»ˆæ¸…é™¤é è¿‘ç«¯è¾¹çš„å†…å­˜ï¼Œè¿™æ ·å¥½å¤„å‡å°‘å†…å­˜ç¢ç‰‡çš„äº§ç”Ÿã€‚<br>ç¼ºç‚¹ï¼šå®ç°èµ·æ¥å¤æ‚ï¼Œæ‰§è¡Œæ­¥éª¤è¾ƒå¤š<br><img src=\"https://img.mupaie.com/20190307142226586.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"></li>\n<li>åˆ†ä»£æ”¶é›†ç®—æ³•<br>ç›®å‰å¾ˆå¤šè™šæ‹Ÿæœºçš„åƒåœ¾å›æ”¶å™¨éƒ½é‡‡ç”¨åˆ†ä»£æ”¶é›†ç®—æ³•ï¼Œä¸»è¦åŸå› åˆ†ä»£å›æ”¶èƒ½æ ¹æ®å¯¹è±¡çš„ç”Ÿå­˜å‘¨æœŸè¿›è¡Œå†…å­˜åˆ’åˆ†ï¼Œä¸»è¦åˆ†æ–°ç”Ÿä»£å’Œè€å¹´ä»£å¹¶æ ¹æ®æ¯ä¸ªå¹´ä»£çš„ç‰¹ç‚¹é‡‡ç”¨ä¸åŒçš„å›æ”¶ç®—æ³•ï¼Œä½¿å†…å­˜å›æ”¶æ›´åŠ é«˜æ•ˆã€‚ç”±äºæ–°ç”Ÿä»£ï¼Œæ¯æ¬¡åƒåœ¾å›æ”¶éƒ½æœ‰å¤§ç‰‡å¯¹è±¡æ­»äº¡ï¼Œåªæœ‰å°‘æ•°å¯¹è±¡å­˜æ´»è¿™æ ·æˆ‘ä»¬ä½¿ç”¨å¤åˆ¶ç®—æ³•ã€‚è€å¹´ä»£æ¯æ¬¡åƒåœ¾å›æ”¶åªæœ‰å°‘é‡å¯¹è±¡æ­»äº¡ï¼Œæ•´ä½“å­˜æ´»ç‡è¾ƒé«˜ï¼Œæ²¡æœ‰é¢å¤–çš„å†…å­˜å¯¹å®ƒè¿›è¡Œåˆ†é…ï¼Œæ‰€ä»¥é‡‡ç”¨æ ‡è®°-æ•´ç†ç®—æ³•æˆ–æ ‡è®°-æ¸…é™¤ç®—æ³•<h1 id=\"7-åƒåœ¾å›æ”¶å™¨æœ‰å“ªäº›ï¼Ÿ\"><a href=\"#7-åƒåœ¾å›æ”¶å™¨æœ‰å“ªäº›ï¼Ÿ\" class=\"headerlink\" title=\"7.åƒåœ¾å›æ”¶å™¨æœ‰å“ªäº›ï¼Ÿ\"></a>7.åƒåœ¾å›æ”¶å™¨æœ‰å“ªäº›ï¼Ÿ</h1></li>\n<li>Serial æ”¶é›†å™¨<br>å•çº¿ç¨‹è¿›è¡Œåƒåœ¾å›æ”¶å·¥ä½œï¼Œåœ¨æ”¶é›†è¿‡ç¨‹ä¸­ï¼Œå¿…é¡»åœæ­¢å…¶ä»–æ‰€æœ‰çš„å·¥ä½œçº¿ç¨‹ï¼Œç›´åˆ°å›æ”¶ç»“æŸå…¶ä»–å·¥ä½œçº¿ç¨‹æ‰èƒ½ç»§ç»­å·¥ä½œã€‚<br>ç®—æ³•ï¼šå¤åˆ¶ç®—æ³•</li>\n<li>ParNew æ”¶é›†å™¨<br>å¯¹ä¸Šè¿°æ”¶é›†å™¨è¿›è¡Œè¡¥å……ï¼Œé‡‡ç”¨å¤šçº¿ç¨‹å¯¹åƒåœ¾è¿›è¡Œå›æ”¶ï¼Œè¿™æ ·ç›¸æ¯”å•çº¿ç¨‹æ•´ä½“çš„æ•ˆç‡å¾—åˆ°æé«˜ã€‚<br>ç®—æ³•ï¼šå¤åˆ¶ç®—æ³•</li>\n<li>Parallel Scavenge æ”¶é›†å™¨<br>å’Œä¸Šè¿°æ”¶é›†å™¨ä¸åŒçš„æ˜¯ï¼ŒParallel Scavenge å…³æ³¨ç‚¹ä¸»è¦æ˜¯è¾¾åˆ°ä¸€ä¸ªå¯æ§åˆ¶çš„ååé‡ã€‚æ‰€è°“çš„ååé‡å°±æ˜¯CPU ç”¨äºè¿è¡Œä»£ç çš„æ—¶é—´ä¸CPUæ€»æ¶ˆè€—æ—¶é—´çš„æ¯”å€¼ï¼Œååé‡ = è¿è¡Œä»£ç çš„æ—¶é—´/(è¿è¡Œä»£ç çš„æ—¶é—´ +åƒåœ¾å›æ”¶çš„æ—¶é—´)ï¼Œååé‡è¶Šé«˜ï¼Œåˆ™ç›¸å¯¹çš„åƒåœ¾å›æ”¶æ—¶é—´é™ä½ã€‚é‚£å¹³æ—¶æˆ‘ä»¬å¦‚ä½•æ§åˆ¶ååé‡å‘¢ï¼ŒParallel Scavengeç»™äº†æˆ‘ä»¬ä¸¤ä¸ªå‚æ•°æ¥æ§åˆ¶ååé‡ æœ€å¤§åƒåœ¾æ”¶é›†åœé¡¿æ—¶é—´ -XXï¼šMaxGCPauseMillis å’Œ è®¾ç½®ååé‡å¤§å° -XX:GCTimeRatio å‚æ•°ï¼Œå…·ä½“å‚è€ƒ <a href=\"\">æ·±å…¥ç†è§£Javaè™šæ‹Ÿå™¨</a><br>ç®—æ³•ï¼šå¤åˆ¶ç®—æ³•</li>\n<li>Serial old æ”¶é›†å™¨<br>ä¸»è¦ç”¨äºè€å¹´ä»£çš„åƒåœ¾å›æ”¶ï¼Œé‡‡ç”¨å•çº¿ç¨‹è¿›è¡Œåƒåœ¾å›æ”¶ã€‚<br>ç®—æ³•ï¼šæ ‡è®°-æ•´ç†</li>\n<li>Parallel old æ”¶é›†å™¨<br>ä¸»è¦ç”¨äºè€å¹´ä»£çš„åƒåœ¾å›æ”¶ï¼Œé‡‡ç”¨å¤šçº¿ç¨‹è¿›è¡Œåƒåœ¾å›æ”¶ã€‚å’Œ Parallel Scavenge æ”¶é›†å™¨ä¸€æ ·ï¼Œ Parallel old å…³æ³¨ç‚¹ä¹Ÿæ˜¯ååé‡<br>ç®—æ³•ï¼šæ ‡è®°-æ•´ç†</li>\n<li>cms æ”¶é›†å™¨<br>CMS æ”¶é›†å™¨æ˜¯ä¸€ç§ä»¥è·å–æœ€çŸ­å›æ”¶åœé¡¿æ—¶é—´ä¸ºç›®æ ‡çš„æ”¶é›†å™¨ï¼ŒåŸºäºæ ‡è®°-æ¸…é™¤ç®—æ³•å®ç°ï¼Œå…·ä½“åŒ…æ‹¬å››ä¸ªæ­¥éª¤ï¼š<ul>\n<li>åˆå§‹åŒ–æ ‡è®°</li>\n<li>å¹¶å‘æ ‡è®°</li>\n<li>é‡æ–°æ ‡è®°</li>\n<li>å¹¶å‘æ¸…é™¤<br>æ•´ä½“æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src=\"https://img.mupaie.com/20190307151001702.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œé™¤äº†åˆå§‹æ ‡è®°å’Œé‡æ–°æ ‡è®°éœ€è¦â€œStop The Worldâ€,å…¶ä½™éƒ½æ˜¯å¯ä»¥å’Œç”¨æˆ·çº¿ç¨‹ä¸€èµ·æ‰§è¡Œçš„ã€‚<br>ç¼ºç‚¹ï¼š<ul>\n<li>å¯¹CPU èµ„æºéå¸¸æ•æ„Ÿ</li>\n<li>æ— æ³•å¤„ç†æµ®åŠ¨åƒåœ¾ï¼Œç”±äºæ¸…é™¤è¿‡ç¨‹ä¼´éšç€ç”¨æˆ·çº¿ç¨‹ï¼Œç”¨æˆ·çº¿ç¨‹äº§ç”Ÿçš„æ–°åƒåœ¾åœ¨æ ‡è®°è¿‡åï¼ŒCMS æ— æ³•åœ¨å½“æ¬¡æ”¶é›†ä¸­å¤„ç†å®ƒä»¬ï¼Œç•™ç»™ä¸‹æ¬¡GCå†è¿›è¡Œå¤„ç†ï¼Œè¿™éƒ¨åˆ†åƒåœ¾å°±å«åšæµ®åŠ¨åƒåœ¾</li>\n<li>ç”±äºé‡‡ç”¨ æ ‡è®°-æ¸…é™¤ç®—æ³•ä¼šäº§ç”Ÿå¤§é‡å†…å­˜ç¢ç‰‡</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>G1 æ”¶é›†å™¨<br>G1 æ˜¯å½“ä»Šæ”¶é›†å™¨æŠ€æœ¯ä¸­çš„æœ€å‰æ²¿æŠ€æœ¯ï¼Œç›¸æ¯”å…¶ä»–æ”¶é›†å™¨å®ƒå…·æœ‰å‡ ä¸ªç‰¹ç‚¹ï¼š<ul>\n<li>å¹¶è¡Œä¸å¹¶å‘</li>\n<li>åˆ†ä»£æ”¶é›†</li>\n<li>ç©ºé—´æ•´ç†</li>\n<li>å¯é¢„æµ‹çš„åœé¡¿</li>\n</ul>\n</li>\n</ul>\n<p>ç®—æ³•ï¼šå¤åˆ¶ç®—æ³•å’Œæ ‡è®°-æ•´ç†ç®—æ³•</p>\n<p>å‚è€ƒæ–‡æ¡£<br>    <a href=\"\">æ·±å…¥ç†è§£Javaè™šæ‹Ÿå™¨</a><br>    <a href=\"https://github.com/Snailclimb/JavaGuide/blob/master/Java%E7%9B%B8%E5%85%B3/Java%E8%99%9A%E6%8B%9F%E6%9C%BA%EF%BC%88jvm%EF%BC%89.md\" target=\"_blank\" rel=\"noopener\">Javaé¢è¯•é€šå…³æ‰‹å†Œ</a></p>\n"},{"title":"ç†è§£ linux cpu è´Ÿè½½","date":"2019-03-15T01:55:24.000Z","_content":"# 1. å¦‚ä½•æŸ¥çœ‹cpuè´Ÿè½½ï¼Ÿé€šè¿‡ä»€ä¹ˆå‘½ä»¤\nå½“ä½ çš„ç”µè„‘è¿è¡Œç¼“æ…¢ï¼Œæ“ä½œèµ·æ¥å¾ˆå¡çš„æ—¶å€™ï¼Œè¿™æ—¶ä½ åº”è¯¥æŸ¥çœ‹ä¸€ä¸‹ä½ çš„cpuæ˜¯ä¸æ˜¯å¤„äºè´Ÿè½½çŠ¶æ€ä¸‹ã€‚ä¸‹é¢æˆ‘ä»¬é€šè¿‡å‘½ä»¤ top æˆ– uptime æŸ¥çœ‹å¹³å‡è´Ÿè½½ï¼Œå¦‚ä¸‹ï¼š\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190228111519685.png)\nä¸‰ä¸ªå‚æ•°åˆ†åˆ«è¡¨ç¤º ä¸€åˆ†é’Ÿï¼Œ5åˆ†é’Ÿï¼Œ15åˆ†é’Ÿ å çš„cpuæ¯”ä¾‹ï¼Œè¶Šä½è¡¨ç¤ºcpuå¤„äºæ¯”è¾ƒç©ºé—²çš„é˜¶æ®µï¼Œä½†æ˜¯è¶Šå¤§åˆ™ä¼šå‡ºç°cpuè¿‡è½½çš„é—®é¢˜ã€‚\n# 2. äº†è§£è´Ÿè½½å‚æ•°çš„æ„ä¹‰ï¼Ÿ\nåœ¨å•ä¸ªcpuä¸‹ï¼Œç”±äºåªæœ‰ä¸€ä¸ªcpuï¼Œæ‰€ä»¥æ‰€æœ‰æ“ä½œéƒ½ç»è¿‡å®ƒæ¥å®Œæˆï¼Œæˆ‘ä»¬ä¸¾ä¸ªä¾‹å­æ¥å½¢è±¡çš„é˜è¿°è¿™ä¸ªè¿‡ç¨‹ï¼š\næˆ‘ä»¬æŠŠcpuæ¯”ä½œä¸€æ¡æ¡¥ï¼Œæ“ä½œè¿›ç¨‹æ¯”ä½œè½¦ã€‚å› ä¸ºåªæœ‰ä¸€ä¸ªcpuï¼Œæ‰€ä»¥è½¦è¾†éƒ½å¿…é¡»ä»è¿™ä¸ªè½¦é“é€šè¿‡ï¼Œ\n\nç³»ç»Ÿè´Ÿè½½ä¸º0çš„æ—¶å€™ï¼Œè¡¨ç¤ºæ²¡æœ‰è½¦ç»è¿‡\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190416130016.png)\nè´Ÿè½½ä¸º0.5çš„æ—¶å€™ï¼Œè¡¨ç¤ºå¤§æ¡¥æœ‰ä¸€åŠçš„è·¯æ®µæœ‰è½¦è¾†\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190228112700968.png)\nè´Ÿè½½ä¸º1.0ï¼Œæ„å‘³ç€å¤§æ¡¥çš„æ‰€æœ‰è·¯æ®µéƒ½æœ‰è½¦ï¼Œä¹Ÿå°±æ˜¯è¯´å¤§æ¡¥å·²ç»\"æ»¡\"äº†ã€‚ä½†æ˜¯å¿…é¡»æ³¨æ„çš„æ˜¯ï¼Œç›´åˆ°æ­¤æ—¶å¤§æ¡¥è¿˜æ˜¯èƒ½é¡ºç•…é€šè¡Œçš„ã€‚\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190228112715668.png)\nè´Ÿè½½å¤§äº1ï¼Œå°±è¡¨ç¤ºå¤§æ¡¥å·²ç»å¤„äºæ‹¥æŒ¤çŠ¶æ€ï¼Œåé¢çš„è½¦å¿…é¡»å¤„äºç­‰å¾…ä¸­ï¼Œç­‰å‰é¢çš„è½¦è¾†é€šè¿‡å¤§æ¡¥åï¼Œåé¢æ’é˜Ÿçš„è½¦è¾†æ‰èƒ½ä¾æ¬¡é€šè¿‡ã€‚\n\né€šè¿‡æ¡¥å’Œè½¦è¾†çš„ä¾‹å­ï¼Œæˆ‘ä»¬èƒ½å¾ˆå¥½çš„ç†è§£ï¼Œå¦‚æœä½ æƒ³è½¦è¾†æˆ–è€…ä½ çš„è¿›ç¨‹ä¸éœ€è¦ç­‰å¾…ï¼Œä½ å°±éœ€è¦è®©ä½ çš„cpu è´Ÿè½½ ä½äº 1ã€‚å½“å¤§äºæˆ–ç­‰äº 1çš„æ—¶å€™ä½ å°±éœ€è¦è€ƒè™‘å¦‚ä½•é™ä½è´Ÿè½½ã€‚\n\n# 3. å¤šä¸ªcpuæˆ–è€…å¤šæ ¸cpu è´Ÿè½½å€¼çš„å˜åŒ–ï¼Ÿ\nä¸Šè¿°æˆ‘ä»¬è®²çš„éƒ½æ˜¯å•cpuæˆ–è€…å•æ ¸cpuçš„æƒ…å†µï¼Œé‚£ä¹ˆå¤šæ ¸æˆ–è€…å¤šä¸ªcpuçš„æƒ…å†µä¸‹ï¼Œè´Ÿè½½æ˜¯æ€ä¹ˆå˜åŒ–çš„å‘¢ï¼Ÿ\n æˆ‘ä»¬ç»§ç»­ç”¨ä¹‹å‰æ¡¥çš„ä¾‹å­ï¼Œå•ä¸ªcpuè¡¨ç¤ºæ¡¥ä¸Šåªæœ‰ä¸€æ¡é“ï¼Œé‚£å¤šä¸ª/å¤šæ ¸ cpu è¡¨ç¤º æ¡¥ä¸Šæœ‰å¤šæ¡é“ï¼Œè¿™æ ·æ¡¥ä¸Šçš„æ•´ä½“å®¹é‡æ˜¯ä¸æ˜¯å¢åŠ äº†nå€ï¼Ÿ\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190228114606538.png)\næ‰€ä»¥ï¼Œ2ä¸ªCPUè¡¨æ˜ç³»ç»Ÿè´Ÿè·å¯ä»¥è¾¾åˆ°2.0ï¼Œæ­¤æ—¶æ¯ä¸ªCPUéƒ½è¾¾åˆ°100%çš„å·¥ä½œé‡ã€‚æ¨å¹¿å¼€æ¥ï¼Œnä¸ªCPUçš„ç”µè„‘ï¼Œå¯æ¥å—çš„ç³»ç»Ÿè´Ÿè·æœ€å¤§ä¸ºn.0ã€‚\n\n# 4. è§‚å¯Ÿcpuè´Ÿè½½æ¯ä¸ªæ—¶é—´çš„å˜åŒ–æƒ…å†µï¼Œåˆ¤æ–­è¿è¡ŒçŠ¶æ€ï¼Ÿ\né€šè¿‡ top å‘½ä»¤æ˜¾ç¤ºäº† \"load average\" çš„ä¸‰ä¸ªå¹³å‡å€¼åˆ†åˆ«æ˜¯1åˆ†é’Ÿã€5åˆ†é’Ÿï¼Œ15åˆ†é’Ÿçš„ç³»ç»Ÿè´Ÿè½½ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæˆ‘ä»¬åº”è¯¥å‚è€ƒä¸€åˆ†é’Ÿï¼Œäº”åˆ†é’Ÿï¼Œè¿˜æ˜¯åäº”åˆ†é’Ÿï¼Ÿ\nå¦‚æœåªæœ‰1åˆ†é’Ÿçš„ç³»ç»Ÿè´Ÿè·å¤§äº1.0ï¼Œå…¶ä»–ä¸¤ä¸ªæ—¶é—´æ®µéƒ½å°äº1.0ï¼Œè¿™è¡¨æ˜åªæ˜¯æš‚æ—¶ç°è±¡ï¼Œé—®é¢˜ä¸å¤§ã€‚\nå¦‚æœ15åˆ†é’Ÿå†…ï¼Œå¹³å‡ç³»ç»Ÿè´Ÿè·å¤§äº1.0ï¼ˆè°ƒæ•´CPUæ ¸å¿ƒæ•°ä¹‹åï¼‰ï¼Œè¡¨æ˜é—®é¢˜æŒç»­å­˜åœ¨ï¼Œä¸æ˜¯æš‚æ—¶ç°è±¡ã€‚æ‰€ä»¥ï¼Œä½ åº”è¯¥ä¸»è¦è§‚å¯Ÿ\"15åˆ†é’Ÿç³»ç»Ÿè´Ÿè·\"ï¼Œå°†å®ƒä½œä¸ºç”µè„‘æ­£å¸¸è¿è¡Œçš„æŒ‡æ ‡ã€‚\n\n# 5. æŸ¥çœ‹ç³»ç»Ÿçš„cpuæ ¸æ•°\né€šè¿‡ cat /proc/cpuinfo èƒ½è·å–ç³»ç»Ÿä¸­æ¯ä¸ªå¤„ç†å™¨çš„ä¿¡æ¯ï¼Œå¦‚æœä½ æƒ³çŸ¥é“cpuæ ¸å¿ƒæ•°é‡ï¼Œé€šè¿‡ grep -c 'model name' /proc/cpuinfo\n\nå‚è€ƒæ–‡æ¡£ï¼š\n[ç†è§£Linuxç³»ç»Ÿè´Ÿè·](http://www.ruanyifeng.com/blog/2011/07/linux_load_average_explained.html)\n[Understanding Linux CPU Load](https://scoutapp.com/blog/understanding-load-averages)\n\n","source":"_posts/ç†è§£-linux-cpu-è´Ÿè½½.md","raw":"---\ntitle: ç†è§£ linux cpu è´Ÿè½½\ndate: 2019-03-15 09:55:24\ntags:\n- linux\n---\n# 1. å¦‚ä½•æŸ¥çœ‹cpuè´Ÿè½½ï¼Ÿé€šè¿‡ä»€ä¹ˆå‘½ä»¤\nå½“ä½ çš„ç”µè„‘è¿è¡Œç¼“æ…¢ï¼Œæ“ä½œèµ·æ¥å¾ˆå¡çš„æ—¶å€™ï¼Œè¿™æ—¶ä½ åº”è¯¥æŸ¥çœ‹ä¸€ä¸‹ä½ çš„cpuæ˜¯ä¸æ˜¯å¤„äºè´Ÿè½½çŠ¶æ€ä¸‹ã€‚ä¸‹é¢æˆ‘ä»¬é€šè¿‡å‘½ä»¤ top æˆ– uptime æŸ¥çœ‹å¹³å‡è´Ÿè½½ï¼Œå¦‚ä¸‹ï¼š\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190228111519685.png)\nä¸‰ä¸ªå‚æ•°åˆ†åˆ«è¡¨ç¤º ä¸€åˆ†é’Ÿï¼Œ5åˆ†é’Ÿï¼Œ15åˆ†é’Ÿ å çš„cpuæ¯”ä¾‹ï¼Œè¶Šä½è¡¨ç¤ºcpuå¤„äºæ¯”è¾ƒç©ºé—²çš„é˜¶æ®µï¼Œä½†æ˜¯è¶Šå¤§åˆ™ä¼šå‡ºç°cpuè¿‡è½½çš„é—®é¢˜ã€‚\n# 2. äº†è§£è´Ÿè½½å‚æ•°çš„æ„ä¹‰ï¼Ÿ\nåœ¨å•ä¸ªcpuä¸‹ï¼Œç”±äºåªæœ‰ä¸€ä¸ªcpuï¼Œæ‰€ä»¥æ‰€æœ‰æ“ä½œéƒ½ç»è¿‡å®ƒæ¥å®Œæˆï¼Œæˆ‘ä»¬ä¸¾ä¸ªä¾‹å­æ¥å½¢è±¡çš„é˜è¿°è¿™ä¸ªè¿‡ç¨‹ï¼š\næˆ‘ä»¬æŠŠcpuæ¯”ä½œä¸€æ¡æ¡¥ï¼Œæ“ä½œè¿›ç¨‹æ¯”ä½œè½¦ã€‚å› ä¸ºåªæœ‰ä¸€ä¸ªcpuï¼Œæ‰€ä»¥è½¦è¾†éƒ½å¿…é¡»ä»è¿™ä¸ªè½¦é“é€šè¿‡ï¼Œ\n\nç³»ç»Ÿè´Ÿè½½ä¸º0çš„æ—¶å€™ï¼Œè¡¨ç¤ºæ²¡æœ‰è½¦ç»è¿‡\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190416130016.png)\nè´Ÿè½½ä¸º0.5çš„æ—¶å€™ï¼Œè¡¨ç¤ºå¤§æ¡¥æœ‰ä¸€åŠçš„è·¯æ®µæœ‰è½¦è¾†\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190228112700968.png)\nè´Ÿè½½ä¸º1.0ï¼Œæ„å‘³ç€å¤§æ¡¥çš„æ‰€æœ‰è·¯æ®µéƒ½æœ‰è½¦ï¼Œä¹Ÿå°±æ˜¯è¯´å¤§æ¡¥å·²ç»\"æ»¡\"äº†ã€‚ä½†æ˜¯å¿…é¡»æ³¨æ„çš„æ˜¯ï¼Œç›´åˆ°æ­¤æ—¶å¤§æ¡¥è¿˜æ˜¯èƒ½é¡ºç•…é€šè¡Œçš„ã€‚\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190228112715668.png)\nè´Ÿè½½å¤§äº1ï¼Œå°±è¡¨ç¤ºå¤§æ¡¥å·²ç»å¤„äºæ‹¥æŒ¤çŠ¶æ€ï¼Œåé¢çš„è½¦å¿…é¡»å¤„äºç­‰å¾…ä¸­ï¼Œç­‰å‰é¢çš„è½¦è¾†é€šè¿‡å¤§æ¡¥åï¼Œåé¢æ’é˜Ÿçš„è½¦è¾†æ‰èƒ½ä¾æ¬¡é€šè¿‡ã€‚\n\né€šè¿‡æ¡¥å’Œè½¦è¾†çš„ä¾‹å­ï¼Œæˆ‘ä»¬èƒ½å¾ˆå¥½çš„ç†è§£ï¼Œå¦‚æœä½ æƒ³è½¦è¾†æˆ–è€…ä½ çš„è¿›ç¨‹ä¸éœ€è¦ç­‰å¾…ï¼Œä½ å°±éœ€è¦è®©ä½ çš„cpu è´Ÿè½½ ä½äº 1ã€‚å½“å¤§äºæˆ–ç­‰äº 1çš„æ—¶å€™ä½ å°±éœ€è¦è€ƒè™‘å¦‚ä½•é™ä½è´Ÿè½½ã€‚\n\n# 3. å¤šä¸ªcpuæˆ–è€…å¤šæ ¸cpu è´Ÿè½½å€¼çš„å˜åŒ–ï¼Ÿ\nä¸Šè¿°æˆ‘ä»¬è®²çš„éƒ½æ˜¯å•cpuæˆ–è€…å•æ ¸cpuçš„æƒ…å†µï¼Œé‚£ä¹ˆå¤šæ ¸æˆ–è€…å¤šä¸ªcpuçš„æƒ…å†µä¸‹ï¼Œè´Ÿè½½æ˜¯æ€ä¹ˆå˜åŒ–çš„å‘¢ï¼Ÿ\n æˆ‘ä»¬ç»§ç»­ç”¨ä¹‹å‰æ¡¥çš„ä¾‹å­ï¼Œå•ä¸ªcpuè¡¨ç¤ºæ¡¥ä¸Šåªæœ‰ä¸€æ¡é“ï¼Œé‚£å¤šä¸ª/å¤šæ ¸ cpu è¡¨ç¤º æ¡¥ä¸Šæœ‰å¤šæ¡é“ï¼Œè¿™æ ·æ¡¥ä¸Šçš„æ•´ä½“å®¹é‡æ˜¯ä¸æ˜¯å¢åŠ äº†nå€ï¼Ÿ\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img.mupaie.com/20190228114606538.png)\næ‰€ä»¥ï¼Œ2ä¸ªCPUè¡¨æ˜ç³»ç»Ÿè´Ÿè·å¯ä»¥è¾¾åˆ°2.0ï¼Œæ­¤æ—¶æ¯ä¸ªCPUéƒ½è¾¾åˆ°100%çš„å·¥ä½œé‡ã€‚æ¨å¹¿å¼€æ¥ï¼Œnä¸ªCPUçš„ç”µè„‘ï¼Œå¯æ¥å—çš„ç³»ç»Ÿè´Ÿè·æœ€å¤§ä¸ºn.0ã€‚\n\n# 4. è§‚å¯Ÿcpuè´Ÿè½½æ¯ä¸ªæ—¶é—´çš„å˜åŒ–æƒ…å†µï¼Œåˆ¤æ–­è¿è¡ŒçŠ¶æ€ï¼Ÿ\né€šè¿‡ top å‘½ä»¤æ˜¾ç¤ºäº† \"load average\" çš„ä¸‰ä¸ªå¹³å‡å€¼åˆ†åˆ«æ˜¯1åˆ†é’Ÿã€5åˆ†é’Ÿï¼Œ15åˆ†é’Ÿçš„ç³»ç»Ÿè´Ÿè½½ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæˆ‘ä»¬åº”è¯¥å‚è€ƒä¸€åˆ†é’Ÿï¼Œäº”åˆ†é’Ÿï¼Œè¿˜æ˜¯åäº”åˆ†é’Ÿï¼Ÿ\nå¦‚æœåªæœ‰1åˆ†é’Ÿçš„ç³»ç»Ÿè´Ÿè·å¤§äº1.0ï¼Œå…¶ä»–ä¸¤ä¸ªæ—¶é—´æ®µéƒ½å°äº1.0ï¼Œè¿™è¡¨æ˜åªæ˜¯æš‚æ—¶ç°è±¡ï¼Œé—®é¢˜ä¸å¤§ã€‚\nå¦‚æœ15åˆ†é’Ÿå†…ï¼Œå¹³å‡ç³»ç»Ÿè´Ÿè·å¤§äº1.0ï¼ˆè°ƒæ•´CPUæ ¸å¿ƒæ•°ä¹‹åï¼‰ï¼Œè¡¨æ˜é—®é¢˜æŒç»­å­˜åœ¨ï¼Œä¸æ˜¯æš‚æ—¶ç°è±¡ã€‚æ‰€ä»¥ï¼Œä½ åº”è¯¥ä¸»è¦è§‚å¯Ÿ\"15åˆ†é’Ÿç³»ç»Ÿè´Ÿè·\"ï¼Œå°†å®ƒä½œä¸ºç”µè„‘æ­£å¸¸è¿è¡Œçš„æŒ‡æ ‡ã€‚\n\n# 5. æŸ¥çœ‹ç³»ç»Ÿçš„cpuæ ¸æ•°\né€šè¿‡ cat /proc/cpuinfo èƒ½è·å–ç³»ç»Ÿä¸­æ¯ä¸ªå¤„ç†å™¨çš„ä¿¡æ¯ï¼Œå¦‚æœä½ æƒ³çŸ¥é“cpuæ ¸å¿ƒæ•°é‡ï¼Œé€šè¿‡ grep -c 'model name' /proc/cpuinfo\n\nå‚è€ƒæ–‡æ¡£ï¼š\n[ç†è§£Linuxç³»ç»Ÿè´Ÿè·](http://www.ruanyifeng.com/blog/2011/07/linux_load_average_explained.html)\n[Understanding Linux CPU Load](https://scoutapp.com/blog/understanding-load-averages)\n\n","slug":"ç†è§£-linux-cpu-è´Ÿè½½","published":1,"updated":"2019-07-14T04:16:44.438Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkctuz001a4osx6gqifuid","content":"<h1 id=\"1-å¦‚ä½•æŸ¥çœ‹cpuè´Ÿè½½ï¼Ÿé€šè¿‡ä»€ä¹ˆå‘½ä»¤\"><a href=\"#1-å¦‚ä½•æŸ¥çœ‹cpuè´Ÿè½½ï¼Ÿé€šè¿‡ä»€ä¹ˆå‘½ä»¤\" class=\"headerlink\" title=\"1. å¦‚ä½•æŸ¥çœ‹cpuè´Ÿè½½ï¼Ÿé€šè¿‡ä»€ä¹ˆå‘½ä»¤\"></a>1. å¦‚ä½•æŸ¥çœ‹cpuè´Ÿè½½ï¼Ÿé€šè¿‡ä»€ä¹ˆå‘½ä»¤</h1><p>å½“ä½ çš„ç”µè„‘è¿è¡Œç¼“æ…¢ï¼Œæ“ä½œèµ·æ¥å¾ˆå¡çš„æ—¶å€™ï¼Œè¿™æ—¶ä½ åº”è¯¥æŸ¥çœ‹ä¸€ä¸‹ä½ çš„cpuæ˜¯ä¸æ˜¯å¤„äºè´Ÿè½½çŠ¶æ€ä¸‹ã€‚ä¸‹é¢æˆ‘ä»¬é€šè¿‡å‘½ä»¤ top æˆ– uptime æŸ¥çœ‹å¹³å‡è´Ÿè½½ï¼Œå¦‚ä¸‹ï¼š<br><img src=\"https://img.mupaie.com/20190228111519685.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>ä¸‰ä¸ªå‚æ•°åˆ†åˆ«è¡¨ç¤º ä¸€åˆ†é’Ÿï¼Œ5åˆ†é’Ÿï¼Œ15åˆ†é’Ÿ å çš„cpuæ¯”ä¾‹ï¼Œè¶Šä½è¡¨ç¤ºcpuå¤„äºæ¯”è¾ƒç©ºé—²çš„é˜¶æ®µï¼Œä½†æ˜¯è¶Šå¤§åˆ™ä¼šå‡ºç°cpuè¿‡è½½çš„é—®é¢˜ã€‚</p>\n<h1 id=\"2-äº†è§£è´Ÿè½½å‚æ•°çš„æ„ä¹‰ï¼Ÿ\"><a href=\"#2-äº†è§£è´Ÿè½½å‚æ•°çš„æ„ä¹‰ï¼Ÿ\" class=\"headerlink\" title=\"2. äº†è§£è´Ÿè½½å‚æ•°çš„æ„ä¹‰ï¼Ÿ\"></a>2. äº†è§£è´Ÿè½½å‚æ•°çš„æ„ä¹‰ï¼Ÿ</h1><p>åœ¨å•ä¸ªcpuä¸‹ï¼Œç”±äºåªæœ‰ä¸€ä¸ªcpuï¼Œæ‰€ä»¥æ‰€æœ‰æ“ä½œéƒ½ç»è¿‡å®ƒæ¥å®Œæˆï¼Œæˆ‘ä»¬ä¸¾ä¸ªä¾‹å­æ¥å½¢è±¡çš„é˜è¿°è¿™ä¸ªè¿‡ç¨‹ï¼š<br>æˆ‘ä»¬æŠŠcpuæ¯”ä½œä¸€æ¡æ¡¥ï¼Œæ“ä½œè¿›ç¨‹æ¯”ä½œè½¦ã€‚å› ä¸ºåªæœ‰ä¸€ä¸ªcpuï¼Œæ‰€ä»¥è½¦è¾†éƒ½å¿…é¡»ä»è¿™ä¸ªè½¦é“é€šè¿‡ï¼Œ</p>\n<p>ç³»ç»Ÿè´Ÿè½½ä¸º0çš„æ—¶å€™ï¼Œè¡¨ç¤ºæ²¡æœ‰è½¦ç»è¿‡<br><img src=\"https://img.mupaie.com/20190416130016.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>è´Ÿè½½ä¸º0.5çš„æ—¶å€™ï¼Œè¡¨ç¤ºå¤§æ¡¥æœ‰ä¸€åŠçš„è·¯æ®µæœ‰è½¦è¾†<br><img src=\"https://img.mupaie.com/20190228112700968.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>è´Ÿè½½ä¸º1.0ï¼Œæ„å‘³ç€å¤§æ¡¥çš„æ‰€æœ‰è·¯æ®µéƒ½æœ‰è½¦ï¼Œä¹Ÿå°±æ˜¯è¯´å¤§æ¡¥å·²ç»â€æ»¡â€äº†ã€‚ä½†æ˜¯å¿…é¡»æ³¨æ„çš„æ˜¯ï¼Œç›´åˆ°æ­¤æ—¶å¤§æ¡¥è¿˜æ˜¯èƒ½é¡ºç•…é€šè¡Œçš„ã€‚<br><img src=\"https://img.mupaie.com/20190228112715668.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>è´Ÿè½½å¤§äº1ï¼Œå°±è¡¨ç¤ºå¤§æ¡¥å·²ç»å¤„äºæ‹¥æŒ¤çŠ¶æ€ï¼Œåé¢çš„è½¦å¿…é¡»å¤„äºç­‰å¾…ä¸­ï¼Œç­‰å‰é¢çš„è½¦è¾†é€šè¿‡å¤§æ¡¥åï¼Œåé¢æ’é˜Ÿçš„è½¦è¾†æ‰èƒ½ä¾æ¬¡é€šè¿‡ã€‚</p>\n<p>é€šè¿‡æ¡¥å’Œè½¦è¾†çš„ä¾‹å­ï¼Œæˆ‘ä»¬èƒ½å¾ˆå¥½çš„ç†è§£ï¼Œå¦‚æœä½ æƒ³è½¦è¾†æˆ–è€…ä½ çš„è¿›ç¨‹ä¸éœ€è¦ç­‰å¾…ï¼Œä½ å°±éœ€è¦è®©ä½ çš„cpu è´Ÿè½½ ä½äº 1ã€‚å½“å¤§äºæˆ–ç­‰äº 1çš„æ—¶å€™ä½ å°±éœ€è¦è€ƒè™‘å¦‚ä½•é™ä½è´Ÿè½½ã€‚</p>\n<h1 id=\"3-å¤šä¸ªcpuæˆ–è€…å¤šæ ¸cpu-è´Ÿè½½å€¼çš„å˜åŒ–ï¼Ÿ\"><a href=\"#3-å¤šä¸ªcpuæˆ–è€…å¤šæ ¸cpu-è´Ÿè½½å€¼çš„å˜åŒ–ï¼Ÿ\" class=\"headerlink\" title=\"3. å¤šä¸ªcpuæˆ–è€…å¤šæ ¸cpu è´Ÿè½½å€¼çš„å˜åŒ–ï¼Ÿ\"></a>3. å¤šä¸ªcpuæˆ–è€…å¤šæ ¸cpu è´Ÿè½½å€¼çš„å˜åŒ–ï¼Ÿ</h1><p>ä¸Šè¿°æˆ‘ä»¬è®²çš„éƒ½æ˜¯å•cpuæˆ–è€…å•æ ¸cpuçš„æƒ…å†µï¼Œé‚£ä¹ˆå¤šæ ¸æˆ–è€…å¤šä¸ªcpuçš„æƒ…å†µä¸‹ï¼Œè´Ÿè½½æ˜¯æ€ä¹ˆå˜åŒ–çš„å‘¢ï¼Ÿ<br> æˆ‘ä»¬ç»§ç»­ç”¨ä¹‹å‰æ¡¥çš„ä¾‹å­ï¼Œå•ä¸ªcpuè¡¨ç¤ºæ¡¥ä¸Šåªæœ‰ä¸€æ¡é“ï¼Œé‚£å¤šä¸ª/å¤šæ ¸ cpu è¡¨ç¤º æ¡¥ä¸Šæœ‰å¤šæ¡é“ï¼Œè¿™æ ·æ¡¥ä¸Šçš„æ•´ä½“å®¹é‡æ˜¯ä¸æ˜¯å¢åŠ äº†nå€ï¼Ÿ<br><img src=\"https://img.mupaie.com/20190228114606538.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>æ‰€ä»¥ï¼Œ2ä¸ªCPUè¡¨æ˜ç³»ç»Ÿè´Ÿè·å¯ä»¥è¾¾åˆ°2.0ï¼Œæ­¤æ—¶æ¯ä¸ªCPUéƒ½è¾¾åˆ°100%çš„å·¥ä½œé‡ã€‚æ¨å¹¿å¼€æ¥ï¼Œnä¸ªCPUçš„ç”µè„‘ï¼Œå¯æ¥å—çš„ç³»ç»Ÿè´Ÿè·æœ€å¤§ä¸ºn.0ã€‚</p>\n<h1 id=\"4-è§‚å¯Ÿcpuè´Ÿè½½æ¯ä¸ªæ—¶é—´çš„å˜åŒ–æƒ…å†µï¼Œåˆ¤æ–­è¿è¡ŒçŠ¶æ€ï¼Ÿ\"><a href=\"#4-è§‚å¯Ÿcpuè´Ÿè½½æ¯ä¸ªæ—¶é—´çš„å˜åŒ–æƒ…å†µï¼Œåˆ¤æ–­è¿è¡ŒçŠ¶æ€ï¼Ÿ\" class=\"headerlink\" title=\"4. è§‚å¯Ÿcpuè´Ÿè½½æ¯ä¸ªæ—¶é—´çš„å˜åŒ–æƒ…å†µï¼Œåˆ¤æ–­è¿è¡ŒçŠ¶æ€ï¼Ÿ\"></a>4. è§‚å¯Ÿcpuè´Ÿè½½æ¯ä¸ªæ—¶é—´çš„å˜åŒ–æƒ…å†µï¼Œåˆ¤æ–­è¿è¡ŒçŠ¶æ€ï¼Ÿ</h1><p>é€šè¿‡ top å‘½ä»¤æ˜¾ç¤ºäº† â€œload averageâ€ çš„ä¸‰ä¸ªå¹³å‡å€¼åˆ†åˆ«æ˜¯1åˆ†é’Ÿã€5åˆ†é’Ÿï¼Œ15åˆ†é’Ÿçš„ç³»ç»Ÿè´Ÿè½½ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæˆ‘ä»¬åº”è¯¥å‚è€ƒä¸€åˆ†é’Ÿï¼Œäº”åˆ†é’Ÿï¼Œè¿˜æ˜¯åäº”åˆ†é’Ÿï¼Ÿ<br>å¦‚æœåªæœ‰1åˆ†é’Ÿçš„ç³»ç»Ÿè´Ÿè·å¤§äº1.0ï¼Œå…¶ä»–ä¸¤ä¸ªæ—¶é—´æ®µéƒ½å°äº1.0ï¼Œè¿™è¡¨æ˜åªæ˜¯æš‚æ—¶ç°è±¡ï¼Œé—®é¢˜ä¸å¤§ã€‚<br>å¦‚æœ15åˆ†é’Ÿå†…ï¼Œå¹³å‡ç³»ç»Ÿè´Ÿè·å¤§äº1.0ï¼ˆè°ƒæ•´CPUæ ¸å¿ƒæ•°ä¹‹åï¼‰ï¼Œè¡¨æ˜é—®é¢˜æŒç»­å­˜åœ¨ï¼Œä¸æ˜¯æš‚æ—¶ç°è±¡ã€‚æ‰€ä»¥ï¼Œä½ åº”è¯¥ä¸»è¦è§‚å¯Ÿâ€15åˆ†é’Ÿç³»ç»Ÿè´Ÿè·â€ï¼Œå°†å®ƒä½œä¸ºç”µè„‘æ­£å¸¸è¿è¡Œçš„æŒ‡æ ‡ã€‚</p>\n<h1 id=\"5-æŸ¥çœ‹ç³»ç»Ÿçš„cpuæ ¸æ•°\"><a href=\"#5-æŸ¥çœ‹ç³»ç»Ÿçš„cpuæ ¸æ•°\" class=\"headerlink\" title=\"5. æŸ¥çœ‹ç³»ç»Ÿçš„cpuæ ¸æ•°\"></a>5. æŸ¥çœ‹ç³»ç»Ÿçš„cpuæ ¸æ•°</h1><p>é€šè¿‡ cat /proc/cpuinfo èƒ½è·å–ç³»ç»Ÿä¸­æ¯ä¸ªå¤„ç†å™¨çš„ä¿¡æ¯ï¼Œå¦‚æœä½ æƒ³çŸ¥é“cpuæ ¸å¿ƒæ•°é‡ï¼Œé€šè¿‡ grep -c â€˜model nameâ€™ /proc/cpuinfo</p>\n<p>å‚è€ƒæ–‡æ¡£ï¼š<br><a href=\"http://www.ruanyifeng.com/blog/2011/07/linux_load_average_explained.html\" target=\"_blank\" rel=\"noopener\">ç†è§£Linuxç³»ç»Ÿè´Ÿè·</a><br><a href=\"https://scoutapp.com/blog/understanding-load-averages\" target=\"_blank\" rel=\"noopener\">Understanding Linux CPU Load</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"1-å¦‚ä½•æŸ¥çœ‹cpuè´Ÿè½½ï¼Ÿé€šè¿‡ä»€ä¹ˆå‘½ä»¤\"><a href=\"#1-å¦‚ä½•æŸ¥çœ‹cpuè´Ÿè½½ï¼Ÿé€šè¿‡ä»€ä¹ˆå‘½ä»¤\" class=\"headerlink\" title=\"1. å¦‚ä½•æŸ¥çœ‹cpuè´Ÿè½½ï¼Ÿé€šè¿‡ä»€ä¹ˆå‘½ä»¤\"></a>1. å¦‚ä½•æŸ¥çœ‹cpuè´Ÿè½½ï¼Ÿé€šè¿‡ä»€ä¹ˆå‘½ä»¤</h1><p>å½“ä½ çš„ç”µè„‘è¿è¡Œç¼“æ…¢ï¼Œæ“ä½œèµ·æ¥å¾ˆå¡çš„æ—¶å€™ï¼Œè¿™æ—¶ä½ åº”è¯¥æŸ¥çœ‹ä¸€ä¸‹ä½ çš„cpuæ˜¯ä¸æ˜¯å¤„äºè´Ÿè½½çŠ¶æ€ä¸‹ã€‚ä¸‹é¢æˆ‘ä»¬é€šè¿‡å‘½ä»¤ top æˆ– uptime æŸ¥çœ‹å¹³å‡è´Ÿè½½ï¼Œå¦‚ä¸‹ï¼š<br><img src=\"https://img.mupaie.com/20190228111519685.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>ä¸‰ä¸ªå‚æ•°åˆ†åˆ«è¡¨ç¤º ä¸€åˆ†é’Ÿï¼Œ5åˆ†é’Ÿï¼Œ15åˆ†é’Ÿ å çš„cpuæ¯”ä¾‹ï¼Œè¶Šä½è¡¨ç¤ºcpuå¤„äºæ¯”è¾ƒç©ºé—²çš„é˜¶æ®µï¼Œä½†æ˜¯è¶Šå¤§åˆ™ä¼šå‡ºç°cpuè¿‡è½½çš„é—®é¢˜ã€‚</p>\n<h1 id=\"2-äº†è§£è´Ÿè½½å‚æ•°çš„æ„ä¹‰ï¼Ÿ\"><a href=\"#2-äº†è§£è´Ÿè½½å‚æ•°çš„æ„ä¹‰ï¼Ÿ\" class=\"headerlink\" title=\"2. äº†è§£è´Ÿè½½å‚æ•°çš„æ„ä¹‰ï¼Ÿ\"></a>2. äº†è§£è´Ÿè½½å‚æ•°çš„æ„ä¹‰ï¼Ÿ</h1><p>åœ¨å•ä¸ªcpuä¸‹ï¼Œç”±äºåªæœ‰ä¸€ä¸ªcpuï¼Œæ‰€ä»¥æ‰€æœ‰æ“ä½œéƒ½ç»è¿‡å®ƒæ¥å®Œæˆï¼Œæˆ‘ä»¬ä¸¾ä¸ªä¾‹å­æ¥å½¢è±¡çš„é˜è¿°è¿™ä¸ªè¿‡ç¨‹ï¼š<br>æˆ‘ä»¬æŠŠcpuæ¯”ä½œä¸€æ¡æ¡¥ï¼Œæ“ä½œè¿›ç¨‹æ¯”ä½œè½¦ã€‚å› ä¸ºåªæœ‰ä¸€ä¸ªcpuï¼Œæ‰€ä»¥è½¦è¾†éƒ½å¿…é¡»ä»è¿™ä¸ªè½¦é“é€šè¿‡ï¼Œ</p>\n<p>ç³»ç»Ÿè´Ÿè½½ä¸º0çš„æ—¶å€™ï¼Œè¡¨ç¤ºæ²¡æœ‰è½¦ç»è¿‡<br><img src=\"https://img.mupaie.com/20190416130016.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>è´Ÿè½½ä¸º0.5çš„æ—¶å€™ï¼Œè¡¨ç¤ºå¤§æ¡¥æœ‰ä¸€åŠçš„è·¯æ®µæœ‰è½¦è¾†<br><img src=\"https://img.mupaie.com/20190228112700968.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>è´Ÿè½½ä¸º1.0ï¼Œæ„å‘³ç€å¤§æ¡¥çš„æ‰€æœ‰è·¯æ®µéƒ½æœ‰è½¦ï¼Œä¹Ÿå°±æ˜¯è¯´å¤§æ¡¥å·²ç»â€æ»¡â€äº†ã€‚ä½†æ˜¯å¿…é¡»æ³¨æ„çš„æ˜¯ï¼Œç›´åˆ°æ­¤æ—¶å¤§æ¡¥è¿˜æ˜¯èƒ½é¡ºç•…é€šè¡Œçš„ã€‚<br><img src=\"https://img.mupaie.com/20190228112715668.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>è´Ÿè½½å¤§äº1ï¼Œå°±è¡¨ç¤ºå¤§æ¡¥å·²ç»å¤„äºæ‹¥æŒ¤çŠ¶æ€ï¼Œåé¢çš„è½¦å¿…é¡»å¤„äºç­‰å¾…ä¸­ï¼Œç­‰å‰é¢çš„è½¦è¾†é€šè¿‡å¤§æ¡¥åï¼Œåé¢æ’é˜Ÿçš„è½¦è¾†æ‰èƒ½ä¾æ¬¡é€šè¿‡ã€‚</p>\n<p>é€šè¿‡æ¡¥å’Œè½¦è¾†çš„ä¾‹å­ï¼Œæˆ‘ä»¬èƒ½å¾ˆå¥½çš„ç†è§£ï¼Œå¦‚æœä½ æƒ³è½¦è¾†æˆ–è€…ä½ çš„è¿›ç¨‹ä¸éœ€è¦ç­‰å¾…ï¼Œä½ å°±éœ€è¦è®©ä½ çš„cpu è´Ÿè½½ ä½äº 1ã€‚å½“å¤§äºæˆ–ç­‰äº 1çš„æ—¶å€™ä½ å°±éœ€è¦è€ƒè™‘å¦‚ä½•é™ä½è´Ÿè½½ã€‚</p>\n<h1 id=\"3-å¤šä¸ªcpuæˆ–è€…å¤šæ ¸cpu-è´Ÿè½½å€¼çš„å˜åŒ–ï¼Ÿ\"><a href=\"#3-å¤šä¸ªcpuæˆ–è€…å¤šæ ¸cpu-è´Ÿè½½å€¼çš„å˜åŒ–ï¼Ÿ\" class=\"headerlink\" title=\"3. å¤šä¸ªcpuæˆ–è€…å¤šæ ¸cpu è´Ÿè½½å€¼çš„å˜åŒ–ï¼Ÿ\"></a>3. å¤šä¸ªcpuæˆ–è€…å¤šæ ¸cpu è´Ÿè½½å€¼çš„å˜åŒ–ï¼Ÿ</h1><p>ä¸Šè¿°æˆ‘ä»¬è®²çš„éƒ½æ˜¯å•cpuæˆ–è€…å•æ ¸cpuçš„æƒ…å†µï¼Œé‚£ä¹ˆå¤šæ ¸æˆ–è€…å¤šä¸ªcpuçš„æƒ…å†µä¸‹ï¼Œè´Ÿè½½æ˜¯æ€ä¹ˆå˜åŒ–çš„å‘¢ï¼Ÿ<br> æˆ‘ä»¬ç»§ç»­ç”¨ä¹‹å‰æ¡¥çš„ä¾‹å­ï¼Œå•ä¸ªcpuè¡¨ç¤ºæ¡¥ä¸Šåªæœ‰ä¸€æ¡é“ï¼Œé‚£å¤šä¸ª/å¤šæ ¸ cpu è¡¨ç¤º æ¡¥ä¸Šæœ‰å¤šæ¡é“ï¼Œè¿™æ ·æ¡¥ä¸Šçš„æ•´ä½“å®¹é‡æ˜¯ä¸æ˜¯å¢åŠ äº†nå€ï¼Ÿ<br><img src=\"https://img.mupaie.com/20190228114606538.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>æ‰€ä»¥ï¼Œ2ä¸ªCPUè¡¨æ˜ç³»ç»Ÿè´Ÿè·å¯ä»¥è¾¾åˆ°2.0ï¼Œæ­¤æ—¶æ¯ä¸ªCPUéƒ½è¾¾åˆ°100%çš„å·¥ä½œé‡ã€‚æ¨å¹¿å¼€æ¥ï¼Œnä¸ªCPUçš„ç”µè„‘ï¼Œå¯æ¥å—çš„ç³»ç»Ÿè´Ÿè·æœ€å¤§ä¸ºn.0ã€‚</p>\n<h1 id=\"4-è§‚å¯Ÿcpuè´Ÿè½½æ¯ä¸ªæ—¶é—´çš„å˜åŒ–æƒ…å†µï¼Œåˆ¤æ–­è¿è¡ŒçŠ¶æ€ï¼Ÿ\"><a href=\"#4-è§‚å¯Ÿcpuè´Ÿè½½æ¯ä¸ªæ—¶é—´çš„å˜åŒ–æƒ…å†µï¼Œåˆ¤æ–­è¿è¡ŒçŠ¶æ€ï¼Ÿ\" class=\"headerlink\" title=\"4. è§‚å¯Ÿcpuè´Ÿè½½æ¯ä¸ªæ—¶é—´çš„å˜åŒ–æƒ…å†µï¼Œåˆ¤æ–­è¿è¡ŒçŠ¶æ€ï¼Ÿ\"></a>4. è§‚å¯Ÿcpuè´Ÿè½½æ¯ä¸ªæ—¶é—´çš„å˜åŒ–æƒ…å†µï¼Œåˆ¤æ–­è¿è¡ŒçŠ¶æ€ï¼Ÿ</h1><p>é€šè¿‡ top å‘½ä»¤æ˜¾ç¤ºäº† â€œload averageâ€ çš„ä¸‰ä¸ªå¹³å‡å€¼åˆ†åˆ«æ˜¯1åˆ†é’Ÿã€5åˆ†é’Ÿï¼Œ15åˆ†é’Ÿçš„ç³»ç»Ÿè´Ÿè½½ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæˆ‘ä»¬åº”è¯¥å‚è€ƒä¸€åˆ†é’Ÿï¼Œäº”åˆ†é’Ÿï¼Œè¿˜æ˜¯åäº”åˆ†é’Ÿï¼Ÿ<br>å¦‚æœåªæœ‰1åˆ†é’Ÿçš„ç³»ç»Ÿè´Ÿè·å¤§äº1.0ï¼Œå…¶ä»–ä¸¤ä¸ªæ—¶é—´æ®µéƒ½å°äº1.0ï¼Œè¿™è¡¨æ˜åªæ˜¯æš‚æ—¶ç°è±¡ï¼Œé—®é¢˜ä¸å¤§ã€‚<br>å¦‚æœ15åˆ†é’Ÿå†…ï¼Œå¹³å‡ç³»ç»Ÿè´Ÿè·å¤§äº1.0ï¼ˆè°ƒæ•´CPUæ ¸å¿ƒæ•°ä¹‹åï¼‰ï¼Œè¡¨æ˜é—®é¢˜æŒç»­å­˜åœ¨ï¼Œä¸æ˜¯æš‚æ—¶ç°è±¡ã€‚æ‰€ä»¥ï¼Œä½ åº”è¯¥ä¸»è¦è§‚å¯Ÿâ€15åˆ†é’Ÿç³»ç»Ÿè´Ÿè·â€ï¼Œå°†å®ƒä½œä¸ºç”µè„‘æ­£å¸¸è¿è¡Œçš„æŒ‡æ ‡ã€‚</p>\n<h1 id=\"5-æŸ¥çœ‹ç³»ç»Ÿçš„cpuæ ¸æ•°\"><a href=\"#5-æŸ¥çœ‹ç³»ç»Ÿçš„cpuæ ¸æ•°\" class=\"headerlink\" title=\"5. æŸ¥çœ‹ç³»ç»Ÿçš„cpuæ ¸æ•°\"></a>5. æŸ¥çœ‹ç³»ç»Ÿçš„cpuæ ¸æ•°</h1><p>é€šè¿‡ cat /proc/cpuinfo èƒ½è·å–ç³»ç»Ÿä¸­æ¯ä¸ªå¤„ç†å™¨çš„ä¿¡æ¯ï¼Œå¦‚æœä½ æƒ³çŸ¥é“cpuæ ¸å¿ƒæ•°é‡ï¼Œé€šè¿‡ grep -c â€˜model nameâ€™ /proc/cpuinfo</p>\n<p>å‚è€ƒæ–‡æ¡£ï¼š<br><a href=\"http://www.ruanyifeng.com/blog/2011/07/linux_load_average_explained.html\" target=\"_blank\" rel=\"noopener\">ç†è§£Linuxç³»ç»Ÿè´Ÿè·</a><br><a href=\"https://scoutapp.com/blog/understanding-load-averages\" target=\"_blank\" rel=\"noopener\">Understanding Linux CPU Load</a></p>\n"},{"title":"åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯","date":"2019-02-26T01:52:53.000Z","_content":"&nbsp;&nbsp;&nbsp;&nbsp;å¬è¯´å†…å­˜å¼€å§‹é™ä»·äº†ï¼Œå……æ»¡å¥½å¥‡å¿ƒçš„æˆ‘å°±æ‰“å¼€äº¬ä¸œçœ‹äº†ä¸€ä¸‹å†…å­˜æ¡çš„ä»·æ ¼ï¼Œæœ¬æ¥åªæƒ³ä¹°ä¸€æ¡çš„æˆ‘ï¼Œä¸‹å•å‰çœ‹åˆ°ä¸€ä¸ªå¥—è£…ä¸¤æ¡å†…å­˜å±…ç„¶æ¯”å•æ¡çš„ä»·æ ¼è´µäº†è¿™ä¹ˆå¤šï¼Œå¸¦ç€å¥½å¥‡è¯¢é—®äº†å•†å®¶ï¼Œå•†å®¶çš„è§£é‡Šæ˜¯è¿™æ ·çš„ï¼š\n* å†…å­˜æ¡å¥—è£…ä¸æ˜¯ä¿ƒé”€æ–¹å¼ï¼Œè€Œæ˜¯2æ¡ï¼ˆåŒé€šé“ï¼‰ã€3æ¡ï¼ˆä¸‰é€šé“ï¼‰æˆ–è€…4æ¡ï¼ˆå››é€šé“ï¼‰å“ç‰Œã€å‚æ•°å®Œå…¨ç›¸åŒçš„ï¼ˆåŒä¸€ç”Ÿäº§çº¿ã€åŒä¸€æ‰¹æ¬¡çš„äº§å“ï¼‰å†…å­˜æˆå¥—é”€å”®ï¼Œå…¼å®¹æ€§æ˜¯æœ€å‡ºè‰²çš„ã€‚è€Œå•æ¡å†…å­˜ï¼Œåœ¨ç»„å»ºé€šé“çš„æ—¶å€™ï¼Œå…·æœ‰éšæ„æ€§ï¼Œå¯èƒ½å“ç‰Œã€å‚æ•°éƒ½æœ‰å·®å¼‚ï¼Œå…¼å®¹æ€§å½“ç„¶æ²¡æœ‰å¥—è£…å¥½ã€‚\nå¸¦ç€è¿™ä¸ªè§£é‡Šå»äº†è§£åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯\n# 1. ä»€ä¹ˆæ˜¯åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯\nç»´åŸºç™¾ç§‘ç»™å‡ºçš„è§£é‡Šæ˜¯ï¼šåŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯ï¼Œæ­¤ç§æŠ€æœ¯å°†å¤šä¸ªå­˜å‚¨å™¨ç”±ä¸²è”æ–¹å¼æ”¹è‰¯ä¸ºå¹¶è”æ–¹å¼ï¼Œä»¥å¾—åˆ°æ›´å¤§çš„å¸¦å®½ã€‚æœ€æ—©ä½¿ç”¨æ­¤æŠ€æœ¯çš„è®°å¿†ä½“æ˜¯Rambusã€‚\n# 2. ä¸ºå•¥ä½¿ç”¨åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯ï¼Ÿ\nä¸»è¦æ˜¯cpuéšç€æŠ€æœ¯å‘å±•ï¼Œå¯¹å†…å­˜è¦æ±‚è¶Šæ¥è¶Šé«˜ï¼Œå•é€šé“æŠ€æœ¯å·²ç»ä¸èƒ½æ»¡è¶³cpuçš„è¦æ±‚ã€‚æ¯”å¦‚cpu ç­‰å¾…æ—¶é—´ï¼Œæ•°æ®ä¼ è¾“ï¼Œå¤„ç†ç­‰è¦æ±‚ã€‚\n# 3. åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯çš„ä¼˜ç‚¹ï¼Ÿç›¸æ¯”å•é€šé“æŠ€æœ¯\n* ä½¿ç”¨å•é€šé“æŠ€æœ¯æ—¶ï¼Œä¸»æ¿ä¸Šå¤šæ¡å­˜å‚¨å™¨æ˜¯ä»¥ä¸²è”æ–¹å¼è¿ä½œï¼Œä¹Ÿå°±æ˜¯ä»…æ˜¯å½“ä½œä¸€æ¡å­˜å‚¨å™¨è¿ä½œï¼Œåªæ˜¯å®¹é‡ä¼šç›¸åŠ ã€‚å­˜å‚¨å™¨æ€»çº¿å®½åº¦ä¸º64-bitï¼Œæ— è®ºå®‰è£…å‡ æ¡å­˜å‚¨å™¨ï¼Œå¸¦å®½éƒ½å›ºå®šä¸º64-bitã€‚\n* åŒé€šé“ä¾¿æ˜¯åˆ©ç”¨å¹¶è”æ–¹å¼è¿ä½œï¼Œå½“è¿æ¥ä¸¤æ¡å­˜å‚¨å™¨æ—¶ï¼Œæ€»çº¿å®½åº¦å°†ä¼šè¾¾åˆ°128-bitï¼Œè€Œå¥—ä¸Šå­˜å‚¨å™¨å®½åº¦è®¡ç®—ä¾¿ä¼šçŸ¥é“ç›¸å·®ç”šè¿œã€‚ä¹Ÿå°±æ˜¯å¼€åŒé€šé“åï¼Œå¸¦å®½å¯ä»¥å¢è‡³ä¸¤å€ï¼Œæ€§èƒ½ä¹Ÿä¼šå¢åŠ ï¼›è‡³äºèƒ½å¦æå‡è‡³ä¸¤å€é€Ÿåº¦ï¼Œæ ¹æ®æµ‹è¯•ä¼¼ä¹æ˜¯æ²¡åŠæ³•ï¼Œä½†æ˜¯å¯¹äºå­˜å‚¨å™¨æ€§èƒ½çš„æå‡å´æ˜¯å¾ˆå¤§çš„å¸®åŠ©ã€‚\nç†è®ºä¸Šï¼ŒåŒé€šé“èƒ½æå‡å­˜å‚¨å™¨ä¸¤å€çš„æ€§èƒ½ï¼›å¯¹ç³»ç»Ÿæ•´ä½“æ€§èƒ½æ¥è¯´ï¼Œæ‰“å¼€åŒé€šé“å¸¦æ¥çš„æ€§èƒ½æå‡çº¦ä¸º2è‡³3%ï¼Œæœ€å¥½çš„æƒ…å†µæ˜¯æå‡çº¦5%ã€‚ä¸€ç›´åˆ°ç°åœ¨ï¼ŒåŒé€šé“å¯¹æ•´ä¸ªç³»ç»Ÿçš„å½±å“æœ€é«˜åªæœ‰å¤š5%çš„æ€§èƒ½è€Œå·²ã€‚åœ¨å®é™…ä½¿ç”¨ä¸Šï¼Œè‹¥éé•¿æ—¶é—´çš„æå¤§æ•°æ®è¿ç®—æˆ–é€è¿‡è½¯ä»¶æµ‹è¯•è·å–æµ‹è¯•æ•°æ®ï¼Œå¯¹äºç”¨æˆ·çš„æ“ä½œä¸Šå¹¶æ²¡æœ‰å¤ªå¤§çš„å·®å¼‚\nå¦‚æœæ˜¯çº¯ç²¹çš„CPUè¿ç®—ï¼Œä½¿ç”¨åŒé€šé“è¿‘ä¹æ²¡æœ‰æ€§èƒ½å¢é•¿ã€‚ä½†å¯¹äºé«˜ç«¯æ¸¸æˆç©å®¶æˆ–æ˜¯ç»˜å›¾éœ€æ±‚è¾ƒå¤§çš„ç”¨æˆ·è€Œè¨€ï¼ŒåŒé€šé“æŠ€æœ¯ä¸åä¸ºä¸€å¤§å¸®åŠ©ï¼Œå› ä¸ºGPUè¦ç»å¸¸è®¿é—®çº¹ç†è´´å›¾æ•°æ®ï¼Œéœ€è¦å¾ˆå¤§çš„å­˜å‚¨å™¨å¸¦å®½ã€‚æ‰€ä»¥åœ¨ä½¿ç”¨åŒé€šé“æ—¶ï¼ŒåŒå€çš„å¸¦å®½å¯ä½¿å†…ç½®ç»˜å›¾æ ¸å¿ƒ(GPU)çš„æ€§èƒ½å¢é•¿è¿‘ä¸€å€ã€‚\n\nå‚è€ƒæ–‡æ¡£ï¼š\n[åŒé€šé“å­˜å‚¨å™¨æŠ€](https://zh.wikipedia.org/wiki/%E9%9B%99%E9%80%9A%E9%81%93%E8%A8%98%E6%86%B6%E9%AB%94%E6%8A%80%E8%A1%93)","source":"_posts/åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯.md","raw":"---\ntitle: åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯\ndate: 2019-02-26 09:52:53\ntags:\n- ç¡¬ä»¶\n- å†…å­˜\n---\n&nbsp;&nbsp;&nbsp;&nbsp;å¬è¯´å†…å­˜å¼€å§‹é™ä»·äº†ï¼Œå……æ»¡å¥½å¥‡å¿ƒçš„æˆ‘å°±æ‰“å¼€äº¬ä¸œçœ‹äº†ä¸€ä¸‹å†…å­˜æ¡çš„ä»·æ ¼ï¼Œæœ¬æ¥åªæƒ³ä¹°ä¸€æ¡çš„æˆ‘ï¼Œä¸‹å•å‰çœ‹åˆ°ä¸€ä¸ªå¥—è£…ä¸¤æ¡å†…å­˜å±…ç„¶æ¯”å•æ¡çš„ä»·æ ¼è´µäº†è¿™ä¹ˆå¤šï¼Œå¸¦ç€å¥½å¥‡è¯¢é—®äº†å•†å®¶ï¼Œå•†å®¶çš„è§£é‡Šæ˜¯è¿™æ ·çš„ï¼š\n* å†…å­˜æ¡å¥—è£…ä¸æ˜¯ä¿ƒé”€æ–¹å¼ï¼Œè€Œæ˜¯2æ¡ï¼ˆåŒé€šé“ï¼‰ã€3æ¡ï¼ˆä¸‰é€šé“ï¼‰æˆ–è€…4æ¡ï¼ˆå››é€šé“ï¼‰å“ç‰Œã€å‚æ•°å®Œå…¨ç›¸åŒçš„ï¼ˆåŒä¸€ç”Ÿäº§çº¿ã€åŒä¸€æ‰¹æ¬¡çš„äº§å“ï¼‰å†…å­˜æˆå¥—é”€å”®ï¼Œå…¼å®¹æ€§æ˜¯æœ€å‡ºè‰²çš„ã€‚è€Œå•æ¡å†…å­˜ï¼Œåœ¨ç»„å»ºé€šé“çš„æ—¶å€™ï¼Œå…·æœ‰éšæ„æ€§ï¼Œå¯èƒ½å“ç‰Œã€å‚æ•°éƒ½æœ‰å·®å¼‚ï¼Œå…¼å®¹æ€§å½“ç„¶æ²¡æœ‰å¥—è£…å¥½ã€‚\nå¸¦ç€è¿™ä¸ªè§£é‡Šå»äº†è§£åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯\n# 1. ä»€ä¹ˆæ˜¯åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯\nç»´åŸºç™¾ç§‘ç»™å‡ºçš„è§£é‡Šæ˜¯ï¼šåŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯ï¼Œæ­¤ç§æŠ€æœ¯å°†å¤šä¸ªå­˜å‚¨å™¨ç”±ä¸²è”æ–¹å¼æ”¹è‰¯ä¸ºå¹¶è”æ–¹å¼ï¼Œä»¥å¾—åˆ°æ›´å¤§çš„å¸¦å®½ã€‚æœ€æ—©ä½¿ç”¨æ­¤æŠ€æœ¯çš„è®°å¿†ä½“æ˜¯Rambusã€‚\n# 2. ä¸ºå•¥ä½¿ç”¨åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯ï¼Ÿ\nä¸»è¦æ˜¯cpuéšç€æŠ€æœ¯å‘å±•ï¼Œå¯¹å†…å­˜è¦æ±‚è¶Šæ¥è¶Šé«˜ï¼Œå•é€šé“æŠ€æœ¯å·²ç»ä¸èƒ½æ»¡è¶³cpuçš„è¦æ±‚ã€‚æ¯”å¦‚cpu ç­‰å¾…æ—¶é—´ï¼Œæ•°æ®ä¼ è¾“ï¼Œå¤„ç†ç­‰è¦æ±‚ã€‚\n# 3. åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯çš„ä¼˜ç‚¹ï¼Ÿç›¸æ¯”å•é€šé“æŠ€æœ¯\n* ä½¿ç”¨å•é€šé“æŠ€æœ¯æ—¶ï¼Œä¸»æ¿ä¸Šå¤šæ¡å­˜å‚¨å™¨æ˜¯ä»¥ä¸²è”æ–¹å¼è¿ä½œï¼Œä¹Ÿå°±æ˜¯ä»…æ˜¯å½“ä½œä¸€æ¡å­˜å‚¨å™¨è¿ä½œï¼Œåªæ˜¯å®¹é‡ä¼šç›¸åŠ ã€‚å­˜å‚¨å™¨æ€»çº¿å®½åº¦ä¸º64-bitï¼Œæ— è®ºå®‰è£…å‡ æ¡å­˜å‚¨å™¨ï¼Œå¸¦å®½éƒ½å›ºå®šä¸º64-bitã€‚\n* åŒé€šé“ä¾¿æ˜¯åˆ©ç”¨å¹¶è”æ–¹å¼è¿ä½œï¼Œå½“è¿æ¥ä¸¤æ¡å­˜å‚¨å™¨æ—¶ï¼Œæ€»çº¿å®½åº¦å°†ä¼šè¾¾åˆ°128-bitï¼Œè€Œå¥—ä¸Šå­˜å‚¨å™¨å®½åº¦è®¡ç®—ä¾¿ä¼šçŸ¥é“ç›¸å·®ç”šè¿œã€‚ä¹Ÿå°±æ˜¯å¼€åŒé€šé“åï¼Œå¸¦å®½å¯ä»¥å¢è‡³ä¸¤å€ï¼Œæ€§èƒ½ä¹Ÿä¼šå¢åŠ ï¼›è‡³äºèƒ½å¦æå‡è‡³ä¸¤å€é€Ÿåº¦ï¼Œæ ¹æ®æµ‹è¯•ä¼¼ä¹æ˜¯æ²¡åŠæ³•ï¼Œä½†æ˜¯å¯¹äºå­˜å‚¨å™¨æ€§èƒ½çš„æå‡å´æ˜¯å¾ˆå¤§çš„å¸®åŠ©ã€‚\nç†è®ºä¸Šï¼ŒåŒé€šé“èƒ½æå‡å­˜å‚¨å™¨ä¸¤å€çš„æ€§èƒ½ï¼›å¯¹ç³»ç»Ÿæ•´ä½“æ€§èƒ½æ¥è¯´ï¼Œæ‰“å¼€åŒé€šé“å¸¦æ¥çš„æ€§èƒ½æå‡çº¦ä¸º2è‡³3%ï¼Œæœ€å¥½çš„æƒ…å†µæ˜¯æå‡çº¦5%ã€‚ä¸€ç›´åˆ°ç°åœ¨ï¼ŒåŒé€šé“å¯¹æ•´ä¸ªç³»ç»Ÿçš„å½±å“æœ€é«˜åªæœ‰å¤š5%çš„æ€§èƒ½è€Œå·²ã€‚åœ¨å®é™…ä½¿ç”¨ä¸Šï¼Œè‹¥éé•¿æ—¶é—´çš„æå¤§æ•°æ®è¿ç®—æˆ–é€è¿‡è½¯ä»¶æµ‹è¯•è·å–æµ‹è¯•æ•°æ®ï¼Œå¯¹äºç”¨æˆ·çš„æ“ä½œä¸Šå¹¶æ²¡æœ‰å¤ªå¤§çš„å·®å¼‚\nå¦‚æœæ˜¯çº¯ç²¹çš„CPUè¿ç®—ï¼Œä½¿ç”¨åŒé€šé“è¿‘ä¹æ²¡æœ‰æ€§èƒ½å¢é•¿ã€‚ä½†å¯¹äºé«˜ç«¯æ¸¸æˆç©å®¶æˆ–æ˜¯ç»˜å›¾éœ€æ±‚è¾ƒå¤§çš„ç”¨æˆ·è€Œè¨€ï¼ŒåŒé€šé“æŠ€æœ¯ä¸åä¸ºä¸€å¤§å¸®åŠ©ï¼Œå› ä¸ºGPUè¦ç»å¸¸è®¿é—®çº¹ç†è´´å›¾æ•°æ®ï¼Œéœ€è¦å¾ˆå¤§çš„å­˜å‚¨å™¨å¸¦å®½ã€‚æ‰€ä»¥åœ¨ä½¿ç”¨åŒé€šé“æ—¶ï¼ŒåŒå€çš„å¸¦å®½å¯ä½¿å†…ç½®ç»˜å›¾æ ¸å¿ƒ(GPU)çš„æ€§èƒ½å¢é•¿è¿‘ä¸€å€ã€‚\n\nå‚è€ƒæ–‡æ¡£ï¼š\n[åŒé€šé“å­˜å‚¨å™¨æŠ€](https://zh.wikipedia.org/wiki/%E9%9B%99%E9%80%9A%E9%81%93%E8%A8%98%E6%86%B6%E9%AB%94%E6%8A%80%E8%A1%93)","slug":"åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯","published":1,"updated":"2019-07-14T03:11:26.979Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkctv1001c4osxi3zkuqic","content":"<p>&nbsp;&nbsp;&nbsp;&nbsp;å¬è¯´å†…å­˜å¼€å§‹é™ä»·äº†ï¼Œå……æ»¡å¥½å¥‡å¿ƒçš„æˆ‘å°±æ‰“å¼€äº¬ä¸œçœ‹äº†ä¸€ä¸‹å†…å­˜æ¡çš„ä»·æ ¼ï¼Œæœ¬æ¥åªæƒ³ä¹°ä¸€æ¡çš„æˆ‘ï¼Œä¸‹å•å‰çœ‹åˆ°ä¸€ä¸ªå¥—è£…ä¸¤æ¡å†…å­˜å±…ç„¶æ¯”å•æ¡çš„ä»·æ ¼è´µäº†è¿™ä¹ˆå¤šï¼Œå¸¦ç€å¥½å¥‡è¯¢é—®äº†å•†å®¶ï¼Œå•†å®¶çš„è§£é‡Šæ˜¯è¿™æ ·çš„ï¼š</p>\n<ul>\n<li>å†…å­˜æ¡å¥—è£…ä¸æ˜¯ä¿ƒé”€æ–¹å¼ï¼Œè€Œæ˜¯2æ¡ï¼ˆåŒé€šé“ï¼‰ã€3æ¡ï¼ˆä¸‰é€šé“ï¼‰æˆ–è€…4æ¡ï¼ˆå››é€šé“ï¼‰å“ç‰Œã€å‚æ•°å®Œå…¨ç›¸åŒçš„ï¼ˆåŒä¸€ç”Ÿäº§çº¿ã€åŒä¸€æ‰¹æ¬¡çš„äº§å“ï¼‰å†…å­˜æˆå¥—é”€å”®ï¼Œå…¼å®¹æ€§æ˜¯æœ€å‡ºè‰²çš„ã€‚è€Œå•æ¡å†…å­˜ï¼Œåœ¨ç»„å»ºé€šé“çš„æ—¶å€™ï¼Œå…·æœ‰éšæ„æ€§ï¼Œå¯èƒ½å“ç‰Œã€å‚æ•°éƒ½æœ‰å·®å¼‚ï¼Œå…¼å®¹æ€§å½“ç„¶æ²¡æœ‰å¥—è£…å¥½ã€‚<br>å¸¦ç€è¿™ä¸ªè§£é‡Šå»äº†è§£åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯<h1 id=\"1-ä»€ä¹ˆæ˜¯åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯\"><a href=\"#1-ä»€ä¹ˆæ˜¯åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯\" class=\"headerlink\" title=\"1. ä»€ä¹ˆæ˜¯åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯\"></a>1. ä»€ä¹ˆæ˜¯åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯</h1>ç»´åŸºç™¾ç§‘ç»™å‡ºçš„è§£é‡Šæ˜¯ï¼šåŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯ï¼Œæ­¤ç§æŠ€æœ¯å°†å¤šä¸ªå­˜å‚¨å™¨ç”±ä¸²è”æ–¹å¼æ”¹è‰¯ä¸ºå¹¶è”æ–¹å¼ï¼Œä»¥å¾—åˆ°æ›´å¤§çš„å¸¦å®½ã€‚æœ€æ—©ä½¿ç”¨æ­¤æŠ€æœ¯çš„è®°å¿†ä½“æ˜¯Rambusã€‚<h1 id=\"2-ä¸ºå•¥ä½¿ç”¨åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯ï¼Ÿ\"><a href=\"#2-ä¸ºå•¥ä½¿ç”¨åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯ï¼Ÿ\" class=\"headerlink\" title=\"2. ä¸ºå•¥ä½¿ç”¨åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯ï¼Ÿ\"></a>2. ä¸ºå•¥ä½¿ç”¨åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯ï¼Ÿ</h1>ä¸»è¦æ˜¯cpuéšç€æŠ€æœ¯å‘å±•ï¼Œå¯¹å†…å­˜è¦æ±‚è¶Šæ¥è¶Šé«˜ï¼Œå•é€šé“æŠ€æœ¯å·²ç»ä¸èƒ½æ»¡è¶³cpuçš„è¦æ±‚ã€‚æ¯”å¦‚cpu ç­‰å¾…æ—¶é—´ï¼Œæ•°æ®ä¼ è¾“ï¼Œå¤„ç†ç­‰è¦æ±‚ã€‚<h1 id=\"3-åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯çš„ä¼˜ç‚¹ï¼Ÿç›¸æ¯”å•é€šé“æŠ€æœ¯\"><a href=\"#3-åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯çš„ä¼˜ç‚¹ï¼Ÿç›¸æ¯”å•é€šé“æŠ€æœ¯\" class=\"headerlink\" title=\"3. åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯çš„ä¼˜ç‚¹ï¼Ÿç›¸æ¯”å•é€šé“æŠ€æœ¯\"></a>3. åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯çš„ä¼˜ç‚¹ï¼Ÿç›¸æ¯”å•é€šé“æŠ€æœ¯</h1></li>\n<li>ä½¿ç”¨å•é€šé“æŠ€æœ¯æ—¶ï¼Œä¸»æ¿ä¸Šå¤šæ¡å­˜å‚¨å™¨æ˜¯ä»¥ä¸²è”æ–¹å¼è¿ä½œï¼Œä¹Ÿå°±æ˜¯ä»…æ˜¯å½“ä½œä¸€æ¡å­˜å‚¨å™¨è¿ä½œï¼Œåªæ˜¯å®¹é‡ä¼šç›¸åŠ ã€‚å­˜å‚¨å™¨æ€»çº¿å®½åº¦ä¸º64-bitï¼Œæ— è®ºå®‰è£…å‡ æ¡å­˜å‚¨å™¨ï¼Œå¸¦å®½éƒ½å›ºå®šä¸º64-bitã€‚</li>\n<li>åŒé€šé“ä¾¿æ˜¯åˆ©ç”¨å¹¶è”æ–¹å¼è¿ä½œï¼Œå½“è¿æ¥ä¸¤æ¡å­˜å‚¨å™¨æ—¶ï¼Œæ€»çº¿å®½åº¦å°†ä¼šè¾¾åˆ°128-bitï¼Œè€Œå¥—ä¸Šå­˜å‚¨å™¨å®½åº¦è®¡ç®—ä¾¿ä¼šçŸ¥é“ç›¸å·®ç”šè¿œã€‚ä¹Ÿå°±æ˜¯å¼€åŒé€šé“åï¼Œå¸¦å®½å¯ä»¥å¢è‡³ä¸¤å€ï¼Œæ€§èƒ½ä¹Ÿä¼šå¢åŠ ï¼›è‡³äºèƒ½å¦æå‡è‡³ä¸¤å€é€Ÿåº¦ï¼Œæ ¹æ®æµ‹è¯•ä¼¼ä¹æ˜¯æ²¡åŠæ³•ï¼Œä½†æ˜¯å¯¹äºå­˜å‚¨å™¨æ€§èƒ½çš„æå‡å´æ˜¯å¾ˆå¤§çš„å¸®åŠ©ã€‚<br>ç†è®ºä¸Šï¼ŒåŒé€šé“èƒ½æå‡å­˜å‚¨å™¨ä¸¤å€çš„æ€§èƒ½ï¼›å¯¹ç³»ç»Ÿæ•´ä½“æ€§èƒ½æ¥è¯´ï¼Œæ‰“å¼€åŒé€šé“å¸¦æ¥çš„æ€§èƒ½æå‡çº¦ä¸º2è‡³3%ï¼Œæœ€å¥½çš„æƒ…å†µæ˜¯æå‡çº¦5%ã€‚ä¸€ç›´åˆ°ç°åœ¨ï¼ŒåŒé€šé“å¯¹æ•´ä¸ªç³»ç»Ÿçš„å½±å“æœ€é«˜åªæœ‰å¤š5%çš„æ€§èƒ½è€Œå·²ã€‚åœ¨å®é™…ä½¿ç”¨ä¸Šï¼Œè‹¥éé•¿æ—¶é—´çš„æå¤§æ•°æ®è¿ç®—æˆ–é€è¿‡è½¯ä»¶æµ‹è¯•è·å–æµ‹è¯•æ•°æ®ï¼Œå¯¹äºç”¨æˆ·çš„æ“ä½œä¸Šå¹¶æ²¡æœ‰å¤ªå¤§çš„å·®å¼‚<br>å¦‚æœæ˜¯çº¯ç²¹çš„CPUè¿ç®—ï¼Œä½¿ç”¨åŒé€šé“è¿‘ä¹æ²¡æœ‰æ€§èƒ½å¢é•¿ã€‚ä½†å¯¹äºé«˜ç«¯æ¸¸æˆç©å®¶æˆ–æ˜¯ç»˜å›¾éœ€æ±‚è¾ƒå¤§çš„ç”¨æˆ·è€Œè¨€ï¼ŒåŒé€šé“æŠ€æœ¯ä¸åä¸ºä¸€å¤§å¸®åŠ©ï¼Œå› ä¸ºGPUè¦ç»å¸¸è®¿é—®çº¹ç†è´´å›¾æ•°æ®ï¼Œéœ€è¦å¾ˆå¤§çš„å­˜å‚¨å™¨å¸¦å®½ã€‚æ‰€ä»¥åœ¨ä½¿ç”¨åŒé€šé“æ—¶ï¼ŒåŒå€çš„å¸¦å®½å¯ä½¿å†…ç½®ç»˜å›¾æ ¸å¿ƒ(GPU)çš„æ€§èƒ½å¢é•¿è¿‘ä¸€å€ã€‚</li>\n</ul>\n<p>å‚è€ƒæ–‡æ¡£ï¼š<br><a href=\"https://zh.wikipedia.org/wiki/%E9%9B%99%E9%80%9A%E9%81%93%E8%A8%98%E6%86%B6%E9%AB%94%E6%8A%80%E8%A1%93\" target=\"_blank\" rel=\"noopener\">åŒé€šé“å­˜å‚¨å™¨æŠ€</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>&nbsp;&nbsp;&nbsp;&nbsp;å¬è¯´å†…å­˜å¼€å§‹é™ä»·äº†ï¼Œå……æ»¡å¥½å¥‡å¿ƒçš„æˆ‘å°±æ‰“å¼€äº¬ä¸œçœ‹äº†ä¸€ä¸‹å†…å­˜æ¡çš„ä»·æ ¼ï¼Œæœ¬æ¥åªæƒ³ä¹°ä¸€æ¡çš„æˆ‘ï¼Œä¸‹å•å‰çœ‹åˆ°ä¸€ä¸ªå¥—è£…ä¸¤æ¡å†…å­˜å±…ç„¶æ¯”å•æ¡çš„ä»·æ ¼è´µäº†è¿™ä¹ˆå¤šï¼Œå¸¦ç€å¥½å¥‡è¯¢é—®äº†å•†å®¶ï¼Œå•†å®¶çš„è§£é‡Šæ˜¯è¿™æ ·çš„ï¼š</p>\n<ul>\n<li>å†…å­˜æ¡å¥—è£…ä¸æ˜¯ä¿ƒé”€æ–¹å¼ï¼Œè€Œæ˜¯2æ¡ï¼ˆåŒé€šé“ï¼‰ã€3æ¡ï¼ˆä¸‰é€šé“ï¼‰æˆ–è€…4æ¡ï¼ˆå››é€šé“ï¼‰å“ç‰Œã€å‚æ•°å®Œå…¨ç›¸åŒçš„ï¼ˆåŒä¸€ç”Ÿäº§çº¿ã€åŒä¸€æ‰¹æ¬¡çš„äº§å“ï¼‰å†…å­˜æˆå¥—é”€å”®ï¼Œå…¼å®¹æ€§æ˜¯æœ€å‡ºè‰²çš„ã€‚è€Œå•æ¡å†…å­˜ï¼Œåœ¨ç»„å»ºé€šé“çš„æ—¶å€™ï¼Œå…·æœ‰éšæ„æ€§ï¼Œå¯èƒ½å“ç‰Œã€å‚æ•°éƒ½æœ‰å·®å¼‚ï¼Œå…¼å®¹æ€§å½“ç„¶æ²¡æœ‰å¥—è£…å¥½ã€‚<br>å¸¦ç€è¿™ä¸ªè§£é‡Šå»äº†è§£åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯<h1 id=\"1-ä»€ä¹ˆæ˜¯åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯\"><a href=\"#1-ä»€ä¹ˆæ˜¯åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯\" class=\"headerlink\" title=\"1. ä»€ä¹ˆæ˜¯åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯\"></a>1. ä»€ä¹ˆæ˜¯åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯</h1>ç»´åŸºç™¾ç§‘ç»™å‡ºçš„è§£é‡Šæ˜¯ï¼šåŒé€šé“ï¼ˆè‹±è¯­ï¼šDual-channelï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè®©è®¡ç®—æœºæ€§èƒ½å¢åŠ çš„æŠ€æœ¯ï¼Œæ­¤ç§æŠ€æœ¯å°†å¤šä¸ªå­˜å‚¨å™¨ç”±ä¸²è”æ–¹å¼æ”¹è‰¯ä¸ºå¹¶è”æ–¹å¼ï¼Œä»¥å¾—åˆ°æ›´å¤§çš„å¸¦å®½ã€‚æœ€æ—©ä½¿ç”¨æ­¤æŠ€æœ¯çš„è®°å¿†ä½“æ˜¯Rambusã€‚<h1 id=\"2-ä¸ºå•¥ä½¿ç”¨åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯ï¼Ÿ\"><a href=\"#2-ä¸ºå•¥ä½¿ç”¨åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯ï¼Ÿ\" class=\"headerlink\" title=\"2. ä¸ºå•¥ä½¿ç”¨åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯ï¼Ÿ\"></a>2. ä¸ºå•¥ä½¿ç”¨åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯ï¼Ÿ</h1>ä¸»è¦æ˜¯cpuéšç€æŠ€æœ¯å‘å±•ï¼Œå¯¹å†…å­˜è¦æ±‚è¶Šæ¥è¶Šé«˜ï¼Œå•é€šé“æŠ€æœ¯å·²ç»ä¸èƒ½æ»¡è¶³cpuçš„è¦æ±‚ã€‚æ¯”å¦‚cpu ç­‰å¾…æ—¶é—´ï¼Œæ•°æ®ä¼ è¾“ï¼Œå¤„ç†ç­‰è¦æ±‚ã€‚<h1 id=\"3-åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯çš„ä¼˜ç‚¹ï¼Ÿç›¸æ¯”å•é€šé“æŠ€æœ¯\"><a href=\"#3-åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯çš„ä¼˜ç‚¹ï¼Ÿç›¸æ¯”å•é€šé“æŠ€æœ¯\" class=\"headerlink\" title=\"3. åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯çš„ä¼˜ç‚¹ï¼Ÿç›¸æ¯”å•é€šé“æŠ€æœ¯\"></a>3. åŒé€šé“å­˜å‚¨å™¨æŠ€æœ¯çš„ä¼˜ç‚¹ï¼Ÿç›¸æ¯”å•é€šé“æŠ€æœ¯</h1></li>\n<li>ä½¿ç”¨å•é€šé“æŠ€æœ¯æ—¶ï¼Œä¸»æ¿ä¸Šå¤šæ¡å­˜å‚¨å™¨æ˜¯ä»¥ä¸²è”æ–¹å¼è¿ä½œï¼Œä¹Ÿå°±æ˜¯ä»…æ˜¯å½“ä½œä¸€æ¡å­˜å‚¨å™¨è¿ä½œï¼Œåªæ˜¯å®¹é‡ä¼šç›¸åŠ ã€‚å­˜å‚¨å™¨æ€»çº¿å®½åº¦ä¸º64-bitï¼Œæ— è®ºå®‰è£…å‡ æ¡å­˜å‚¨å™¨ï¼Œå¸¦å®½éƒ½å›ºå®šä¸º64-bitã€‚</li>\n<li>åŒé€šé“ä¾¿æ˜¯åˆ©ç”¨å¹¶è”æ–¹å¼è¿ä½œï¼Œå½“è¿æ¥ä¸¤æ¡å­˜å‚¨å™¨æ—¶ï¼Œæ€»çº¿å®½åº¦å°†ä¼šè¾¾åˆ°128-bitï¼Œè€Œå¥—ä¸Šå­˜å‚¨å™¨å®½åº¦è®¡ç®—ä¾¿ä¼šçŸ¥é“ç›¸å·®ç”šè¿œã€‚ä¹Ÿå°±æ˜¯å¼€åŒé€šé“åï¼Œå¸¦å®½å¯ä»¥å¢è‡³ä¸¤å€ï¼Œæ€§èƒ½ä¹Ÿä¼šå¢åŠ ï¼›è‡³äºèƒ½å¦æå‡è‡³ä¸¤å€é€Ÿåº¦ï¼Œæ ¹æ®æµ‹è¯•ä¼¼ä¹æ˜¯æ²¡åŠæ³•ï¼Œä½†æ˜¯å¯¹äºå­˜å‚¨å™¨æ€§èƒ½çš„æå‡å´æ˜¯å¾ˆå¤§çš„å¸®åŠ©ã€‚<br>ç†è®ºä¸Šï¼ŒåŒé€šé“èƒ½æå‡å­˜å‚¨å™¨ä¸¤å€çš„æ€§èƒ½ï¼›å¯¹ç³»ç»Ÿæ•´ä½“æ€§èƒ½æ¥è¯´ï¼Œæ‰“å¼€åŒé€šé“å¸¦æ¥çš„æ€§èƒ½æå‡çº¦ä¸º2è‡³3%ï¼Œæœ€å¥½çš„æƒ…å†µæ˜¯æå‡çº¦5%ã€‚ä¸€ç›´åˆ°ç°åœ¨ï¼ŒåŒé€šé“å¯¹æ•´ä¸ªç³»ç»Ÿçš„å½±å“æœ€é«˜åªæœ‰å¤š5%çš„æ€§èƒ½è€Œå·²ã€‚åœ¨å®é™…ä½¿ç”¨ä¸Šï¼Œè‹¥éé•¿æ—¶é—´çš„æå¤§æ•°æ®è¿ç®—æˆ–é€è¿‡è½¯ä»¶æµ‹è¯•è·å–æµ‹è¯•æ•°æ®ï¼Œå¯¹äºç”¨æˆ·çš„æ“ä½œä¸Šå¹¶æ²¡æœ‰å¤ªå¤§çš„å·®å¼‚<br>å¦‚æœæ˜¯çº¯ç²¹çš„CPUè¿ç®—ï¼Œä½¿ç”¨åŒé€šé“è¿‘ä¹æ²¡æœ‰æ€§èƒ½å¢é•¿ã€‚ä½†å¯¹äºé«˜ç«¯æ¸¸æˆç©å®¶æˆ–æ˜¯ç»˜å›¾éœ€æ±‚è¾ƒå¤§çš„ç”¨æˆ·è€Œè¨€ï¼ŒåŒé€šé“æŠ€æœ¯ä¸åä¸ºä¸€å¤§å¸®åŠ©ï¼Œå› ä¸ºGPUè¦ç»å¸¸è®¿é—®çº¹ç†è´´å›¾æ•°æ®ï¼Œéœ€è¦å¾ˆå¤§çš„å­˜å‚¨å™¨å¸¦å®½ã€‚æ‰€ä»¥åœ¨ä½¿ç”¨åŒé€šé“æ—¶ï¼ŒåŒå€çš„å¸¦å®½å¯ä½¿å†…ç½®ç»˜å›¾æ ¸å¿ƒ(GPU)çš„æ€§èƒ½å¢é•¿è¿‘ä¸€å€ã€‚</li>\n</ul>\n<p>å‚è€ƒæ–‡æ¡£ï¼š<br><a href=\"https://zh.wikipedia.org/wiki/%E9%9B%99%E9%80%9A%E9%81%93%E8%A8%98%E6%86%B6%E9%AB%94%E6%8A%80%E8%A1%93\" target=\"_blank\" rel=\"noopener\">åŒé€šé“å­˜å‚¨å™¨æŠ€</a></p>\n"},{"title":"çƒˆç«å†›æ ¡","date":"2020-04-05T04:46:24.000Z","_content":" * [ç¬¬01é›†](https://feifei.feifeizuida.com/20190806/15873_a85d9ed6/index.m3u8â–¶)\n\n * [ç¬¬02é›†](https://feifei.feifeizuida.com/20190806/15872_76b5340f/index.m3u8â–¶)\n\n * [ç¬¬03é›†](https://feifei.feifeizuida.com/20190806/15871_8c69a57a/index.m3u8â–¶)\n\n * [ç¬¬04é›†](https://feifei.feifeizuida.com/20190806/15870_4aaf215e/index.m3u8â–¶)\n\n * [ç¬¬05é›†](https://wuji.zhulong-zuida.com/20190807/4308_02f4fc61/index.m3u8â–¶)\n\n * [ç¬¬06é›†](https://wuji.zhulong-zuida.com/20190807/4307_d4ad8895/index.m3u8â–¶)\n\n * [ç¬¬07é›†](https://wuji.zhulong-zuida.com/20190807/4306_8404677e/index.m3u8â–¶)\n\n * [ç¬¬08é›†](https://wuji.zhulong-zuida.com/20190807/4305_3dca9950/index.m3u8â–¶)\n\n * [ç¬¬09é›†](https://wuji.zhulong-zuida.com/20190807/4304_d2545687/index.m3u8â–¶)\n\n * [ç¬¬10é›†](https://wuji.zhulong-zuida.com/20190807/4303_71427d27/index.m3u8â–¶)\n\n * [ç¬¬11é›†](https://feifei.feifeizuida.com/20190807/15933_311882c9/index.m3u8â–¶)\n\n * [ç¬¬12é›†](https://feifei.feifeizuida.com/20190807/15932_6c4b96ce/index.m3u8â–¶)\n\n * [ç¬¬13é›†](https://feifei.feifeizuida.com/20190808/15988_a4b583a2/index.m3u8â–¶)\n\n * [ç¬¬14é›†](https://feifei.feifeizuida.com/20190808/15987_50d01bce/index.m3u8â–¶)\n\n * [ç¬¬15é›†](https://feifei.feifeizuida.com/20190809/16062_1de7f227/index.m3u8â–¶)\n\n * [ç¬¬16é›†](https://feifei.feifeizuida.com/20190809/16061_daa165bc/index.m3u8â–¶)\n\n * [ç¬¬17é›†](https://feifei.feifeizuida.com/20190813/16317_c48559e9/index.m3u8â–¶)\n\n * [ç¬¬18é›†](https://feifei.feifeizuida.com/20190813/16316_373668e3/index.m3u8â–¶)\n\n * [ç¬¬19é›†](https://feifei.feifeizuida.com/20190814/16371_acfd05fc/index.m3u8â–¶)\n\n * [ç¬¬20é›†](https://feifei.feifeizuida.com/20190814/16372_18fa71ba/index.m3u8â–¶)\n\n * [ç¬¬21é›†](https://feifei.feifeizuida.com/20190815/16433_93238a90/index.m3u8â–¶)\n\n * [ç¬¬22é›†](https://feifei.feifeizuida.com/20190815/16434_3534887a/index.m3u8â–¶)\n\n * [ç¬¬23é›†](https://feifei.feifeizuida.com/20190816/16489_8b4fa824/index.m3u8â–¶)\n\n * [ç¬¬24é›†](https://feifei.feifeizuida.com/20190816/16490_9eb449c4/index.m3u8â–¶)\n\n * [ç¬¬25é›†](https://wuji.zhulong-zuida.com/20190820/6258_15219ee3/index.m3u8â–¶)\n\n * [ç¬¬26é›†](https://wuji.zhulong-zuida.com/20190820/6257_a0f06a2d/index.m3u8â–¶)\n\n * [ç¬¬27é›†](https://wuji.zhulong-zuida.com/20190821/6316_85fe34be/index.m3u8â–¶)\n\n * [ç¬¬28é›†](https://wuji.zhulong-zuida.com/20190821/6315_389c5d19/index.m3u8â–¶)\n\n * [ç¬¬29é›†](https://feifei.feifeizuida.com/20190822/16838_3918c3d8/index.m3u8â–¶)\n\n * [ç¬¬30é›†](https://feifei.feifeizuida.com/20190822/16837_4781fae4/index.m3u8â–¶)\n\n * [ç¬¬31é›†](https://wuji.zhulong-zuida.com/20190823/6488_d048e037/index.m3u8â–¶)\n\n * [ç¬¬32é›†](https://wuji.zhulong-zuida.com/20190823/6487_e25affe0/index.m3u8â–¶)\n\n * [ç¬¬33é›†](https://feifei.feifeizuida.com/20190827/17061_c92375a9/index.m3u8â–¶)\n\n * [ç¬¬34é›†](https://feifei.feifeizuida.com/20190827/17060_cfe5a856/index.m3u8â–¶)\n\n * [ç¬¬35é›†](https://feifei.feifeizuida.com/20190828/17115_87f57c79/index.m3u8â–¶)\n\n * [ç¬¬36é›†](https://feifei.feifeizuida.com/20190828/17114_c8cf5ddf/index.m3u8â–¶)\n\n * [ç¬¬37é›†](https://yanzishan.shuhu-zuida.com/20190829/15702_3f6ede64/index.m3u8â–¶)\n\n * [ç¬¬38é›†](https://yanzishan.shuhu-zuida.com/20190829/15701_73ee43a7/index.m3u8â–¶)\n\n * [ç¬¬39é›†](https://feifei.feifeizuida.com/20190830/17222_584e3538/index.m3u8â–¶)\n\n * [ç¬¬40é›†](https://feifei.feifeizuida.com/20190830/17221_db4b840d/index.m3u8â–¶)\n\n * [ç¬¬41é›†](https://wuji.zhulong-zuida.com/20190903/7325_edb54108/index.m3u8â–¶)\n\n * [ç¬¬42é›†](https://wuji.zhulong-zuida.com/20190903/7324_dc22173c/index.m3u8â–¶)\n\n * [ç¬¬43é›†](https://feifei.feifeizuida.com/20190904/17417_ac25c4ce/index.m3u8â–¶)\n\n * [ç¬¬44é›†](https://feifei.feifeizuida.com/20190904/17416_5e789d7c/index.m3u8â–¶)\n\n * [ç¬¬45é›†](https://feifei.feifeizuida.com/20190905/17486_893e9b05/index.m3u8â–¶)\n\n * [ç¬¬46é›†](https://feifei.feifeizuida.com/20190905/17485_3a624526/index.m3u8â–¶)\n\n * [ç¬¬47é›†](https://wuji.zhulong-zuida.com/20190906/7571_fdc3d72e/index.m3u8â–¶)\n\n * [ç¬¬48é›†](https://wuji.zhulong-zuida.com/20190906/7570_06bf4971/index.m3u8â–¶)\n\n","source":"_posts/çƒˆç«å†›æ ¡.md","raw":"---\ntitle: çƒˆç«å†›æ ¡\ndate: 2020-04-05 12:46:24\ntags:\n---\n * [ç¬¬01é›†](https://feifei.feifeizuida.com/20190806/15873_a85d9ed6/index.m3u8â–¶)\n\n * [ç¬¬02é›†](https://feifei.feifeizuida.com/20190806/15872_76b5340f/index.m3u8â–¶)\n\n * [ç¬¬03é›†](https://feifei.feifeizuida.com/20190806/15871_8c69a57a/index.m3u8â–¶)\n\n * [ç¬¬04é›†](https://feifei.feifeizuida.com/20190806/15870_4aaf215e/index.m3u8â–¶)\n\n * [ç¬¬05é›†](https://wuji.zhulong-zuida.com/20190807/4308_02f4fc61/index.m3u8â–¶)\n\n * [ç¬¬06é›†](https://wuji.zhulong-zuida.com/20190807/4307_d4ad8895/index.m3u8â–¶)\n\n * [ç¬¬07é›†](https://wuji.zhulong-zuida.com/20190807/4306_8404677e/index.m3u8â–¶)\n\n * [ç¬¬08é›†](https://wuji.zhulong-zuida.com/20190807/4305_3dca9950/index.m3u8â–¶)\n\n * [ç¬¬09é›†](https://wuji.zhulong-zuida.com/20190807/4304_d2545687/index.m3u8â–¶)\n\n * [ç¬¬10é›†](https://wuji.zhulong-zuida.com/20190807/4303_71427d27/index.m3u8â–¶)\n\n * [ç¬¬11é›†](https://feifei.feifeizuida.com/20190807/15933_311882c9/index.m3u8â–¶)\n\n * [ç¬¬12é›†](https://feifei.feifeizuida.com/20190807/15932_6c4b96ce/index.m3u8â–¶)\n\n * [ç¬¬13é›†](https://feifei.feifeizuida.com/20190808/15988_a4b583a2/index.m3u8â–¶)\n\n * [ç¬¬14é›†](https://feifei.feifeizuida.com/20190808/15987_50d01bce/index.m3u8â–¶)\n\n * [ç¬¬15é›†](https://feifei.feifeizuida.com/20190809/16062_1de7f227/index.m3u8â–¶)\n\n * [ç¬¬16é›†](https://feifei.feifeizuida.com/20190809/16061_daa165bc/index.m3u8â–¶)\n\n * [ç¬¬17é›†](https://feifei.feifeizuida.com/20190813/16317_c48559e9/index.m3u8â–¶)\n\n * [ç¬¬18é›†](https://feifei.feifeizuida.com/20190813/16316_373668e3/index.m3u8â–¶)\n\n * [ç¬¬19é›†](https://feifei.feifeizuida.com/20190814/16371_acfd05fc/index.m3u8â–¶)\n\n * [ç¬¬20é›†](https://feifei.feifeizuida.com/20190814/16372_18fa71ba/index.m3u8â–¶)\n\n * [ç¬¬21é›†](https://feifei.feifeizuida.com/20190815/16433_93238a90/index.m3u8â–¶)\n\n * [ç¬¬22é›†](https://feifei.feifeizuida.com/20190815/16434_3534887a/index.m3u8â–¶)\n\n * [ç¬¬23é›†](https://feifei.feifeizuida.com/20190816/16489_8b4fa824/index.m3u8â–¶)\n\n * [ç¬¬24é›†](https://feifei.feifeizuida.com/20190816/16490_9eb449c4/index.m3u8â–¶)\n\n * [ç¬¬25é›†](https://wuji.zhulong-zuida.com/20190820/6258_15219ee3/index.m3u8â–¶)\n\n * [ç¬¬26é›†](https://wuji.zhulong-zuida.com/20190820/6257_a0f06a2d/index.m3u8â–¶)\n\n * [ç¬¬27é›†](https://wuji.zhulong-zuida.com/20190821/6316_85fe34be/index.m3u8â–¶)\n\n * [ç¬¬28é›†](https://wuji.zhulong-zuida.com/20190821/6315_389c5d19/index.m3u8â–¶)\n\n * [ç¬¬29é›†](https://feifei.feifeizuida.com/20190822/16838_3918c3d8/index.m3u8â–¶)\n\n * [ç¬¬30é›†](https://feifei.feifeizuida.com/20190822/16837_4781fae4/index.m3u8â–¶)\n\n * [ç¬¬31é›†](https://wuji.zhulong-zuida.com/20190823/6488_d048e037/index.m3u8â–¶)\n\n * [ç¬¬32é›†](https://wuji.zhulong-zuida.com/20190823/6487_e25affe0/index.m3u8â–¶)\n\n * [ç¬¬33é›†](https://feifei.feifeizuida.com/20190827/17061_c92375a9/index.m3u8â–¶)\n\n * [ç¬¬34é›†](https://feifei.feifeizuida.com/20190827/17060_cfe5a856/index.m3u8â–¶)\n\n * [ç¬¬35é›†](https://feifei.feifeizuida.com/20190828/17115_87f57c79/index.m3u8â–¶)\n\n * [ç¬¬36é›†](https://feifei.feifeizuida.com/20190828/17114_c8cf5ddf/index.m3u8â–¶)\n\n * [ç¬¬37é›†](https://yanzishan.shuhu-zuida.com/20190829/15702_3f6ede64/index.m3u8â–¶)\n\n * [ç¬¬38é›†](https://yanzishan.shuhu-zuida.com/20190829/15701_73ee43a7/index.m3u8â–¶)\n\n * [ç¬¬39é›†](https://feifei.feifeizuida.com/20190830/17222_584e3538/index.m3u8â–¶)\n\n * [ç¬¬40é›†](https://feifei.feifeizuida.com/20190830/17221_db4b840d/index.m3u8â–¶)\n\n * [ç¬¬41é›†](https://wuji.zhulong-zuida.com/20190903/7325_edb54108/index.m3u8â–¶)\n\n * [ç¬¬42é›†](https://wuji.zhulong-zuida.com/20190903/7324_dc22173c/index.m3u8â–¶)\n\n * [ç¬¬43é›†](https://feifei.feifeizuida.com/20190904/17417_ac25c4ce/index.m3u8â–¶)\n\n * [ç¬¬44é›†](https://feifei.feifeizuida.com/20190904/17416_5e789d7c/index.m3u8â–¶)\n\n * [ç¬¬45é›†](https://feifei.feifeizuida.com/20190905/17486_893e9b05/index.m3u8â–¶)\n\n * [ç¬¬46é›†](https://feifei.feifeizuida.com/20190905/17485_3a624526/index.m3u8â–¶)\n\n * [ç¬¬47é›†](https://wuji.zhulong-zuida.com/20190906/7571_fdc3d72e/index.m3u8â–¶)\n\n * [ç¬¬48é›†](https://wuji.zhulong-zuida.com/20190906/7570_06bf4971/index.m3u8â–¶)\n\n","slug":"çƒˆç«å†›æ ¡","published":1,"updated":"2020-04-05T04:46:24.985Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkctv2001e4osx7izhojsi","content":"<ul>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190806/15873_a85d9ed6/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬01é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190806/15872_76b5340f/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬02é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190806/15871_8c69a57a/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬03é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190806/15870_4aaf215e/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬04é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190807/4308_02f4fc61/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬05é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190807/4307_d4ad8895/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬06é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190807/4306_8404677e/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬07é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190807/4305_3dca9950/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬08é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190807/4304_d2545687/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬09é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190807/4303_71427d27/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬10é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190807/15933_311882c9/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬11é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190807/15932_6c4b96ce/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬12é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190808/15988_a4b583a2/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬13é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190808/15987_50d01bce/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬14é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190809/16062_1de7f227/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬15é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190809/16061_daa165bc/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬16é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190813/16317_c48559e9/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬17é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190813/16316_373668e3/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬18é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190814/16371_acfd05fc/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬19é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190814/16372_18fa71ba/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬20é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190815/16433_93238a90/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬21é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190815/16434_3534887a/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬22é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190816/16489_8b4fa824/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬23é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190816/16490_9eb449c4/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬24é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190820/6258_15219ee3/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬25é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190820/6257_a0f06a2d/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬26é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190821/6316_85fe34be/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬27é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190821/6315_389c5d19/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬28é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190822/16838_3918c3d8/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬29é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190822/16837_4781fae4/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬30é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190823/6488_d048e037/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬31é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190823/6487_e25affe0/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬32é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190827/17061_c92375a9/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬33é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190827/17060_cfe5a856/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬34é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190828/17115_87f57c79/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬35é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190828/17114_c8cf5ddf/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬36é›†</a></p>\n</li>\n<li><p><a href=\"https://yanzishan.shuhu-zuida.com/20190829/15702_3f6ede64/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬37é›†</a></p>\n</li>\n<li><p><a href=\"https://yanzishan.shuhu-zuida.com/20190829/15701_73ee43a7/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬38é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190830/17222_584e3538/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬39é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190830/17221_db4b840d/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬40é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190903/7325_edb54108/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬41é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190903/7324_dc22173c/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬42é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190904/17417_ac25c4ce/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬43é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190904/17416_5e789d7c/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬44é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190905/17486_893e9b05/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬45é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190905/17485_3a624526/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬46é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190906/7571_fdc3d72e/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬47é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190906/7570_06bf4971/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬48é›†</a></p>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<ul>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190806/15873_a85d9ed6/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬01é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190806/15872_76b5340f/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬02é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190806/15871_8c69a57a/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬03é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190806/15870_4aaf215e/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬04é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190807/4308_02f4fc61/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬05é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190807/4307_d4ad8895/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬06é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190807/4306_8404677e/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬07é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190807/4305_3dca9950/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬08é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190807/4304_d2545687/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬09é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190807/4303_71427d27/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬10é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190807/15933_311882c9/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬11é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190807/15932_6c4b96ce/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬12é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190808/15988_a4b583a2/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬13é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190808/15987_50d01bce/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬14é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190809/16062_1de7f227/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬15é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190809/16061_daa165bc/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬16é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190813/16317_c48559e9/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬17é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190813/16316_373668e3/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬18é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190814/16371_acfd05fc/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬19é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190814/16372_18fa71ba/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬20é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190815/16433_93238a90/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬21é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190815/16434_3534887a/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬22é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190816/16489_8b4fa824/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬23é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190816/16490_9eb449c4/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬24é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190820/6258_15219ee3/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬25é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190820/6257_a0f06a2d/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬26é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190821/6316_85fe34be/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬27é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190821/6315_389c5d19/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬28é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190822/16838_3918c3d8/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬29é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190822/16837_4781fae4/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬30é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190823/6488_d048e037/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬31é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190823/6487_e25affe0/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬32é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190827/17061_c92375a9/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬33é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190827/17060_cfe5a856/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬34é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190828/17115_87f57c79/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬35é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190828/17114_c8cf5ddf/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬36é›†</a></p>\n</li>\n<li><p><a href=\"https://yanzishan.shuhu-zuida.com/20190829/15702_3f6ede64/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬37é›†</a></p>\n</li>\n<li><p><a href=\"https://yanzishan.shuhu-zuida.com/20190829/15701_73ee43a7/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬38é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190830/17222_584e3538/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬39é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190830/17221_db4b840d/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬40é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190903/7325_edb54108/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬41é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190903/7324_dc22173c/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬42é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190904/17417_ac25c4ce/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬43é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190904/17416_5e789d7c/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬44é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190905/17486_893e9b05/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬45é›†</a></p>\n</li>\n<li><p><a href=\"https://feifei.feifeizuida.com/20190905/17485_3a624526/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬46é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190906/7571_fdc3d72e/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬47é›†</a></p>\n</li>\n<li><p><a href=\"https://wuji.zhulong-zuida.com/20190906/7570_06bf4971/index.m3u8â–¶\" target=\"_blank\" rel=\"noopener\">ç¬¬48é›†</a></p>\n</li>\n</ul>\n"},{"title":"å¦‚ä½•ä½¿ç”¨flatMap","date":"2019-03-15T01:52:57.000Z","_content":"\n# 1. ä»€ä¹ˆæƒ…å†µä¸‹ç”¨åˆ°flatMap\n* å½“ä½¿ç”¨mapï¼ˆï¼‰æ“ä½œæ—¶ï¼Œä¸æ˜¯è¿”å›ä¸€ä¸ªå€¼ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªé›†åˆæˆ–è€…ä¸€ä¸ªæ•°ç»„çš„æ—¶å€™ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨flatMapè§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä½ æœ‰ä¸€ä¸ªåˆ—è¡¨ [21,23,42]ï¼Œç„¶åä½ è°ƒç”¨getPrimeFactors()æ–¹æ³•mapæ“ä½œ ä½¿æ•°ç»„è½¬åŒ–æˆstreamã€‚\n* ä¸Šè¿°ç»“æœ[[3,7],[23],[2,3,7]]ï¼Œè¿™ä¸ªç±»å‹Stream<String[]> ä½¿ç”¨ stream æ“ä½œï¼ˆfilterï¼Œsumï¼Œdistinct ...ï¼‰å’Œ collectors éƒ½ä¸æ”¯æŒè¿™ç§ç±»å‹ã€‚å¦‚æœä½ æƒ³æŠŠStream of Streamè½¬æ¢ä¸ºå€¼åˆ—è¡¨ï¼Œä½¿ç”¨ flatMap() æ–¹æ³• é‡æ–°ç”Ÿæˆä¸€ä¸ªStreamå¯¹è±¡ï¼Œæœ€åå¯ä»¥å¾—åˆ° [3,7,2,3,2,3,7]\n# 2. flatMapå¦‚ä½•å·¥ä½œçš„\né€šè¿‡ä¸‹é¢çš„å›¾ï¼Œæˆ‘ä»¬å°±å¾ˆå®¹æ˜“ç†è§£flatmapåœ¨java8 ä¸­æ˜¯å¦‚ä½•å·¥ä½œçš„\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20190304131022877.png)\nä½¿ç”¨çº¢è‰²æ ‡è®°çš„åˆ—è¡¨å’Œç»¿è‰²æ ‡è®°çš„åˆ—è¡¨ï¼Œç»è¿‡flatmapæ–¹æ³•ååœ¨ç¬¬äºŒä¸ªç®¡é“ä¸­æŠŠæŠŠä¸Šè¿°ä¸¤ä¸ªåˆ—è¡¨çš„æ•°æ®åˆå¹¶æˆä¸€ä¸ªåˆ—è¡¨æ•°æ®\n# 3. flatmap ä½¿ç”¨ä¾‹å­\n```\n\t\tList<List<Integer>> lists = new ArrayList<>();\n        List<Integer> list = new ArrayList<>();\n        list.add(4444);\n        list.add(33333);\n        list.add(444444);\n        lists.add(list);\n        lists.stream().flatMap(Collection::stream).forEach(System.out::println);\n```\nç”±äºä¸Šè¿° lists.stream() åè¿”å›çš„æ˜¯stream<list<Integer>> æ‰€ä»¥éœ€è¦ä½¿ç”¨flatMap è¿›è¡Œåˆå¹¶\n# 3. æ€»ç»“\næœ¬æ–‡ä¸»è¦é€šè¿‡ä¸ºå•¥ä½¿ç”¨ flatmapï¼Œå¦‚ä½•ä½¿ç”¨flatmap è¿™ä¸¤ç‚¹è®²è¿°äº†flatmapæ–¹æ³•ï¼Œä¸‹ä¸€ç« èŠ‚æˆ‘ä»¬æ¥è®²ä¸€ä¸ªmap & flatmapã€‚\n\nå‚è€ƒæ–‡æ¡£\n[How to use flatMap() in Java 8](http://www.java67.com/2016/03/how-to-use-flatmap-in-java-8-stream.html)\n[Java 8 flatMapç¤ºä¾‹](https://www.mkyong.com/java8/java-8-flatmap-example/)\n\n","source":"_posts/å¦‚ä½•ä½¿ç”¨flatMap.md","raw":"---\ntitle: å¦‚ä½•ä½¿ç”¨flatMap\ndate: 2019-03-15 09:52:57\ntags:\n- JAVA 8\n---\n\n# 1. ä»€ä¹ˆæƒ…å†µä¸‹ç”¨åˆ°flatMap\n* å½“ä½¿ç”¨mapï¼ˆï¼‰æ“ä½œæ—¶ï¼Œä¸æ˜¯è¿”å›ä¸€ä¸ªå€¼ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªé›†åˆæˆ–è€…ä¸€ä¸ªæ•°ç»„çš„æ—¶å€™ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨flatMapè§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä½ æœ‰ä¸€ä¸ªåˆ—è¡¨ [21,23,42]ï¼Œç„¶åä½ è°ƒç”¨getPrimeFactors()æ–¹æ³•mapæ“ä½œ ä½¿æ•°ç»„è½¬åŒ–æˆstreamã€‚\n* ä¸Šè¿°ç»“æœ[[3,7],[23],[2,3,7]]ï¼Œè¿™ä¸ªç±»å‹Stream<String[]> ä½¿ç”¨ stream æ“ä½œï¼ˆfilterï¼Œsumï¼Œdistinct ...ï¼‰å’Œ collectors éƒ½ä¸æ”¯æŒè¿™ç§ç±»å‹ã€‚å¦‚æœä½ æƒ³æŠŠStream of Streamè½¬æ¢ä¸ºå€¼åˆ—è¡¨ï¼Œä½¿ç”¨ flatMap() æ–¹æ³• é‡æ–°ç”Ÿæˆä¸€ä¸ªStreamå¯¹è±¡ï¼Œæœ€åå¯ä»¥å¾—åˆ° [3,7,2,3,2,3,7]\n# 2. flatMapå¦‚ä½•å·¥ä½œçš„\né€šè¿‡ä¸‹é¢çš„å›¾ï¼Œæˆ‘ä»¬å°±å¾ˆå®¹æ˜“ç†è§£flatmapåœ¨java8 ä¸­æ˜¯å¦‚ä½•å·¥ä½œçš„\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20190304131022877.png)\nä½¿ç”¨çº¢è‰²æ ‡è®°çš„åˆ—è¡¨å’Œç»¿è‰²æ ‡è®°çš„åˆ—è¡¨ï¼Œç»è¿‡flatmapæ–¹æ³•ååœ¨ç¬¬äºŒä¸ªç®¡é“ä¸­æŠŠæŠŠä¸Šè¿°ä¸¤ä¸ªåˆ—è¡¨çš„æ•°æ®åˆå¹¶æˆä¸€ä¸ªåˆ—è¡¨æ•°æ®\n# 3. flatmap ä½¿ç”¨ä¾‹å­\n```\n\t\tList<List<Integer>> lists = new ArrayList<>();\n        List<Integer> list = new ArrayList<>();\n        list.add(4444);\n        list.add(33333);\n        list.add(444444);\n        lists.add(list);\n        lists.stream().flatMap(Collection::stream).forEach(System.out::println);\n```\nç”±äºä¸Šè¿° lists.stream() åè¿”å›çš„æ˜¯stream<list<Integer>> æ‰€ä»¥éœ€è¦ä½¿ç”¨flatMap è¿›è¡Œåˆå¹¶\n# 3. æ€»ç»“\næœ¬æ–‡ä¸»è¦é€šè¿‡ä¸ºå•¥ä½¿ç”¨ flatmapï¼Œå¦‚ä½•ä½¿ç”¨flatmap è¿™ä¸¤ç‚¹è®²è¿°äº†flatmapæ–¹æ³•ï¼Œä¸‹ä¸€ç« èŠ‚æˆ‘ä»¬æ¥è®²ä¸€ä¸ªmap & flatmapã€‚\n\nå‚è€ƒæ–‡æ¡£\n[How to use flatMap() in Java 8](http://www.java67.com/2016/03/how-to-use-flatmap-in-java-8-stream.html)\n[Java 8 flatMapç¤ºä¾‹](https://www.mkyong.com/java8/java-8-flatmap-example/)\n\n","slug":"å¦‚ä½•ä½¿ç”¨flatMap","published":1,"updated":"2019-07-14T04:37:24.748Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkctvi002i4osxy9eqmok6","content":"<h1 id=\"1-ä»€ä¹ˆæƒ…å†µä¸‹ç”¨åˆ°flatMap\"><a href=\"#1-ä»€ä¹ˆæƒ…å†µä¸‹ç”¨åˆ°flatMap\" class=\"headerlink\" title=\"1. ä»€ä¹ˆæƒ…å†µä¸‹ç”¨åˆ°flatMap\"></a>1. ä»€ä¹ˆæƒ…å†µä¸‹ç”¨åˆ°flatMap</h1><ul>\n<li>å½“ä½¿ç”¨mapï¼ˆï¼‰æ“ä½œæ—¶ï¼Œä¸æ˜¯è¿”å›ä¸€ä¸ªå€¼ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªé›†åˆæˆ–è€…ä¸€ä¸ªæ•°ç»„çš„æ—¶å€™ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨flatMapè§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä½ æœ‰ä¸€ä¸ªåˆ—è¡¨ [21,23,42]ï¼Œç„¶åä½ è°ƒç”¨getPrimeFactors()æ–¹æ³•mapæ“ä½œ ä½¿æ•°ç»„è½¬åŒ–æˆstreamã€‚</li>\n<li>ä¸Šè¿°ç»“æœ[[3,7],[23],[2,3,7]]ï¼Œè¿™ä¸ªç±»å‹Stream&lt;String[]&gt; ä½¿ç”¨ stream æ“ä½œï¼ˆfilterï¼Œsumï¼Œdistinct â€¦ï¼‰å’Œ collectors éƒ½ä¸æ”¯æŒè¿™ç§ç±»å‹ã€‚å¦‚æœä½ æƒ³æŠŠStream of Streamè½¬æ¢ä¸ºå€¼åˆ—è¡¨ï¼Œä½¿ç”¨ flatMap() æ–¹æ³• é‡æ–°ç”Ÿæˆä¸€ä¸ªStreamå¯¹è±¡ï¼Œæœ€åå¯ä»¥å¾—åˆ° [3,7,2,3,2,3,7]<h1 id=\"2-flatMapå¦‚ä½•å·¥ä½œçš„\"><a href=\"#2-flatMapå¦‚ä½•å·¥ä½œçš„\" class=\"headerlink\" title=\"2. flatMapå¦‚ä½•å·¥ä½œçš„\"></a>2. flatMapå¦‚ä½•å·¥ä½œçš„</h1>é€šè¿‡ä¸‹é¢çš„å›¾ï¼Œæˆ‘ä»¬å°±å¾ˆå®¹æ˜“ç†è§£flatmapåœ¨java8 ä¸­æ˜¯å¦‚ä½•å·¥ä½œçš„<br><img src=\"https://img-blog.csdnimg.cn/20190304131022877.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>ä½¿ç”¨çº¢è‰²æ ‡è®°çš„åˆ—è¡¨å’Œç»¿è‰²æ ‡è®°çš„åˆ—è¡¨ï¼Œç»è¿‡flatmapæ–¹æ³•ååœ¨ç¬¬äºŒä¸ªç®¡é“ä¸­æŠŠæŠŠä¸Šè¿°ä¸¤ä¸ªåˆ—è¡¨çš„æ•°æ®åˆå¹¶æˆä¸€ä¸ªåˆ—è¡¨æ•°æ®<h1 id=\"3-flatmap-ä½¿ç”¨ä¾‹å­\"><a href=\"#3-flatmap-ä½¿ç”¨ä¾‹å­\" class=\"headerlink\" title=\"3. flatmap ä½¿ç”¨ä¾‹å­\"></a>3. flatmap ä½¿ç”¨ä¾‹å­</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">List&lt;List&lt;Integer&gt;&gt; lists = new ArrayList&lt;&gt;();</span><br><span class=\"line\">      List&lt;Integer&gt; list = new ArrayList&lt;&gt;();</span><br><span class=\"line\">      list.add(4444);</span><br><span class=\"line\">      list.add(33333);</span><br><span class=\"line\">      list.add(444444);</span><br><span class=\"line\">      lists.add(list);</span><br><span class=\"line\">      lists.stream().flatMap(Collection::stream).forEach(System.out::println);</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>ç”±äºä¸Šè¿° lists.stream() åè¿”å›çš„æ˜¯stream&lt;list<integer>&gt; æ‰€ä»¥éœ€è¦ä½¿ç”¨flatMap è¿›è¡Œåˆå¹¶</integer></p>\n<h1 id=\"3-æ€»ç»“\"><a href=\"#3-æ€»ç»“\" class=\"headerlink\" title=\"3. æ€»ç»“\"></a>3. æ€»ç»“</h1><p>æœ¬æ–‡ä¸»è¦é€šè¿‡ä¸ºå•¥ä½¿ç”¨ flatmapï¼Œå¦‚ä½•ä½¿ç”¨flatmap è¿™ä¸¤ç‚¹è®²è¿°äº†flatmapæ–¹æ³•ï¼Œä¸‹ä¸€ç« èŠ‚æˆ‘ä»¬æ¥è®²ä¸€ä¸ªmap &amp; flatmapã€‚</p>\n<p>å‚è€ƒæ–‡æ¡£<br><a href=\"http://www.java67.com/2016/03/how-to-use-flatmap-in-java-8-stream.html\" target=\"_blank\" rel=\"noopener\">How to use flatMap() in Java 8</a><br><a href=\"https://www.mkyong.com/java8/java-8-flatmap-example/\" target=\"_blank\" rel=\"noopener\">Java 8 flatMapç¤ºä¾‹</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"1-ä»€ä¹ˆæƒ…å†µä¸‹ç”¨åˆ°flatMap\"><a href=\"#1-ä»€ä¹ˆæƒ…å†µä¸‹ç”¨åˆ°flatMap\" class=\"headerlink\" title=\"1. ä»€ä¹ˆæƒ…å†µä¸‹ç”¨åˆ°flatMap\"></a>1. ä»€ä¹ˆæƒ…å†µä¸‹ç”¨åˆ°flatMap</h1><ul>\n<li>å½“ä½¿ç”¨mapï¼ˆï¼‰æ“ä½œæ—¶ï¼Œä¸æ˜¯è¿”å›ä¸€ä¸ªå€¼ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªé›†åˆæˆ–è€…ä¸€ä¸ªæ•°ç»„çš„æ—¶å€™ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨flatMapè§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä½ æœ‰ä¸€ä¸ªåˆ—è¡¨ [21,23,42]ï¼Œç„¶åä½ è°ƒç”¨getPrimeFactors()æ–¹æ³•mapæ“ä½œ ä½¿æ•°ç»„è½¬åŒ–æˆstreamã€‚</li>\n<li>ä¸Šè¿°ç»“æœ[[3,7],[23],[2,3,7]]ï¼Œè¿™ä¸ªç±»å‹Stream&lt;String[]&gt; ä½¿ç”¨ stream æ“ä½œï¼ˆfilterï¼Œsumï¼Œdistinct â€¦ï¼‰å’Œ collectors éƒ½ä¸æ”¯æŒè¿™ç§ç±»å‹ã€‚å¦‚æœä½ æƒ³æŠŠStream of Streamè½¬æ¢ä¸ºå€¼åˆ—è¡¨ï¼Œä½¿ç”¨ flatMap() æ–¹æ³• é‡æ–°ç”Ÿæˆä¸€ä¸ªStreamå¯¹è±¡ï¼Œæœ€åå¯ä»¥å¾—åˆ° [3,7,2,3,2,3,7]<h1 id=\"2-flatMapå¦‚ä½•å·¥ä½œçš„\"><a href=\"#2-flatMapå¦‚ä½•å·¥ä½œçš„\" class=\"headerlink\" title=\"2. flatMapå¦‚ä½•å·¥ä½œçš„\"></a>2. flatMapå¦‚ä½•å·¥ä½œçš„</h1>é€šè¿‡ä¸‹é¢çš„å›¾ï¼Œæˆ‘ä»¬å°±å¾ˆå®¹æ˜“ç†è§£flatmapåœ¨java8 ä¸­æ˜¯å¦‚ä½•å·¥ä½œçš„<br><img src=\"https://img-blog.csdnimg.cn/20190304131022877.png\" alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\"><br>ä½¿ç”¨çº¢è‰²æ ‡è®°çš„åˆ—è¡¨å’Œç»¿è‰²æ ‡è®°çš„åˆ—è¡¨ï¼Œç»è¿‡flatmapæ–¹æ³•ååœ¨ç¬¬äºŒä¸ªç®¡é“ä¸­æŠŠæŠŠä¸Šè¿°ä¸¤ä¸ªåˆ—è¡¨çš„æ•°æ®åˆå¹¶æˆä¸€ä¸ªåˆ—è¡¨æ•°æ®<h1 id=\"3-flatmap-ä½¿ç”¨ä¾‹å­\"><a href=\"#3-flatmap-ä½¿ç”¨ä¾‹å­\" class=\"headerlink\" title=\"3. flatmap ä½¿ç”¨ä¾‹å­\"></a>3. flatmap ä½¿ç”¨ä¾‹å­</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">List&lt;List&lt;Integer&gt;&gt; lists = new ArrayList&lt;&gt;();</span><br><span class=\"line\">      List&lt;Integer&gt; list = new ArrayList&lt;&gt;();</span><br><span class=\"line\">      list.add(4444);</span><br><span class=\"line\">      list.add(33333);</span><br><span class=\"line\">      list.add(444444);</span><br><span class=\"line\">      lists.add(list);</span><br><span class=\"line\">      lists.stream().flatMap(Collection::stream).forEach(System.out::println);</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>ç”±äºä¸Šè¿° lists.stream() åè¿”å›çš„æ˜¯stream&lt;list<integer>&gt; æ‰€ä»¥éœ€è¦ä½¿ç”¨flatMap è¿›è¡Œåˆå¹¶</integer></p>\n<h1 id=\"3-æ€»ç»“\"><a href=\"#3-æ€»ç»“\" class=\"headerlink\" title=\"3. æ€»ç»“\"></a>3. æ€»ç»“</h1><p>æœ¬æ–‡ä¸»è¦é€šè¿‡ä¸ºå•¥ä½¿ç”¨ flatmapï¼Œå¦‚ä½•ä½¿ç”¨flatmap è¿™ä¸¤ç‚¹è®²è¿°äº†flatmapæ–¹æ³•ï¼Œä¸‹ä¸€ç« èŠ‚æˆ‘ä»¬æ¥è®²ä¸€ä¸ªmap &amp; flatmapã€‚</p>\n<p>å‚è€ƒæ–‡æ¡£<br><a href=\"http://www.java67.com/2016/03/how-to-use-flatmap-in-java-8-stream.html\" target=\"_blank\" rel=\"noopener\">How to use flatMap() in Java 8</a><br><a href=\"https://www.mkyong.com/java8/java-8-flatmap-example/\" target=\"_blank\" rel=\"noopener\">Java 8 flatMapç¤ºä¾‹</a></p>\n"},{"title":"å·¥å…·ç½‘ç«™","date":"2019-03-15T01:52:57.000Z","_content":"\n* [ç«™é•¿å·¥å…·](https://tool.chinaz.com/)\n* [å›½å¤–è§†é¢‘ä¸‹è½½ç½‘ç«™](https://savieo.com )\n* [å›¾ç‰‡æœç´¢ç½‘ç«™](https://pixelmob.co)\n* [ç‹¬ç«‹éŸ³ä¹](https://themusic.today)\n* [æœç´¢å¼•æ“](http://www.kinginso.com)\n* [æ‰¾æ­Œè°±](http://www.zhaogepu.com)\n* [å…¨ä¸–ç•Œæ”¶å—å¹³å°](https://www.temp-phone-number.com)\n* [è‰æ ¹äºŒç»´ç ](https://cli.im/)\n* [æ–‡ä»¶ä¸‹è½½](https://www.filecroco.com/)\n\nç ´è§£\n\n* [æœ€æ–°ç ´è§£å·¥å…·åŒ…](https://down.52pojie.cn/Tools/)\n* [ç†ŠçŒ«ç ´è§£](https://www.xmpojie.com/1368.html)\n\nå¨±ä¹\n\n* [ç½‘ç›˜å·¥å…·](https://www.runningcheese.com/baiduyun)\n* [è‹—æœ‰åˆ¸](https://open.21ds.cn/)\n* [guidgenç”Ÿæˆ](https://www.guidgen.com/)\n* [åœ¨çº¿çŸ­ä¿¡æ¥æ”¶](https://www.materialtools.com/)\n* [ç³»ç»Ÿä¸‹è½½](http://www.imsdn.cn/)\n* [ä¸‹è½½éŸ³ä¹](http://music.zhuolin.wang/)\n\n\nèµ„æº\n* [æœ€å¤§èµ„æºç½‘](http://www.zuidazy2.net/)\n\n\n\nå­¦ä¹ \n\n* [å¼€å‘å‘½å](https://unbug.github.io)\n* [hexo å¼€å‘æ–‡æ¡£](https://hexo.io/docs/commands)\n* [linux å‘½ä»¤å¤§å…¨](https://man.linuxde.net/tar)\n* [è½¯ä»¶è®¾è®¡å¸ˆè¯•é¢˜ä¸‹è½½](http://www.ixinguan.com/pd.jsp?id=34)\n\n\n\n","source":"_posts/å·¥å…·ç½‘ç«™.md","raw":"---\ntitle: å·¥å…·ç½‘ç«™\ndate: 2019-03-15 09:52:57\ntags:\n- å·¥å…·\n---\n\n* [ç«™é•¿å·¥å…·](https://tool.chinaz.com/)\n* [å›½å¤–è§†é¢‘ä¸‹è½½ç½‘ç«™](https://savieo.com )\n* [å›¾ç‰‡æœç´¢ç½‘ç«™](https://pixelmob.co)\n* [ç‹¬ç«‹éŸ³ä¹](https://themusic.today)\n* [æœç´¢å¼•æ“](http://www.kinginso.com)\n* [æ‰¾æ­Œè°±](http://www.zhaogepu.com)\n* [å…¨ä¸–ç•Œæ”¶å—å¹³å°](https://www.temp-phone-number.com)\n* [è‰æ ¹äºŒç»´ç ](https://cli.im/)\n* [æ–‡ä»¶ä¸‹è½½](https://www.filecroco.com/)\n\nç ´è§£\n\n* [æœ€æ–°ç ´è§£å·¥å…·åŒ…](https://down.52pojie.cn/Tools/)\n* [ç†ŠçŒ«ç ´è§£](https://www.xmpojie.com/1368.html)\n\nå¨±ä¹\n\n* [ç½‘ç›˜å·¥å…·](https://www.runningcheese.com/baiduyun)\n* [è‹—æœ‰åˆ¸](https://open.21ds.cn/)\n* [guidgenç”Ÿæˆ](https://www.guidgen.com/)\n* [åœ¨çº¿çŸ­ä¿¡æ¥æ”¶](https://www.materialtools.com/)\n* [ç³»ç»Ÿä¸‹è½½](http://www.imsdn.cn/)\n* [ä¸‹è½½éŸ³ä¹](http://music.zhuolin.wang/)\n\n\nèµ„æº\n* [æœ€å¤§èµ„æºç½‘](http://www.zuidazy2.net/)\n\n\n\nå­¦ä¹ \n\n* [å¼€å‘å‘½å](https://unbug.github.io)\n* [hexo å¼€å‘æ–‡æ¡£](https://hexo.io/docs/commands)\n* [linux å‘½ä»¤å¤§å…¨](https://man.linuxde.net/tar)\n* [è½¯ä»¶è®¾è®¡å¸ˆè¯•é¢˜ä¸‹è½½](http://www.ixinguan.com/pd.jsp?id=34)\n\n\n\n","slug":"å·¥å…·ç½‘ç«™","published":1,"updated":"2020-01-14T07:44:23.868Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkctvj002j4osxs0fxm663","content":"<ul>\n<li><a href=\"https://tool.chinaz.com/\" target=\"_blank\" rel=\"noopener\">ç«™é•¿å·¥å…·</a></li>\n<li><a href=\"https://savieo.com\" target=\"_blank\" rel=\"noopener\">å›½å¤–è§†é¢‘ä¸‹è½½ç½‘ç«™</a></li>\n<li><a href=\"https://pixelmob.co\" target=\"_blank\" rel=\"noopener\">å›¾ç‰‡æœç´¢ç½‘ç«™</a></li>\n<li><a href=\"https://themusic.today\" target=\"_blank\" rel=\"noopener\">ç‹¬ç«‹éŸ³ä¹</a></li>\n<li><a href=\"http://www.kinginso.com\" target=\"_blank\" rel=\"noopener\">æœç´¢å¼•æ“</a></li>\n<li><a href=\"http://www.zhaogepu.com\" target=\"_blank\" rel=\"noopener\">æ‰¾æ­Œè°±</a></li>\n<li><a href=\"https://www.temp-phone-number.com\" target=\"_blank\" rel=\"noopener\">å…¨ä¸–ç•Œæ”¶å—å¹³å°</a></li>\n<li><a href=\"https://cli.im/\" target=\"_blank\" rel=\"noopener\">è‰æ ¹äºŒç»´ç </a></li>\n<li><a href=\"https://www.filecroco.com/\" target=\"_blank\" rel=\"noopener\">æ–‡ä»¶ä¸‹è½½</a></li>\n</ul>\n<p>ç ´è§£</p>\n<ul>\n<li><a href=\"https://down.52pojie.cn/Tools/\" target=\"_blank\" rel=\"noopener\">æœ€æ–°ç ´è§£å·¥å…·åŒ…</a></li>\n<li><a href=\"https://www.xmpojie.com/1368.html\" target=\"_blank\" rel=\"noopener\">ç†ŠçŒ«ç ´è§£</a></li>\n</ul>\n<p>å¨±ä¹</p>\n<ul>\n<li><a href=\"https://www.runningcheese.com/baiduyun\" target=\"_blank\" rel=\"noopener\">ç½‘ç›˜å·¥å…·</a></li>\n<li><a href=\"https://open.21ds.cn/\" target=\"_blank\" rel=\"noopener\">è‹—æœ‰åˆ¸</a></li>\n<li><a href=\"https://www.guidgen.com/\" target=\"_blank\" rel=\"noopener\">guidgenç”Ÿæˆ</a></li>\n<li><a href=\"https://www.materialtools.com/\" target=\"_blank\" rel=\"noopener\">åœ¨çº¿çŸ­ä¿¡æ¥æ”¶</a></li>\n<li><a href=\"http://www.imsdn.cn/\" target=\"_blank\" rel=\"noopener\">ç³»ç»Ÿä¸‹è½½</a></li>\n<li><a href=\"http://music.zhuolin.wang/\" target=\"_blank\" rel=\"noopener\">ä¸‹è½½éŸ³ä¹</a></li>\n</ul>\n<p>èµ„æº</p>\n<ul>\n<li><a href=\"http://www.zuidazy2.net/\" target=\"_blank\" rel=\"noopener\">æœ€å¤§èµ„æºç½‘</a></li>\n</ul>\n<p>å­¦ä¹ </p>\n<ul>\n<li><a href=\"https://unbug.github.io\" target=\"_blank\" rel=\"noopener\">å¼€å‘å‘½å</a></li>\n<li><a href=\"https://hexo.io/docs/commands\" target=\"_blank\" rel=\"noopener\">hexo å¼€å‘æ–‡æ¡£</a></li>\n<li><a href=\"https://man.linuxde.net/tar\" target=\"_blank\" rel=\"noopener\">linux å‘½ä»¤å¤§å…¨</a></li>\n<li><a href=\"http://www.ixinguan.com/pd.jsp?id=34\" target=\"_blank\" rel=\"noopener\">è½¯ä»¶è®¾è®¡å¸ˆè¯•é¢˜ä¸‹è½½</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<ul>\n<li><a href=\"https://tool.chinaz.com/\" target=\"_blank\" rel=\"noopener\">ç«™é•¿å·¥å…·</a></li>\n<li><a href=\"https://savieo.com\" target=\"_blank\" rel=\"noopener\">å›½å¤–è§†é¢‘ä¸‹è½½ç½‘ç«™</a></li>\n<li><a href=\"https://pixelmob.co\" target=\"_blank\" rel=\"noopener\">å›¾ç‰‡æœç´¢ç½‘ç«™</a></li>\n<li><a href=\"https://themusic.today\" target=\"_blank\" rel=\"noopener\">ç‹¬ç«‹éŸ³ä¹</a></li>\n<li><a href=\"http://www.kinginso.com\" target=\"_blank\" rel=\"noopener\">æœç´¢å¼•æ“</a></li>\n<li><a href=\"http://www.zhaogepu.com\" target=\"_blank\" rel=\"noopener\">æ‰¾æ­Œè°±</a></li>\n<li><a href=\"https://www.temp-phone-number.com\" target=\"_blank\" rel=\"noopener\">å…¨ä¸–ç•Œæ”¶å—å¹³å°</a></li>\n<li><a href=\"https://cli.im/\" target=\"_blank\" rel=\"noopener\">è‰æ ¹äºŒç»´ç </a></li>\n<li><a href=\"https://www.filecroco.com/\" target=\"_blank\" rel=\"noopener\">æ–‡ä»¶ä¸‹è½½</a></li>\n</ul>\n<p>ç ´è§£</p>\n<ul>\n<li><a href=\"https://down.52pojie.cn/Tools/\" target=\"_blank\" rel=\"noopener\">æœ€æ–°ç ´è§£å·¥å…·åŒ…</a></li>\n<li><a href=\"https://www.xmpojie.com/1368.html\" target=\"_blank\" rel=\"noopener\">ç†ŠçŒ«ç ´è§£</a></li>\n</ul>\n<p>å¨±ä¹</p>\n<ul>\n<li><a href=\"https://www.runningcheese.com/baiduyun\" target=\"_blank\" rel=\"noopener\">ç½‘ç›˜å·¥å…·</a></li>\n<li><a href=\"https://open.21ds.cn/\" target=\"_blank\" rel=\"noopener\">è‹—æœ‰åˆ¸</a></li>\n<li><a href=\"https://www.guidgen.com/\" target=\"_blank\" rel=\"noopener\">guidgenç”Ÿæˆ</a></li>\n<li><a href=\"https://www.materialtools.com/\" target=\"_blank\" rel=\"noopener\">åœ¨çº¿çŸ­ä¿¡æ¥æ”¶</a></li>\n<li><a href=\"http://www.imsdn.cn/\" target=\"_blank\" rel=\"noopener\">ç³»ç»Ÿä¸‹è½½</a></li>\n<li><a href=\"http://music.zhuolin.wang/\" target=\"_blank\" rel=\"noopener\">ä¸‹è½½éŸ³ä¹</a></li>\n</ul>\n<p>èµ„æº</p>\n<ul>\n<li><a href=\"http://www.zuidazy2.net/\" target=\"_blank\" rel=\"noopener\">æœ€å¤§èµ„æºç½‘</a></li>\n</ul>\n<p>å­¦ä¹ </p>\n<ul>\n<li><a href=\"https://unbug.github.io\" target=\"_blank\" rel=\"noopener\">å¼€å‘å‘½å</a></li>\n<li><a href=\"https://hexo.io/docs/commands\" target=\"_blank\" rel=\"noopener\">hexo å¼€å‘æ–‡æ¡£</a></li>\n<li><a href=\"https://man.linuxde.net/tar\" target=\"_blank\" rel=\"noopener\">linux å‘½ä»¤å¤§å…¨</a></li>\n<li><a href=\"http://www.ixinguan.com/pd.jsp?id=34\" target=\"_blank\" rel=\"noopener\">è½¯ä»¶è®¾è®¡å¸ˆè¯•é¢˜ä¸‹è½½</a></li>\n</ul>\n"},{"title":"Linuxä¸‹ç¦»çº¿å®‰è£…mysql","date":"2019-12-05T01:37:32.000Z","_content":"#  ä¸‹è½½mysql-5.7.28æºç åŒ…ï¼ˆä¸éœ€è¦ç¼–è¯‘ï¼‰ï¼š\n\nåœ°å€ï¼šhttps://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.28-linux-glibc2.12-x86_64.tar.gz\n<!-- more -->\n#  åˆ›å»ºMySQLç»„å¹¶æ·»åŠ MySQLç”¨æˆ·ï¼ŒMySQLç”¨æˆ·ä¸å­˜åœ¨åˆ™åˆ›å»º\n\n    æ³¨æ„ï¼šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤éœ€è¦åœ¨rootæƒé™ä¸‹æ‰§è¡Œ\n\n    groupadd mysql -- åˆ›å»ºmysql ç»„\n\n    useradd -r -g mysql mysql  åˆ›å»ºMySQLç”¨æˆ·å¹¶åŠ å…¥MySQLç»„\n\n    useradd å‘½ä»¤å‚æ•°å¦‚ä¸‹ï¼š\n\n   ![useraddå‘½ä»¤](https://img.mupaie.com/useradd.png)\n\n# è§£å‹æºç \n\nè§£å‹åŒ…åˆ°æŒ‡å®šç›®å½•ä¸‹ï¼ˆ/usr/local/mysql/ï¼‰å¦‚æœ/usr/local/mysql/ ç›®å½•ä¸å­˜åœ¨åˆ™åˆ›å»ºè¯¥ç›®å½•\n\n```\ntar -zxvf mysql-5.7.28-linux-glibc2.12-x86_64.tar.gz -C /usr/local/mysql/\n```\n\n# è®¾ç½®ç›®å½•æƒé™ \n\n``` \ncd /usr/local/mysql/ \nchown -R mysql:mysql /usr/local/mysql/\nchmod 775 /usr/local/mysql/\n```\n   \n# åˆ›å»º my.cnf æ–‡ä»¶ \n\nå¦‚æœ/etc ä¸‹æ²¡æœ‰è¯¥æ–‡ä»¶ï¼Œå¹¶å¡«å…¥ä»¥ä¸‹å†…å®¹\n\n```\n[mysqld] sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\nexplicit_defaults_for_timestamp=true\nbasedir = /usr/local/mysql datadir= /usr/local/mysql/data\nport = 3306\nsocket =/usr/local/mysql/mysqld/mysql.sock\npid-file =/usr/local/mysql/mysqld/mysql.pid\ncharacter-set-server=utf8\nback_log =300\nmax_connections = 3000\nmax_connect_errors = 50\ntable_open_cache = 4096\nmax_allowed_packet = 32M\nmax_heap_table_size = 128M\nread_rnd_buffer_size = 16M\nsort_buffer_size = 16M\njoin_buffer_size = 16M\nthread_cache_size = 16\nquery_cache_size = 128M\nquery_cache_limit = 4M\nft_min_word_len = 8\nthread_stack = 512K\ntransaction_isolation = REPEATABLE-READ\ntmp_table_size = 128M\nlong_query_time = 6\nserver_id=1\ninnodb_buffer_pool_size = 1G\ninnodb_thread_concurrency = 16\ninnodb_log_buffer_size = 16M\ninnodb_log_file_size = 512M\ninnodb_log_files_in_group = 3\ninnodb_max_dirty_pages_pct = 90\ninnodb_lock_wait_timeout = 120\ninnodb_file_per_table = on\n[mysqldump]\nquick max_allowed_packet = 32M\n[mysql]\nno-auto-rehash\ndefault-character-set=utf8\nsafe-updates\n[myisamchk]\nkey_buffer = 16M\nsort_buffer_size = 16M\nread_buffer = 8M\nwrite_buffer = 8M\n[mysqlhotcopy]\ninteractive-timeout\n[mysqld_safe]\nopen-files-limit = 8192\n[client]\nport = 3306\nsocket = /usr/local/mysql/mysqld/mysql.sock\ndefault-character-set = utf8\n```\n# åˆ›å»ºæ–‡ä»¶å¤¹\n\n```\n $ mkdir -p /usr/local/mysql/data\n $ chown -R mysql:mysql /usr/local/mysql/data\n $ chmod -R 755 /usr/local/mysql/data $ mkdir -p /usr/local/mysql/mysqld\n $ chown -R mysql:mysql /usr/local/mysql/mysqld\n $ chmod -R 755 /usr/local/mysql/mysqld\n```\n# åˆå§‹åŒ–æ•°æ®åº“ \n\nè¿›å…¥åˆ°/usr/local/mysql/bin ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤\n\n```\n$ ./mysqld --user=mysql --basedir=/usr/local/mysql--datadir=/usr/local/mysql/data --initialize\n```\n\næ‰§è¡Œç»“æŸåä¼šæœ‰ä¸€ä¸ªä¸´æ—¶å¯†ç è®°å…¥ä¸‹æ¥\nA temporary password is generated for root@localhost: dsuIeduSe5>E\n\næ–¹ä¾¿ç­‰ä¸‹ç™»å½• æ¯”å¦‚ dsuIeduSe5 å°±æ˜¯æˆ‘çš„ä¸´æ—¶å¯†ç \n\n# åˆ›å»ºè½¯é“¾æ¥å¹¶é…ç½®ç¯å¢ƒå˜é‡\n```\n $ln -fs /usr/local/mysql/bin/mysql\n/usr/local/bin/mysql $ cp /usr/local/mysql/support-files/mysql.server\n/etc/init.d/mysqld\n```\næ‰“å¼€ vim /etc/profile æ–‡ä»¶å¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š\n```\nMYSQL_HOME= /usr/local/mysq/bin PATH=$MYSQL_HOME/bin:$PATH export\nMYSQL_HOME\n```\n# å¯ç”¨Mysql \n\n```\n/etc/init.d/mysqld start æˆ– service mysql start\n```\n\n# ç™»å½•mysql\n    mysql -uroot -p  å›è½¦\n\n    è¾“å…¥ä¸Šè¿°çš„ä¸´æ—¶å¯†ç \n\n    ç™»å…¥æˆåŠŸåå‡ºç°ä»¥ä¸‹å†…å®¹åˆ™è¡¨ç¤ºæˆåŠŸï¼š\n\n   ![useraddå‘½ä»¤](https://img.mupaie.com/mysql.png)\n\n# å®‰è£…è¿‡ç¨‹ä¸‹å¦‚æœå‡ºç°ä»¥ä¸‹é—®é¢˜\n* é—®é¢˜1ï¼š\nå¯åŠ¨ mysql çš„æ—¶å€™å‡ºç°\nCanâ€™tÂ connectÂ toÂ localÂ MySQLÂ serverÂ throughÂ socketÂ â€˜/var/lib/mysql/mysql.sockâ€™Â \nè§£å†³æ–¹æ³•ï¼šæŸ¥çœ‹mysql.sockç›®å½•mysqlç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®ï¼Œå¦‚æœæ²¡æœ‰æƒé™åˆ™èµ‹æƒ\n\n* é—®é¢˜2ï¼š\nå¯åŠ¨ mysql çš„æ—¶å€™å‡ºç°\nStarting MySQL...[ERROR] The server quit without updating PID file (/usr/local/mysql/data/mysqld.pid).\nè§£å†³ï¼š\n1. æŸ¥çœ‹è¯¥ç›®å½•æ˜¯å¦æœ‰æƒé™\n2. æŸ¥çœ‹ mysqldè¿›ç¨‹æ˜¯å¦å­˜åœ¨\n3. å»mysqlçš„æ•°æ®ç›®å½•/dataçœ‹çœ‹ï¼Œå¦‚æœå­˜åœ¨mysql-bin.indexï¼Œå°±èµ¶å¿«æŠŠå®ƒåˆ é™¤æ‰å§ï¼Œå®ƒå°±æ˜¯ç½ªé­ç¥¸é¦–äº†\n4. [mysqld]ä¸‹æŒ‡å®šæ•°æ®ç›®å½•(datadir) /usr/local/mysql/data \n\n* é—®é¢˜3ï¼š\n\n5. å¿˜è®°ä¸´æ—¶å¯†ç \nä¸Šè¿°æ‰§è¡Œmysqldå‘½ä»¤ä¼šç”Ÿæˆå¯¹åº”çš„æ—¥å¿—æ–‡ä»¶ï¼Œç›®å½•/var/log/mysqld.log æ‰§è¡Œ grep\n'temporary password' /var/log/mysqld.log æŸ¥çœ‹ä¸´æ—¶å¯†ç \nå¦‚æœæ—¥å¿—ä¸­æŸ¥ä¸åˆ°å¯†ç ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š è¿›å…¥/usr/local/mysql/bin\nç›®å½•ï¼Œæ“ä½œå‰å…ˆå…³é—­mysqlæœåŠ¡ æ‰§è¡Œ mysqld_safe --skip-grant-tables\n--user=mysql &\n\næ‰§è¡Œ mysql å‘½ä»¤ è¿›å…¥mysql\n```\nuse mysql; update user set authentication_string=password(\"æ–°å¯†ç \") where user='root';\n```\næ‰§è¡Œè¿™æ®µsqlå¯èƒ½ä¼šå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š\n```\nError Code: 1175. You are using safe update mode and you tried to\nupdate a table without a WHERE that uses a KEY column To disable safe\nmode, toggle the option in Preferences -> SQL Queries and reconnect.\n```\n\nç”±äºå®‰å…¨æ¨¡å¼ä¸‹æ›´æ–°è¯­å¥æ¡ä»¶å¿…é¡»æ˜¯ä¸»é”® å…³é—­å®‰å…¨æ¨¡å¼ï¼š\n```\n SET SQL_SAFE_UPDATES = 0;\n```\nä¿®æ”¹ä¸‹æ•°æ®åº“æ¨¡å¼ ç»§ç»­æ‰§è¡Œä¸Šè¿°sql\n\n* é—®é¢˜4ï¼š è¿œç¨‹è®¿é—®æ•°æ®åº“ update user set host = '%' where user='root';\n è®©rootç”¨æˆ·å¯ä»¥è¿œç¨‹ç™»å½•ï¼Œä½†æ˜¯è¿™æ ·åšæœ‰é£é™©ä¸å»ºè®®ä½¿ç”¨\n\nå‚è€ƒæ–‡æ¡£:\n\n[å®‰è£…ï¼šMySQL mysql-5.7.19-linux-glibc2.12-x86_64.tar.gz](https://www.jianshu.com/p/82790b6b4e08)\n\n[ã€MySQLç¬”è®°ã€‘è§£é™¤è¾“å…¥çš„å®‰å…¨æ¨¡å¼](https://www.cnblogs.com/xuancaoyy/p/5814658.html)\n","source":"_posts/mysql-Linuxä¸‹ç¦»çº¿å®‰è£…mysql.md","raw":"---\ntitle: 'Linuxä¸‹ç¦»çº¿å®‰è£…mysql'\ndate: 2019-12-05 09:37:32\ntags:\n- mysql\n---\n#  ä¸‹è½½mysql-5.7.28æºç åŒ…ï¼ˆä¸éœ€è¦ç¼–è¯‘ï¼‰ï¼š\n\nåœ°å€ï¼šhttps://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.28-linux-glibc2.12-x86_64.tar.gz\n<!-- more -->\n#  åˆ›å»ºMySQLç»„å¹¶æ·»åŠ MySQLç”¨æˆ·ï¼ŒMySQLç”¨æˆ·ä¸å­˜åœ¨åˆ™åˆ›å»º\n\n    æ³¨æ„ï¼šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤éœ€è¦åœ¨rootæƒé™ä¸‹æ‰§è¡Œ\n\n    groupadd mysql -- åˆ›å»ºmysql ç»„\n\n    useradd -r -g mysql mysql  åˆ›å»ºMySQLç”¨æˆ·å¹¶åŠ å…¥MySQLç»„\n\n    useradd å‘½ä»¤å‚æ•°å¦‚ä¸‹ï¼š\n\n   ![useraddå‘½ä»¤](https://img.mupaie.com/useradd.png)\n\n# è§£å‹æºç \n\nè§£å‹åŒ…åˆ°æŒ‡å®šç›®å½•ä¸‹ï¼ˆ/usr/local/mysql/ï¼‰å¦‚æœ/usr/local/mysql/ ç›®å½•ä¸å­˜åœ¨åˆ™åˆ›å»ºè¯¥ç›®å½•\n\n```\ntar -zxvf mysql-5.7.28-linux-glibc2.12-x86_64.tar.gz -C /usr/local/mysql/\n```\n\n# è®¾ç½®ç›®å½•æƒé™ \n\n``` \ncd /usr/local/mysql/ \nchown -R mysql:mysql /usr/local/mysql/\nchmod 775 /usr/local/mysql/\n```\n   \n# åˆ›å»º my.cnf æ–‡ä»¶ \n\nå¦‚æœ/etc ä¸‹æ²¡æœ‰è¯¥æ–‡ä»¶ï¼Œå¹¶å¡«å…¥ä»¥ä¸‹å†…å®¹\n\n```\n[mysqld] sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\nexplicit_defaults_for_timestamp=true\nbasedir = /usr/local/mysql datadir= /usr/local/mysql/data\nport = 3306\nsocket =/usr/local/mysql/mysqld/mysql.sock\npid-file =/usr/local/mysql/mysqld/mysql.pid\ncharacter-set-server=utf8\nback_log =300\nmax_connections = 3000\nmax_connect_errors = 50\ntable_open_cache = 4096\nmax_allowed_packet = 32M\nmax_heap_table_size = 128M\nread_rnd_buffer_size = 16M\nsort_buffer_size = 16M\njoin_buffer_size = 16M\nthread_cache_size = 16\nquery_cache_size = 128M\nquery_cache_limit = 4M\nft_min_word_len = 8\nthread_stack = 512K\ntransaction_isolation = REPEATABLE-READ\ntmp_table_size = 128M\nlong_query_time = 6\nserver_id=1\ninnodb_buffer_pool_size = 1G\ninnodb_thread_concurrency = 16\ninnodb_log_buffer_size = 16M\ninnodb_log_file_size = 512M\ninnodb_log_files_in_group = 3\ninnodb_max_dirty_pages_pct = 90\ninnodb_lock_wait_timeout = 120\ninnodb_file_per_table = on\n[mysqldump]\nquick max_allowed_packet = 32M\n[mysql]\nno-auto-rehash\ndefault-character-set=utf8\nsafe-updates\n[myisamchk]\nkey_buffer = 16M\nsort_buffer_size = 16M\nread_buffer = 8M\nwrite_buffer = 8M\n[mysqlhotcopy]\ninteractive-timeout\n[mysqld_safe]\nopen-files-limit = 8192\n[client]\nport = 3306\nsocket = /usr/local/mysql/mysqld/mysql.sock\ndefault-character-set = utf8\n```\n# åˆ›å»ºæ–‡ä»¶å¤¹\n\n```\n $ mkdir -p /usr/local/mysql/data\n $ chown -R mysql:mysql /usr/local/mysql/data\n $ chmod -R 755 /usr/local/mysql/data $ mkdir -p /usr/local/mysql/mysqld\n $ chown -R mysql:mysql /usr/local/mysql/mysqld\n $ chmod -R 755 /usr/local/mysql/mysqld\n```\n# åˆå§‹åŒ–æ•°æ®åº“ \n\nè¿›å…¥åˆ°/usr/local/mysql/bin ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤\n\n```\n$ ./mysqld --user=mysql --basedir=/usr/local/mysql--datadir=/usr/local/mysql/data --initialize\n```\n\næ‰§è¡Œç»“æŸåä¼šæœ‰ä¸€ä¸ªä¸´æ—¶å¯†ç è®°å…¥ä¸‹æ¥\nA temporary password is generated for root@localhost: dsuIeduSe5>E\n\næ–¹ä¾¿ç­‰ä¸‹ç™»å½• æ¯”å¦‚ dsuIeduSe5 å°±æ˜¯æˆ‘çš„ä¸´æ—¶å¯†ç \n\n# åˆ›å»ºè½¯é“¾æ¥å¹¶é…ç½®ç¯å¢ƒå˜é‡\n```\n $ln -fs /usr/local/mysql/bin/mysql\n/usr/local/bin/mysql $ cp /usr/local/mysql/support-files/mysql.server\n/etc/init.d/mysqld\n```\næ‰“å¼€ vim /etc/profile æ–‡ä»¶å¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š\n```\nMYSQL_HOME= /usr/local/mysq/bin PATH=$MYSQL_HOME/bin:$PATH export\nMYSQL_HOME\n```\n# å¯ç”¨Mysql \n\n```\n/etc/init.d/mysqld start æˆ– service mysql start\n```\n\n# ç™»å½•mysql\n    mysql -uroot -p  å›è½¦\n\n    è¾“å…¥ä¸Šè¿°çš„ä¸´æ—¶å¯†ç \n\n    ç™»å…¥æˆåŠŸåå‡ºç°ä»¥ä¸‹å†…å®¹åˆ™è¡¨ç¤ºæˆåŠŸï¼š\n\n   ![useraddå‘½ä»¤](https://img.mupaie.com/mysql.png)\n\n# å®‰è£…è¿‡ç¨‹ä¸‹å¦‚æœå‡ºç°ä»¥ä¸‹é—®é¢˜\n* é—®é¢˜1ï¼š\nå¯åŠ¨ mysql çš„æ—¶å€™å‡ºç°\nCanâ€™tÂ connectÂ toÂ localÂ MySQLÂ serverÂ throughÂ socketÂ â€˜/var/lib/mysql/mysql.sockâ€™Â \nè§£å†³æ–¹æ³•ï¼šæŸ¥çœ‹mysql.sockç›®å½•mysqlç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®ï¼Œå¦‚æœæ²¡æœ‰æƒé™åˆ™èµ‹æƒ\n\n* é—®é¢˜2ï¼š\nå¯åŠ¨ mysql çš„æ—¶å€™å‡ºç°\nStarting MySQL...[ERROR] The server quit without updating PID file (/usr/local/mysql/data/mysqld.pid).\nè§£å†³ï¼š\n1. æŸ¥çœ‹è¯¥ç›®å½•æ˜¯å¦æœ‰æƒé™\n2. æŸ¥çœ‹ mysqldè¿›ç¨‹æ˜¯å¦å­˜åœ¨\n3. å»mysqlçš„æ•°æ®ç›®å½•/dataçœ‹çœ‹ï¼Œå¦‚æœå­˜åœ¨mysql-bin.indexï¼Œå°±èµ¶å¿«æŠŠå®ƒåˆ é™¤æ‰å§ï¼Œå®ƒå°±æ˜¯ç½ªé­ç¥¸é¦–äº†\n4. [mysqld]ä¸‹æŒ‡å®šæ•°æ®ç›®å½•(datadir) /usr/local/mysql/data \n\n* é—®é¢˜3ï¼š\n\n5. å¿˜è®°ä¸´æ—¶å¯†ç \nä¸Šè¿°æ‰§è¡Œmysqldå‘½ä»¤ä¼šç”Ÿæˆå¯¹åº”çš„æ—¥å¿—æ–‡ä»¶ï¼Œç›®å½•/var/log/mysqld.log æ‰§è¡Œ grep\n'temporary password' /var/log/mysqld.log æŸ¥çœ‹ä¸´æ—¶å¯†ç \nå¦‚æœæ—¥å¿—ä¸­æŸ¥ä¸åˆ°å¯†ç ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š è¿›å…¥/usr/local/mysql/bin\nç›®å½•ï¼Œæ“ä½œå‰å…ˆå…³é—­mysqlæœåŠ¡ æ‰§è¡Œ mysqld_safe --skip-grant-tables\n--user=mysql &\n\næ‰§è¡Œ mysql å‘½ä»¤ è¿›å…¥mysql\n```\nuse mysql; update user set authentication_string=password(\"æ–°å¯†ç \") where user='root';\n```\næ‰§è¡Œè¿™æ®µsqlå¯èƒ½ä¼šå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š\n```\nError Code: 1175. You are using safe update mode and you tried to\nupdate a table without a WHERE that uses a KEY column To disable safe\nmode, toggle the option in Preferences -> SQL Queries and reconnect.\n```\n\nç”±äºå®‰å…¨æ¨¡å¼ä¸‹æ›´æ–°è¯­å¥æ¡ä»¶å¿…é¡»æ˜¯ä¸»é”® å…³é—­å®‰å…¨æ¨¡å¼ï¼š\n```\n SET SQL_SAFE_UPDATES = 0;\n```\nä¿®æ”¹ä¸‹æ•°æ®åº“æ¨¡å¼ ç»§ç»­æ‰§è¡Œä¸Šè¿°sql\n\n* é—®é¢˜4ï¼š è¿œç¨‹è®¿é—®æ•°æ®åº“ update user set host = '%' where user='root';\n è®©rootç”¨æˆ·å¯ä»¥è¿œç¨‹ç™»å½•ï¼Œä½†æ˜¯è¿™æ ·åšæœ‰é£é™©ä¸å»ºè®®ä½¿ç”¨\n\nå‚è€ƒæ–‡æ¡£:\n\n[å®‰è£…ï¼šMySQL mysql-5.7.19-linux-glibc2.12-x86_64.tar.gz](https://www.jianshu.com/p/82790b6b4e08)\n\n[ã€MySQLç¬”è®°ã€‘è§£é™¤è¾“å…¥çš„å®‰å…¨æ¨¡å¼](https://www.cnblogs.com/xuancaoyy/p/5814658.html)\n","slug":"mysql-Linuxä¸‹ç¦»çº¿å®‰è£…mysql","published":1,"updated":"2020-04-04T09:38:03.816Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8mkctvm002o4osxo5kora9p","content":"<h1 id=\"ä¸‹è½½mysql-5-7-28æºç åŒ…ï¼ˆä¸éœ€è¦ç¼–è¯‘ï¼‰ï¼š\"><a href=\"#ä¸‹è½½mysql-5-7-28æºç åŒ…ï¼ˆä¸éœ€è¦ç¼–è¯‘ï¼‰ï¼š\" class=\"headerlink\" title=\"ä¸‹è½½mysql-5.7.28æºç åŒ…ï¼ˆä¸éœ€è¦ç¼–è¯‘ï¼‰ï¼š\"></a>ä¸‹è½½mysql-5.7.28æºç åŒ…ï¼ˆä¸éœ€è¦ç¼–è¯‘ï¼‰ï¼š</h1><p>åœ°å€ï¼š<a href=\"https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.28-linux-glibc2.12-x86_64.tar.gz\" target=\"_blank\" rel=\"noopener\">https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.28-linux-glibc2.12-x86_64.tar.gz</a><br><a id=\"more\"></a></p>\n<h1 id=\"åˆ›å»ºMySQLç»„å¹¶æ·»åŠ MySQLç”¨æˆ·ï¼ŒMySQLç”¨æˆ·ä¸å­˜åœ¨åˆ™åˆ›å»º\"><a href=\"#åˆ›å»ºMySQLç»„å¹¶æ·»åŠ MySQLç”¨æˆ·ï¼ŒMySQLç”¨æˆ·ä¸å­˜åœ¨åˆ™åˆ›å»º\" class=\"headerlink\" title=\"åˆ›å»ºMySQLç»„å¹¶æ·»åŠ MySQLç”¨æˆ·ï¼ŒMySQLç”¨æˆ·ä¸å­˜åœ¨åˆ™åˆ›å»º\"></a>åˆ›å»ºMySQLç»„å¹¶æ·»åŠ MySQLç”¨æˆ·ï¼ŒMySQLç”¨æˆ·ä¸å­˜åœ¨åˆ™åˆ›å»º</h1><pre><code>æ³¨æ„ï¼šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤éœ€è¦åœ¨rootæƒé™ä¸‹æ‰§è¡Œ\n\ngroupadd mysql -- åˆ›å»ºmysql ç»„\n\nuseradd -r -g mysql mysql  åˆ›å»ºMySQLç”¨æˆ·å¹¶åŠ å…¥MySQLç»„\n\nuseradd å‘½ä»¤å‚æ•°å¦‚ä¸‹ï¼š\n</code></pre><p>   <img src=\"https://img.mupaie.com/useradd.png\" alt=\"useraddå‘½ä»¤\"></p>\n<h1 id=\"è§£å‹æºç \"><a href=\"#è§£å‹æºç \" class=\"headerlink\" title=\"è§£å‹æºç \"></a>è§£å‹æºç </h1><p>è§£å‹åŒ…åˆ°æŒ‡å®šç›®å½•ä¸‹ï¼ˆ/usr/local/mysql/ï¼‰å¦‚æœ/usr/local/mysql/ ç›®å½•ä¸å­˜åœ¨åˆ™åˆ›å»ºè¯¥ç›®å½•</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tar -zxvf mysql-5.7.28-linux-glibc2.12-x86_64.tar.gz -C /usr/local/mysql/</span><br></pre></td></tr></table></figure>\n<h1 id=\"è®¾ç½®ç›®å½•æƒé™\"><a href=\"#è®¾ç½®ç›®å½•æƒé™\" class=\"headerlink\" title=\"è®¾ç½®ç›®å½•æƒé™\"></a>è®¾ç½®ç›®å½•æƒé™</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /usr/local/mysql/ </span><br><span class=\"line\">chown -R mysql:mysql /usr/local/mysql/</span><br><span class=\"line\">chmod 775 /usr/local/mysql/</span><br></pre></td></tr></table></figure>\n<h1 id=\"åˆ›å»º-my-cnf-æ–‡ä»¶\"><a href=\"#åˆ›å»º-my-cnf-æ–‡ä»¶\" class=\"headerlink\" title=\"åˆ›å»º my.cnf æ–‡ä»¶\"></a>åˆ›å»º my.cnf æ–‡ä»¶</h1><p>å¦‚æœ/etc ä¸‹æ²¡æœ‰è¯¥æ–‡ä»¶ï¼Œå¹¶å¡«å…¥ä»¥ä¸‹å†…å®¹</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[mysqld] sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES</span><br><span class=\"line\">explicit_defaults_for_timestamp=true</span><br><span class=\"line\">basedir = /usr/local/mysql datadir= /usr/local/mysql/data</span><br><span class=\"line\">port = 3306</span><br><span class=\"line\">socket =/usr/local/mysql/mysqld/mysql.sock</span><br><span class=\"line\">pid-file =/usr/local/mysql/mysqld/mysql.pid</span><br><span class=\"line\">character-set-server=utf8</span><br><span class=\"line\">back_log =300</span><br><span class=\"line\">max_connections = 3000</span><br><span class=\"line\">max_connect_errors = 50</span><br><span class=\"line\">table_open_cache = 4096</span><br><span class=\"line\">max_allowed_packet = 32M</span><br><span class=\"line\">max_heap_table_size = 128M</span><br><span class=\"line\">read_rnd_buffer_size = 16M</span><br><span class=\"line\">sort_buffer_size = 16M</span><br><span class=\"line\">join_buffer_size = 16M</span><br><span class=\"line\">thread_cache_size = 16</span><br><span class=\"line\">query_cache_size = 128M</span><br><span class=\"line\">query_cache_limit = 4M</span><br><span class=\"line\">ft_min_word_len = 8</span><br><span class=\"line\">thread_stack = 512K</span><br><span class=\"line\">transaction_isolation = REPEATABLE-READ</span><br><span class=\"line\">tmp_table_size = 128M</span><br><span class=\"line\">long_query_time = 6</span><br><span class=\"line\">server_id=1</span><br><span class=\"line\">innodb_buffer_pool_size = 1G</span><br><span class=\"line\">innodb_thread_concurrency = 16</span><br><span class=\"line\">innodb_log_buffer_size = 16M</span><br><span class=\"line\">innodb_log_file_size = 512M</span><br><span class=\"line\">innodb_log_files_in_group = 3</span><br><span class=\"line\">innodb_max_dirty_pages_pct = 90</span><br><span class=\"line\">innodb_lock_wait_timeout = 120</span><br><span class=\"line\">innodb_file_per_table = on</span><br><span class=\"line\">[mysqldump]</span><br><span class=\"line\">quick max_allowed_packet = 32M</span><br><span class=\"line\">[mysql]</span><br><span class=\"line\">no-auto-rehash</span><br><span class=\"line\">default-character-set=utf8</span><br><span class=\"line\">safe-updates</span><br><span class=\"line\">[myisamchk]</span><br><span class=\"line\">key_buffer = 16M</span><br><span class=\"line\">sort_buffer_size = 16M</span><br><span class=\"line\">read_buffer = 8M</span><br><span class=\"line\">write_buffer = 8M</span><br><span class=\"line\">[mysqlhotcopy]</span><br><span class=\"line\">interactive-timeout</span><br><span class=\"line\">[mysqld_safe]</span><br><span class=\"line\">open-files-limit = 8192</span><br><span class=\"line\">[client]</span><br><span class=\"line\">port = 3306</span><br><span class=\"line\">socket = /usr/local/mysql/mysqld/mysql.sock</span><br><span class=\"line\">default-character-set = utf8</span><br></pre></td></tr></table></figure>\n<h1 id=\"åˆ›å»ºæ–‡ä»¶å¤¹\"><a href=\"#åˆ›å»ºæ–‡ä»¶å¤¹\" class=\"headerlink\" title=\"åˆ›å»ºæ–‡ä»¶å¤¹\"></a>åˆ›å»ºæ–‡ä»¶å¤¹</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ mkdir -p /usr/local/mysql/data</span><br><span class=\"line\">$ chown -R mysql:mysql /usr/local/mysql/data</span><br><span class=\"line\">$ chmod -R 755 /usr/local/mysql/data $ mkdir -p /usr/local/mysql/mysqld</span><br><span class=\"line\">$ chown -R mysql:mysql /usr/local/mysql/mysqld</span><br><span class=\"line\">$ chmod -R 755 /usr/local/mysql/mysqld</span><br></pre></td></tr></table></figure>\n<h1 id=\"åˆå§‹åŒ–æ•°æ®åº“\"><a href=\"#åˆå§‹åŒ–æ•°æ®åº“\" class=\"headerlink\" title=\"åˆå§‹åŒ–æ•°æ®åº“\"></a>åˆå§‹åŒ–æ•°æ®åº“</h1><p>è¿›å…¥åˆ°/usr/local/mysql/bin ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ./mysqld --user=mysql --basedir=/usr/local/mysql--datadir=/usr/local/mysql/data --initialize</span><br></pre></td></tr></table></figure>\n<p>æ‰§è¡Œç»“æŸåä¼šæœ‰ä¸€ä¸ªä¸´æ—¶å¯†ç è®°å…¥ä¸‹æ¥<br>A temporary password is generated for root@localhost: dsuIeduSe5&gt;E</p>\n<p>æ–¹ä¾¿ç­‰ä¸‹ç™»å½• æ¯”å¦‚ dsuIeduSe5 å°±æ˜¯æˆ‘çš„ä¸´æ—¶å¯†ç </p>\n<h1 id=\"åˆ›å»ºè½¯é“¾æ¥å¹¶é…ç½®ç¯å¢ƒå˜é‡\"><a href=\"#åˆ›å»ºè½¯é“¾æ¥å¹¶é…ç½®ç¯å¢ƒå˜é‡\" class=\"headerlink\" title=\"åˆ›å»ºè½¯é“¾æ¥å¹¶é…ç½®ç¯å¢ƒå˜é‡\"></a>åˆ›å»ºè½¯é“¾æ¥å¹¶é…ç½®ç¯å¢ƒå˜é‡</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> $ln -fs /usr/local/mysql/bin/mysql</span><br><span class=\"line\">/usr/local/bin/mysql $ cp /usr/local/mysql/support-files/mysql.server</span><br><span class=\"line\">/etc/init.d/mysqld</span><br></pre></td></tr></table></figure>\n<p>æ‰“å¼€ vim /etc/profile æ–‡ä»¶å¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">MYSQL_HOME= /usr/local/mysq/bin PATH=$MYSQL_HOME/bin:$PATH export</span><br><span class=\"line\">MYSQL_HOME</span><br></pre></td></tr></table></figure></p>\n<h1 id=\"å¯ç”¨Mysql\"><a href=\"#å¯ç”¨Mysql\" class=\"headerlink\" title=\"å¯ç”¨Mysql\"></a>å¯ç”¨Mysql</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/etc/init.d/mysqld start æˆ– service mysql start</span><br></pre></td></tr></table></figure>\n<h1 id=\"ç™»å½•mysql\"><a href=\"#ç™»å½•mysql\" class=\"headerlink\" title=\"ç™»å½•mysql\"></a>ç™»å½•mysql</h1><pre><code>mysql -uroot -p  å›è½¦\n\nè¾“å…¥ä¸Šè¿°çš„ä¸´æ—¶å¯†ç \n\nç™»å…¥æˆåŠŸåå‡ºç°ä»¥ä¸‹å†…å®¹åˆ™è¡¨ç¤ºæˆåŠŸï¼š\n</code></pre><p>   <img src=\"https://img.mupaie.com/mysql.png\" alt=\"useraddå‘½ä»¤\"></p>\n<h1 id=\"å®‰è£…è¿‡ç¨‹ä¸‹å¦‚æœå‡ºç°ä»¥ä¸‹é—®é¢˜\"><a href=\"#å®‰è£…è¿‡ç¨‹ä¸‹å¦‚æœå‡ºç°ä»¥ä¸‹é—®é¢˜\" class=\"headerlink\" title=\"å®‰è£…è¿‡ç¨‹ä¸‹å¦‚æœå‡ºç°ä»¥ä¸‹é—®é¢˜\"></a>å®‰è£…è¿‡ç¨‹ä¸‹å¦‚æœå‡ºç°ä»¥ä¸‹é—®é¢˜</h1><ul>\n<li><p>é—®é¢˜1ï¼š<br>å¯åŠ¨ mysql çš„æ—¶å€™å‡ºç°<br>Canâ€™t connect to local MySQL server through socket â€˜/var/lib/mysql/mysql.sockâ€™<br>è§£å†³æ–¹æ³•ï¼šæŸ¥çœ‹mysql.sockç›®å½•mysqlç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®ï¼Œå¦‚æœæ²¡æœ‰æƒé™åˆ™èµ‹æƒ</p>\n</li>\n<li><p>é—®é¢˜2ï¼š<br>å¯åŠ¨ mysql çš„æ—¶å€™å‡ºç°<br>Starting MySQLâ€¦[ERROR] The server quit without updating PID file (/usr/local/mysql/data/mysqld.pid).<br>è§£å†³ï¼š</p>\n</li>\n</ul>\n<ol>\n<li>æŸ¥çœ‹è¯¥ç›®å½•æ˜¯å¦æœ‰æƒé™</li>\n<li>æŸ¥çœ‹ mysqldè¿›ç¨‹æ˜¯å¦å­˜åœ¨</li>\n<li>å»mysqlçš„æ•°æ®ç›®å½•/dataçœ‹çœ‹ï¼Œå¦‚æœå­˜åœ¨mysql-bin.indexï¼Œå°±èµ¶å¿«æŠŠå®ƒåˆ é™¤æ‰å§ï¼Œå®ƒå°±æ˜¯ç½ªé­ç¥¸é¦–äº†</li>\n<li>[mysqld]ä¸‹æŒ‡å®šæ•°æ®ç›®å½•(datadir) /usr/local/mysql/data </li>\n</ol>\n<ul>\n<li>é—®é¢˜3ï¼š</li>\n</ul>\n<ol start=\"5\">\n<li>å¿˜è®°ä¸´æ—¶å¯†ç <br>ä¸Šè¿°æ‰§è¡Œmysqldå‘½ä»¤ä¼šç”Ÿæˆå¯¹åº”çš„æ—¥å¿—æ–‡ä»¶ï¼Œç›®å½•/var/log/mysqld.log æ‰§è¡Œ grep<br>â€˜temporary passwordâ€™ /var/log/mysqld.log æŸ¥çœ‹ä¸´æ—¶å¯†ç <br>å¦‚æœæ—¥å¿—ä¸­æŸ¥ä¸åˆ°å¯†ç ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š è¿›å…¥/usr/local/mysql/bin<br>ç›®å½•ï¼Œæ“ä½œå‰å…ˆå…³é—­mysqlæœåŠ¡ æ‰§è¡Œ mysqld_safe â€“skip-grant-tables<br>â€“user=mysql &amp;</li>\n</ol>\n<p>æ‰§è¡Œ mysql å‘½ä»¤ è¿›å…¥mysql<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">use mysql; update user set authentication_string=password(&quot;æ–°å¯†ç &quot;) where user=&apos;root&apos;;</span><br></pre></td></tr></table></figure></p>\n<p>æ‰§è¡Œè¿™æ®µsqlå¯èƒ½ä¼šå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Error Code: 1175. You are using safe update mode and you tried to</span><br><span class=\"line\">update a table without a WHERE that uses a KEY column To disable safe</span><br><span class=\"line\">mode, toggle the option in Preferences -&gt; SQL Queries and reconnect.</span><br></pre></td></tr></table></figure></p>\n<p>ç”±äºå®‰å…¨æ¨¡å¼ä¸‹æ›´æ–°è¯­å¥æ¡ä»¶å¿…é¡»æ˜¯ä¸»é”® å…³é—­å®‰å…¨æ¨¡å¼ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SET SQL_SAFE_UPDATES = 0;</span><br></pre></td></tr></table></figure></p>\n<p>ä¿®æ”¹ä¸‹æ•°æ®åº“æ¨¡å¼ ç»§ç»­æ‰§è¡Œä¸Šè¿°sql</p>\n<ul>\n<li>é—®é¢˜4ï¼š è¿œç¨‹è®¿é—®æ•°æ®åº“ update user set host = â€˜%â€™ where user=â€™rootâ€™;<br>è®©rootç”¨æˆ·å¯ä»¥è¿œç¨‹ç™»å½•ï¼Œä½†æ˜¯è¿™æ ·åšæœ‰é£é™©ä¸å»ºè®®ä½¿ç”¨</li>\n</ul>\n<p>å‚è€ƒæ–‡æ¡£:</p>\n<p><a href=\"https://www.jianshu.com/p/82790b6b4e08\" target=\"_blank\" rel=\"noopener\">å®‰è£…ï¼šMySQL mysql-5.7.19-linux-glibc2.12-x86_64.tar.gz</a></p>\n<p><a href=\"https://www.cnblogs.com/xuancaoyy/p/5814658.html\" target=\"_blank\" rel=\"noopener\">ã€MySQLç¬”è®°ã€‘è§£é™¤è¾“å…¥çš„å®‰å…¨æ¨¡å¼</a></p>\n","site":{"data":{}},"excerpt":"<h1 id=\"ä¸‹è½½mysql-5-7-28æºç åŒ…ï¼ˆä¸éœ€è¦ç¼–è¯‘ï¼‰ï¼š\"><a href=\"#ä¸‹è½½mysql-5-7-28æºç åŒ…ï¼ˆä¸éœ€è¦ç¼–è¯‘ï¼‰ï¼š\" class=\"headerlink\" title=\"ä¸‹è½½mysql-5.7.28æºç åŒ…ï¼ˆä¸éœ€è¦ç¼–è¯‘ï¼‰ï¼š\"></a>ä¸‹è½½mysql-5.7.28æºç åŒ…ï¼ˆä¸éœ€è¦ç¼–è¯‘ï¼‰ï¼š</h1><p>åœ°å€ï¼š<a href=\"https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.28-linux-glibc2.12-x86_64.tar.gz\" target=\"_blank\" rel=\"noopener\">https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.28-linux-glibc2.12-x86_64.tar.gz</a><br></p>","more":"<p></p>\n<h1 id=\"åˆ›å»ºMySQLç»„å¹¶æ·»åŠ MySQLç”¨æˆ·ï¼ŒMySQLç”¨æˆ·ä¸å­˜åœ¨åˆ™åˆ›å»º\"><a href=\"#åˆ›å»ºMySQLç»„å¹¶æ·»åŠ MySQLç”¨æˆ·ï¼ŒMySQLç”¨æˆ·ä¸å­˜åœ¨åˆ™åˆ›å»º\" class=\"headerlink\" title=\"åˆ›å»ºMySQLç»„å¹¶æ·»åŠ MySQLç”¨æˆ·ï¼ŒMySQLç”¨æˆ·ä¸å­˜åœ¨åˆ™åˆ›å»º\"></a>åˆ›å»ºMySQLç»„å¹¶æ·»åŠ MySQLç”¨æˆ·ï¼ŒMySQLç”¨æˆ·ä¸å­˜åœ¨åˆ™åˆ›å»º</h1><pre><code>æ³¨æ„ï¼šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤éœ€è¦åœ¨rootæƒé™ä¸‹æ‰§è¡Œ\n\ngroupadd mysql -- åˆ›å»ºmysql ç»„\n\nuseradd -r -g mysql mysql  åˆ›å»ºMySQLç”¨æˆ·å¹¶åŠ å…¥MySQLç»„\n\nuseradd å‘½ä»¤å‚æ•°å¦‚ä¸‹ï¼š\n</code></pre><p>   <img src=\"https://img.mupaie.com/useradd.png\" alt=\"useraddå‘½ä»¤\"></p>\n<h1 id=\"è§£å‹æºç \"><a href=\"#è§£å‹æºç \" class=\"headerlink\" title=\"è§£å‹æºç \"></a>è§£å‹æºç </h1><p>è§£å‹åŒ…åˆ°æŒ‡å®šç›®å½•ä¸‹ï¼ˆ/usr/local/mysql/ï¼‰å¦‚æœ/usr/local/mysql/ ç›®å½•ä¸å­˜åœ¨åˆ™åˆ›å»ºè¯¥ç›®å½•</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tar -zxvf mysql-5.7.28-linux-glibc2.12-x86_64.tar.gz -C /usr/local/mysql/</span><br></pre></td></tr></table></figure>\n<h1 id=\"è®¾ç½®ç›®å½•æƒé™\"><a href=\"#è®¾ç½®ç›®å½•æƒé™\" class=\"headerlink\" title=\"è®¾ç½®ç›®å½•æƒé™\"></a>è®¾ç½®ç›®å½•æƒé™</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /usr/local/mysql/ </span><br><span class=\"line\">chown -R mysql:mysql /usr/local/mysql/</span><br><span class=\"line\">chmod 775 /usr/local/mysql/</span><br></pre></td></tr></table></figure>\n<h1 id=\"åˆ›å»º-my-cnf-æ–‡ä»¶\"><a href=\"#åˆ›å»º-my-cnf-æ–‡ä»¶\" class=\"headerlink\" title=\"åˆ›å»º my.cnf æ–‡ä»¶\"></a>åˆ›å»º my.cnf æ–‡ä»¶</h1><p>å¦‚æœ/etc ä¸‹æ²¡æœ‰è¯¥æ–‡ä»¶ï¼Œå¹¶å¡«å…¥ä»¥ä¸‹å†…å®¹</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[mysqld] sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES</span><br><span class=\"line\">explicit_defaults_for_timestamp=true</span><br><span class=\"line\">basedir = /usr/local/mysql datadir= /usr/local/mysql/data</span><br><span class=\"line\">port = 3306</span><br><span class=\"line\">socket =/usr/local/mysql/mysqld/mysql.sock</span><br><span class=\"line\">pid-file =/usr/local/mysql/mysqld/mysql.pid</span><br><span class=\"line\">character-set-server=utf8</span><br><span class=\"line\">back_log =300</span><br><span class=\"line\">max_connections = 3000</span><br><span class=\"line\">max_connect_errors = 50</span><br><span class=\"line\">table_open_cache = 4096</span><br><span class=\"line\">max_allowed_packet = 32M</span><br><span class=\"line\">max_heap_table_size = 128M</span><br><span class=\"line\">read_rnd_buffer_size = 16M</span><br><span class=\"line\">sort_buffer_size = 16M</span><br><span class=\"line\">join_buffer_size = 16M</span><br><span class=\"line\">thread_cache_size = 16</span><br><span class=\"line\">query_cache_size = 128M</span><br><span class=\"line\">query_cache_limit = 4M</span><br><span class=\"line\">ft_min_word_len = 8</span><br><span class=\"line\">thread_stack = 512K</span><br><span class=\"line\">transaction_isolation = REPEATABLE-READ</span><br><span class=\"line\">tmp_table_size = 128M</span><br><span class=\"line\">long_query_time = 6</span><br><span class=\"line\">server_id=1</span><br><span class=\"line\">innodb_buffer_pool_size = 1G</span><br><span class=\"line\">innodb_thread_concurrency = 16</span><br><span class=\"line\">innodb_log_buffer_size = 16M</span><br><span class=\"line\">innodb_log_file_size = 512M</span><br><span class=\"line\">innodb_log_files_in_group = 3</span><br><span class=\"line\">innodb_max_dirty_pages_pct = 90</span><br><span class=\"line\">innodb_lock_wait_timeout = 120</span><br><span class=\"line\">innodb_file_per_table = on</span><br><span class=\"line\">[mysqldump]</span><br><span class=\"line\">quick max_allowed_packet = 32M</span><br><span class=\"line\">[mysql]</span><br><span class=\"line\">no-auto-rehash</span><br><span class=\"line\">default-character-set=utf8</span><br><span class=\"line\">safe-updates</span><br><span class=\"line\">[myisamchk]</span><br><span class=\"line\">key_buffer = 16M</span><br><span class=\"line\">sort_buffer_size = 16M</span><br><span class=\"line\">read_buffer = 8M</span><br><span class=\"line\">write_buffer = 8M</span><br><span class=\"line\">[mysqlhotcopy]</span><br><span class=\"line\">interactive-timeout</span><br><span class=\"line\">[mysqld_safe]</span><br><span class=\"line\">open-files-limit = 8192</span><br><span class=\"line\">[client]</span><br><span class=\"line\">port = 3306</span><br><span class=\"line\">socket = /usr/local/mysql/mysqld/mysql.sock</span><br><span class=\"line\">default-character-set = utf8</span><br></pre></td></tr></table></figure>\n<h1 id=\"åˆ›å»ºæ–‡ä»¶å¤¹\"><a href=\"#åˆ›å»ºæ–‡ä»¶å¤¹\" class=\"headerlink\" title=\"åˆ›å»ºæ–‡ä»¶å¤¹\"></a>åˆ›å»ºæ–‡ä»¶å¤¹</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ mkdir -p /usr/local/mysql/data</span><br><span class=\"line\">$ chown -R mysql:mysql /usr/local/mysql/data</span><br><span class=\"line\">$ chmod -R 755 /usr/local/mysql/data $ mkdir -p /usr/local/mysql/mysqld</span><br><span class=\"line\">$ chown -R mysql:mysql /usr/local/mysql/mysqld</span><br><span class=\"line\">$ chmod -R 755 /usr/local/mysql/mysqld</span><br></pre></td></tr></table></figure>\n<h1 id=\"åˆå§‹åŒ–æ•°æ®åº“\"><a href=\"#åˆå§‹åŒ–æ•°æ®åº“\" class=\"headerlink\" title=\"åˆå§‹åŒ–æ•°æ®åº“\"></a>åˆå§‹åŒ–æ•°æ®åº“</h1><p>è¿›å…¥åˆ°/usr/local/mysql/bin ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ./mysqld --user=mysql --basedir=/usr/local/mysql--datadir=/usr/local/mysql/data --initialize</span><br></pre></td></tr></table></figure>\n<p>æ‰§è¡Œç»“æŸåä¼šæœ‰ä¸€ä¸ªä¸´æ—¶å¯†ç è®°å…¥ä¸‹æ¥<br>A temporary password is generated for root@localhost: dsuIeduSe5&gt;E</p>\n<p>æ–¹ä¾¿ç­‰ä¸‹ç™»å½• æ¯”å¦‚ dsuIeduSe5 å°±æ˜¯æˆ‘çš„ä¸´æ—¶å¯†ç </p>\n<h1 id=\"åˆ›å»ºè½¯é“¾æ¥å¹¶é…ç½®ç¯å¢ƒå˜é‡\"><a href=\"#åˆ›å»ºè½¯é“¾æ¥å¹¶é…ç½®ç¯å¢ƒå˜é‡\" class=\"headerlink\" title=\"åˆ›å»ºè½¯é“¾æ¥å¹¶é…ç½®ç¯å¢ƒå˜é‡\"></a>åˆ›å»ºè½¯é“¾æ¥å¹¶é…ç½®ç¯å¢ƒå˜é‡</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> $ln -fs /usr/local/mysql/bin/mysql</span><br><span class=\"line\">/usr/local/bin/mysql $ cp /usr/local/mysql/support-files/mysql.server</span><br><span class=\"line\">/etc/init.d/mysqld</span><br></pre></td></tr></table></figure>\n<p>æ‰“å¼€ vim /etc/profile æ–‡ä»¶å¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">MYSQL_HOME= /usr/local/mysq/bin PATH=$MYSQL_HOME/bin:$PATH export</span><br><span class=\"line\">MYSQL_HOME</span><br></pre></td></tr></table></figure></p>\n<h1 id=\"å¯ç”¨Mysql\"><a href=\"#å¯ç”¨Mysql\" class=\"headerlink\" title=\"å¯ç”¨Mysql\"></a>å¯ç”¨Mysql</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/etc/init.d/mysqld start æˆ– service mysql start</span><br></pre></td></tr></table></figure>\n<h1 id=\"ç™»å½•mysql\"><a href=\"#ç™»å½•mysql\" class=\"headerlink\" title=\"ç™»å½•mysql\"></a>ç™»å½•mysql</h1><pre><code>mysql -uroot -p  å›è½¦\n\nè¾“å…¥ä¸Šè¿°çš„ä¸´æ—¶å¯†ç \n\nç™»å…¥æˆåŠŸåå‡ºç°ä»¥ä¸‹å†…å®¹åˆ™è¡¨ç¤ºæˆåŠŸï¼š\n</code></pre><p>   <img src=\"https://img.mupaie.com/mysql.png\" alt=\"useraddå‘½ä»¤\"></p>\n<h1 id=\"å®‰è£…è¿‡ç¨‹ä¸‹å¦‚æœå‡ºç°ä»¥ä¸‹é—®é¢˜\"><a href=\"#å®‰è£…è¿‡ç¨‹ä¸‹å¦‚æœå‡ºç°ä»¥ä¸‹é—®é¢˜\" class=\"headerlink\" title=\"å®‰è£…è¿‡ç¨‹ä¸‹å¦‚æœå‡ºç°ä»¥ä¸‹é—®é¢˜\"></a>å®‰è£…è¿‡ç¨‹ä¸‹å¦‚æœå‡ºç°ä»¥ä¸‹é—®é¢˜</h1><ul>\n<li><p>é—®é¢˜1ï¼š<br>å¯åŠ¨ mysql çš„æ—¶å€™å‡ºç°<br>Canâ€™t connect to local MySQL server through socket â€˜/var/lib/mysql/mysql.sockâ€™<br>è§£å†³æ–¹æ³•ï¼šæŸ¥çœ‹mysql.sockç›®å½•mysqlç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®ï¼Œå¦‚æœæ²¡æœ‰æƒé™åˆ™èµ‹æƒ</p>\n</li>\n<li><p>é—®é¢˜2ï¼š<br>å¯åŠ¨ mysql çš„æ—¶å€™å‡ºç°<br>Starting MySQLâ€¦[ERROR] The server quit without updating PID file (/usr/local/mysql/data/mysqld.pid).<br>è§£å†³ï¼š</p>\n</li>\n</ul>\n<ol>\n<li>æŸ¥çœ‹è¯¥ç›®å½•æ˜¯å¦æœ‰æƒé™</li>\n<li>æŸ¥çœ‹ mysqldè¿›ç¨‹æ˜¯å¦å­˜åœ¨</li>\n<li>å»mysqlçš„æ•°æ®ç›®å½•/dataçœ‹çœ‹ï¼Œå¦‚æœå­˜åœ¨mysql-bin.indexï¼Œå°±èµ¶å¿«æŠŠå®ƒåˆ é™¤æ‰å§ï¼Œå®ƒå°±æ˜¯ç½ªé­ç¥¸é¦–äº†</li>\n<li>[mysqld]ä¸‹æŒ‡å®šæ•°æ®ç›®å½•(datadir) /usr/local/mysql/data </li>\n</ol>\n<ul>\n<li>é—®é¢˜3ï¼š</li>\n</ul>\n<ol start=\"5\">\n<li>å¿˜è®°ä¸´æ—¶å¯†ç <br>ä¸Šè¿°æ‰§è¡Œmysqldå‘½ä»¤ä¼šç”Ÿæˆå¯¹åº”çš„æ—¥å¿—æ–‡ä»¶ï¼Œç›®å½•/var/log/mysqld.log æ‰§è¡Œ grep<br>â€˜temporary passwordâ€™ /var/log/mysqld.log æŸ¥çœ‹ä¸´æ—¶å¯†ç <br>å¦‚æœæ—¥å¿—ä¸­æŸ¥ä¸åˆ°å¯†ç ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š è¿›å…¥/usr/local/mysql/bin<br>ç›®å½•ï¼Œæ“ä½œå‰å…ˆå…³é—­mysqlæœåŠ¡ æ‰§è¡Œ mysqld_safe â€“skip-grant-tables<br>â€“user=mysql &amp;</li>\n</ol>\n<p>æ‰§è¡Œ mysql å‘½ä»¤ è¿›å…¥mysql<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">use mysql; update user set authentication_string=password(&quot;æ–°å¯†ç &quot;) where user=&apos;root&apos;;</span><br></pre></td></tr></table></figure></p>\n<p>æ‰§è¡Œè¿™æ®µsqlå¯èƒ½ä¼šå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Error Code: 1175. You are using safe update mode and you tried to</span><br><span class=\"line\">update a table without a WHERE that uses a KEY column To disable safe</span><br><span class=\"line\">mode, toggle the option in Preferences -&gt; SQL Queries and reconnect.</span><br></pre></td></tr></table></figure></p>\n<p>ç”±äºå®‰å…¨æ¨¡å¼ä¸‹æ›´æ–°è¯­å¥æ¡ä»¶å¿…é¡»æ˜¯ä¸»é”® å…³é—­å®‰å…¨æ¨¡å¼ï¼š<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SET SQL_SAFE_UPDATES = 0;</span><br></pre></td></tr></table></figure></p>\n<p>ä¿®æ”¹ä¸‹æ•°æ®åº“æ¨¡å¼ ç»§ç»­æ‰§è¡Œä¸Šè¿°sql</p>\n<ul>\n<li>é—®é¢˜4ï¼š è¿œç¨‹è®¿é—®æ•°æ®åº“ update user set host = â€˜%â€™ where user=â€™rootâ€™;<br>è®©rootç”¨æˆ·å¯ä»¥è¿œç¨‹ç™»å½•ï¼Œä½†æ˜¯è¿™æ ·åšæœ‰é£é™©ä¸å»ºè®®ä½¿ç”¨</li>\n</ul>\n<p>å‚è€ƒæ–‡æ¡£:</p>\n<p><a href=\"https://www.jianshu.com/p/82790b6b4e08\" target=\"_blank\" rel=\"noopener\">å®‰è£…ï¼šMySQL mysql-5.7.19-linux-glibc2.12-x86_64.tar.gz</a></p>\n<p><a href=\"https://www.cnblogs.com/xuancaoyy/p/5814658.html\" target=\"_blank\" rel=\"noopener\">ã€MySQLç¬”è®°ã€‘è§£é™¤è¾“å…¥çš„å®‰å…¨æ¨¡å¼</a></p>"}],"PostAsset":[],"PostCategory":[],"PostTag":[{"post_id":"ck8mkcttq00004osxqgnfq3da","tag_id":"ck8mkcttx00034osxbs8awf2y","_id":"ck8mkctu300084osx7i9qa62r"},{"post_id":"ck8mkcttv00024osx32wfm9v4","tag_id":"ck8mkcttx00034osxbs8awf2y","_id":"ck8mkctu6000c4osxszaz8b6u"},{"post_id":"ck8mkcttz00044osx3l9fw33g","tag_id":"ck8mkctu6000b4osx4pqim812","_id":"ck8mkctug000k4osxnnuoey0e"},{"post_id":"ck8mkcttz00044osx3l9fw33g","tag_id":"ck8mkctub000f4osxee8s2xoj","_id":"ck8mkctuh000m4osxo124uh5t"},{"post_id":"ck8mkctu000054osxam7epwq9","tag_id":"ck8mkcttx00034osxbs8awf2y","_id":"ck8mkctuj000p4osx6ompdigc"},{"post_id":"ck8mkctu000054osxam7epwq9","tag_id":"ck8mkctue000i4osxbkqn3qoj","_id":"ck8mkctuk000r4osxt303r5s0"},{"post_id":"ck8mkctum000u4osx7pi9g7by","tag_id":"ck8mkcttx00034osxbs8awf2y","_id":"ck8mkctuo000x4osx5eaegdca"},{"post_id":"ck8mkctu5000a4osxbkje9g54","tag_id":"ck8mkctuh000n4osxxsb8oljb","_id":"ck8mkctuq000z4osxinbl96bp"},{"post_id":"ck8mkctu5000a4osxbkje9g54","tag_id":"ck8mkctul000t4osx0zwzl392","_id":"ck8mkctut00124osxclzzmoy1"},{"post_id":"ck8mkctu7000d4osx99yl6bdt","tag_id":"ck8mkctuo000w4osxn3gp4615","_id":"ck8mkctuv00144osxcixvwzxn"},{"post_id":"ck8mkctu8000e4osx72vr3jfp","tag_id":"ck8mkctut00114osxzrrbf8b3","_id":"ck8mkctv0001b4osxh5u4ptks"},{"post_id":"ck8mkctu8000e4osx72vr3jfp","tag_id":"ck8mkctuh000n4osxxsb8oljb","_id":"ck8mkctv2001d4osxvn6m439q"},{"post_id":"ck8mkctub000g4osxogiqqu65","tag_id":"ck8mkctuz00194osxiz6kzfw6","_id":"ck8mkctv4001h4osxfjtdfac5"},{"post_id":"ck8mkctub000g4osxogiqqu65","tag_id":"ck8mkctv3001f4osxtq3c3i3k","_id":"ck8mkctv4001i4osx2qv1mhqe"},{"post_id":"ck8mkctuc000h4osx0jq5j09i","tag_id":"ck8mkctv3001g4osxa0zcasmt","_id":"ck8mkctv5001l4osxqzyddwrj"},{"post_id":"ck8mkctuc000h4osx0jq5j09i","tag_id":"ck8mkctv4001j4osxde1cvz64","_id":"ck8mkctv5001m4osxevl2llow"},{"post_id":"ck8mkctuf000j4osxx6otzbl8","tag_id":"ck8mkcttx00034osxbs8awf2y","_id":"ck8mkctv6001o4osx32n38owo"},{"post_id":"ck8mkctuf000j4osxx6otzbl8","tag_id":"ck8mkctv4001k4osxd9q7ytyp","_id":"ck8mkctv6001p4osxw108sonw"},{"post_id":"ck8mkctug000l4osx1ethd54x","tag_id":"ck8mkctv5001n4osx40eo5nkj","_id":"ck8mkctv7001t4osxyyylxdpe"},{"post_id":"ck8mkctug000l4osx1ethd54x","tag_id":"ck8mkctv6001q4osx2u00wp6r","_id":"ck8mkctv7001u4osxyfnqr2sm"},{"post_id":"ck8mkctug000l4osx1ethd54x","tag_id":"ck8mkctv6001r4osxeqksd1av","_id":"ck8mkctv8001w4osxyox5b97j"},{"post_id":"ck8mkctun000v4osx3d5xssp3","tag_id":"ck8mkctv7001s4osx0dwtoawi","_id":"ck8mkctv8001x4osx9tnywrnx"},{"post_id":"ck8mkctuo000y4osxe3ttfkt1","tag_id":"ck8mkctv8001v4osx42lhq4u1","_id":"ck8mkctv9001z4osxs3o7amqf"},{"post_id":"ck8mkctuq00104osxlsnw1z47","tag_id":"ck8mkctv8001v4osx42lhq4u1","_id":"ck8mkctv900214osxekaf6udb"},{"post_id":"ck8mkctuu00134osx890c50k2","tag_id":"ck8mkctv900204osx3kqxpg7w","_id":"ck8mkctva00244osxa8rjfphc"},{"post_id":"ck8mkctuu00134osx890c50k2","tag_id":"ck8mkctva00224osxwzn4ian6","_id":"ck8mkctvb00254osxrp22s5rf"},{"post_id":"ck8mkctux00174osxpxx51gmc","tag_id":"ck8mkctva00234osxiv2xgmho","_id":"ck8mkctvb00274osxg11g8c2k"},{"post_id":"ck8mkctuy00184osxij0d9u1v","tag_id":"ck8mkctvb00264osxuq3jmeg9","_id":"ck8mkctvc00294osx6hyyup7u"},{"post_id":"ck8mkctuz001a4osx6gqifuid","tag_id":"ck8mkctv6001q4osx2u00wp6r","_id":"ck8mkctvd002b4osxdh70mkm9"},{"post_id":"ck8mkctv1001c4osxi3zkuqic","tag_id":"ck8mkctvc002a4osxkygkr9m6","_id":"ck8mkctvd002d4osxbnrr4w2z"},{"post_id":"ck8mkctv1001c4osxi3zkuqic","tag_id":"ck8mkctvd002c4osxw31714u4","_id":"ck8mkctve002e4osxfgsspmth"},{"post_id":"ck8mkctvi002i4osxy9eqmok6","tag_id":"ck8mkctvk002k4osx08cyia8i","_id":"ck8mkctvl002m4osxx943kr76"},{"post_id":"ck8mkctvj002j4osxs0fxm663","tag_id":"ck8mkctvk002l4osxbqzeyb2e","_id":"ck8mkctvl002n4osxmn685rsz"},{"post_id":"ck8mkctvm002o4osxo5kora9p","tag_id":"ck8mkctvn002p4osxzeuhfc04","_id":"ck8mkctvn002q4osx7evd0ad5"}],"Tag":[{"name":"JAVA","_id":"ck8mkcttx00034osxbs8awf2y"},{"name":"java","_id":"ck8mkctu6000b4osx4pqim812"},{"name":"åŠ¨æ€ä»£ç†","_id":"ck8mkctub000f4osxee8s2xoj"},{"name":"Lambda è¡¨è¾¾å¼","_id":"ck8mkctue000i4osxbkqn3qoj"},{"name":"http","_id":"ck8mkctuh000n4osxxsb8oljb"},{"name":"ç½‘ç»œå®‰å…¨","_id":"ck8mkctul000t4osx0zwzl392"},{"name":"dubbo","_id":"ck8mkctuo000w4osxn3gp4615"},{"name":"markdown","_id":"ck8mkctut00114osxzrrbf8b3"},{"name":"springMvc","_id":"ck8mkctuz00194osxiz6kzfw6"},{"name":"å­—ç¬¦ç¼–ç ","_id":"ck8mkctv3001f4osxtq3c3i3k"},{"name":"JavaScript","_id":"ck8mkctv3001g4osxa0zcasmt"},{"name":"æµè§ˆå™¨å…¼å®¹æ€§","_id":"ck8mkctv4001j4osxde1cvz64"},{"name":"åå°„æœºåˆ¶","_id":"ck8mkctv4001k4osxd9q7ytyp"},{"name":"github","_id":"ck8mkctv5001n4osx40eo5nkj"},{"name":"linux","_id":"ck8mkctv6001q4osx2u00wp6r"},{"name":"CentOS","_id":"ck8mkctv6001r4osxeqksd1av"},{"name":"mybatis","_id":"ck8mkctv7001s4osx0dwtoawi"},{"name":"spring","_id":"ck8mkctv8001v4osx42lhq4u1"},{"name":"å¤šçº¿ç¨‹","_id":"ck8mkctv900204osx3kqxpg7w"},{"name":"å¹¶å‘","_id":"ck8mkctva00224osxwzn4ian6"},{"name":"HTML","_id":"ck8mkctva00234osxiv2xgmho"},{"name":"JVM","_id":"ck8mkctvb00264osxuq3jmeg9"},{"name":"ç¡¬ä»¶","_id":"ck8mkctvc002a4osxkygkr9m6"},{"name":"å†…å­˜","_id":"ck8mkctvd002c4osxw31714u4"},{"name":"JAVA 8","_id":"ck8mkctvk002k4osx08cyia8i"},{"name":"å·¥å…·","_id":"ck8mkctvk002l4osxbqzeyb2e"},{"name":"mysql","_id":"ck8mkctvn002p4osxzeuhfc04"}]}}